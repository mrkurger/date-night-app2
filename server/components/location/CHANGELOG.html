<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Location Component CHANGELOG</title>
  <link rel="stylesheet" href="../../styles/docs.css">
</head>
<body>
  <div class="container">
    <aside class="navigation">
      <nav>
        <ul>
          <li><a href="../../_docs_index.html">Documentation Index</a></li>
          <li><a href="./GLOSSARY.html">Glossary</a></li>
          <li><a href="./AILESSONS.html">AI Lessons</a></li>
        </ul>
      </nav>
    </aside>
    
    <article class="content">
      <h1>Changelog: Location Component</h1>
      
      <p>This file tracks changes to the Location component/module.</p>
      
      <h2>Unreleased</h2>
      
      <h3>Added</h3>
      <ul>
        <li>Added Zod validation schemas for location operations:
          <ul>
            <li>Location base schema with nested object support</li>
            <li>Search query validation with string and limit constraints</li>
            <li>Nearby query validation with coordinate bounds</li>
            <li>Parameter validation for route URLs</li>
          </ul>
        </li>
        <li>Added type-safe validation middleware integration</li>
        <li>Added coordinate bounds validation</li>
        <li>Added validation examples to documentation</li>
      </ul>
      
      <h3>Changed</h3>
      <ul>
        <li>Migrated from express-validator to Zod for type-safe validation</li>
        <li>Updated all route handlers to use new validation system</li>
        <li>Improved error messages with more specific validation feedback</li>
        <li>Enhanced coordinate validation with proper bounds checking</li>
      </ul>
      
      <h3>Security</h3>
      <ul>
        <li>Enhanced input validation across all endpoints</li>
        <li>Added strict type checking for coordinates</li>
        <li>Added parameter sanitization</li>
      </ul>
      
      <h3>Examples</h3>
      <h4>Location Schema Example</h4>
      <pre><code>
{
  "city": "Oslo",
  "county": "Oslo",
  "country": "Norway",
  "coordinates": [10.7522, 59.9139],
  "source": "manual",
  "population": 693494,
  "timezone": "Europe/Oslo",
  "postalCodes": ["0001", "0010"]
}
      </code></pre>
      
      <h4>Search Request Example</h4>
      <pre><code>
GET /api/v1/locations/search?query=Oslo&limit=5
      </code></pre>
      
      <h4>Nearby Request Example</h4>
      <pre><code>
GET /api/v1/locations/nearby?longitude=10.7522&latitude=59.9139&maxDistance=5000
      </code></pre>
    </article>
  </div>
</body>
</html>
