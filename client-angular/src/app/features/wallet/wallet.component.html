<div class="wallet-container">
  <p-card>
    <ng-template pTemplate="header">
      <h3><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>My Wallet</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></h3>
    </ng-template>

    <div class="balance-section">
      <h4><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>Current Balance</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></h4>
      <div class="balance-amount"><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>{{ formatCurrency(balance) }}</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></div>
      <div class="action-buttons">
        <p-button
          icon="pi pi-plus" i18n-icon
          label="Deposit" i18n-label
          severity="success" i18n-severity
          (onClick)="openDepositDialog()"
        ></p-button>
        <p-button
          icon="pi pi-arrow-up" i18n-icon
          label="Withdraw" i18n-label
          severity="info" i18n-severity
          (onClick)="openWithdrawDialog()"
        ></p-button>
        <p-button
          icon="pi pi-sync" i18n-icon
          label="Transfer" i18n-label
          severity="primary" i18n-severity
          (onClick)="openTransferDialog()"
        ></p-button>
      </div>
    </div>

    <div class="transactions-section">
      <h4><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>Recent Transactions</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></h4>
      <p-card *ngIf="transactions.length > 0">
        <p-listbox
          [options]="transactions"
          [listStyle]="{ 'max-height': '300px' }"
          styleClass="w-full" i18n-styleClass
        >
          <ng-template let-transaction pTemplate="item">
            <div
              class="transaction-item cursor-pointer"
              (click)="openTransactionDetails(transaction)"
            >
              <div class="transaction-icon">
                <i [class]="'pi ' + getTransactionTypeIconPrime(transaction.type)"></i>
              </div>
              <div class="transaction-details">
                <div class="transaction-type"><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>{{ transaction.type }}</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></div>
                <div class="transaction-date"><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>{{ formatDate(transaction.createdAt) }}</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></div>
              </div>
              <div class="transaction-amount">
                <ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>{{ formatCurrency(transaction.amount) }}
              </ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></div>
              <div class="transaction-status">
                <p-tag
                  [value]="transaction.status"
                  [severity]="getTransactionStatusClass(transaction.status)"
                ></p-tag>
              </div>
            </div>
          </ng-template>
        </p-listbox>
      </p-card>
      <p-card *ngIf="transactions.length === 0">
        <div class="empty-state">
          <i class="pi pi-credit-card text-6xl text-500"></i>
          <p><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>No transactions yet</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></p>
        </div>
      </p-card>
    </div>

    <div class="payment-methods-section">
      <div class="section-header">
        <h4><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>Payment Methods</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></h4>
        <p-button
          icon="pi pi-plus" i18n-icon
          label="Add New" i18n-label
          severity="secondary" i18n-severity
          size="small" i18n-size
          (onClick)="openAddPaymentMethodDialog()"
        ></p-button>
      </div>
      <p-card *ngIf="paymentMethods.length > 0">
        <p-listbox
          [options]="paymentMethods"
          [listStyle]="{ 'max-height': '300px' }"
          styleClass="w-full" i18n-styleClass
        >
          <ng-template let-method pTemplate="item">
            <div class="payment-method-item">
              <div class="payment-method-icon">
                <i [class]="'pi ' + getPaymentMethodIconPrime(method.type)"></i>
              </div>
              <div class="payment-method-details">
                <div class="payment-method-name"><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>{{ method.name }}</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></div>
                <div class="payment-method-info">
                  <span *ngIf="method.cardDetails"><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>•••• {{ method.cardDetails.last4 }}</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></span>
                </div>
              </div>
              <div class="payment-method-actions">
                <p-tag *ngIf="method.isDefault" value="Default" severity="success" i18n-severity></p-tag>
                <p-button
                  *ngIf="!method.isDefault"
                  label="Set Default" i18n-label
                  severity="secondary" i18n-severity
                  size="small" i18n-size
                  (onClick)="setDefaultPaymentMethod(method)"
                ></p-button>
                <p-button
                  icon="pi pi-trash" i18n-icon
                  severity="danger" i18n-severity
                  size="small" i18n-size
                  (onClick)="removePaymentMethod(method)"
                ></p-button>
              </div>
            </div>
          </ng-template>
        </p-listbox>
      </p-card>
      <p-card *ngIf="paymentMethods.length === 0">
        <div class="empty-state">
          <i class="pi pi-credit-card text-6xl text-500"></i>
          <p><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n><ng-container i18n>No payment methods added yet</ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></ng-container></p>
        </div>
      </p-card>
    </div>
  </p-card>
</div>
