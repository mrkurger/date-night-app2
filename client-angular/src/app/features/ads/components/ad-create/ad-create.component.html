<div class="ad-create-container">
  <p-card>
    <p-card-header >
      <h2>Create New Advertisement</h2>
    </ng-template>
    <p-card-body >
      <form [formGroup]="adForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <div class="p-field">
            <label for="title">Title</label>
            <input nbInput formControlName="title" placeholder="Enter title" />
            <div
              *ngIf="adForm.get('title')?.hasError('required') && adForm.get('title')?.touched"
              class="error-message"
            >
              Title is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="p-field">
            <label for="description">Description</label>
            <textarea
              nbInput
              formControlName="description"
              placeholder="Enter description"
              rows="4"
            ></textarea>
            <div
              *ngIf="
                adForm.get('description')?.hasError('required') &&
                adForm.get('description')?.touched
              "
              class="error-message"
            >
              Description is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="p-field">
            <label for="category">Category</label>
            <p-dropdown formControlName="category" placeholder="Select category" [options]="options" optionLabel="label" optionValue="value">
              <!-- TODO: Convert to options array: {{
                category
              }} -->
            </p-dropdown>
            <div
              *ngIf="
                adForm.get('category')?.hasError('required') && adForm.get('category')?.touched
              "
              class="error-message"
            >
              Category is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="p-field">
            <label for="price">Price</label>
            <input nbInput type="number" formControlName="price" placeholder="Enter price" />
            <div
              *ngIf="adForm.get('price')?.hasError('required') && adForm.get('price')?.touched"
              class="error-message"
            >
              Price is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="p-field">
            <label for="location">Location</label>
            <input nbInput formControlName="location" placeholder="Enter location" />
            <div
              *ngIf="
                adForm.get('location')?.hasError('required') && adForm.get('location')?.touched
              "
              class="error-message"
            >
              Location is required
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>Images</label>
          <div class="image-upload-container">
            <p-button label="Add Image" icon="pi pi-plus"></p-button>
            <div class="image-preview" *ngIf="imagePreviewUrl">
              <Image [src]="imagePreviewUrl" alt="Preview" />
              <p-button label="" icon="pi pi-trash"></p-button>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <p-button label="Create Advertisement" ></p-button>
          <p-button label="Cancel" ></p-button>
        </div>
      </form>
    </ng-template>
  </p-card>
</div>
