<div class="ad-form-container">
  <h2>{{ isEditMode ? 'Edit Advertisement' : 'Create New Advertisement' }}</h2>

  <div *ngIf="loading" class="loading-spinner">
    <p-progressSpinner status="primary" size="large" ></p-progressSpinner>
  </div>

  <p-card>
    <p-card-header >
      <h3>{{ isEditMode ? 'Edit' : 'Create' }} Advertisement</h3>
    </ng-template>
    <p-card-body >
      <form [formGroup]="adForm" (ngSubmit)="onSubmit()" *ngIf="!loading">
        <div class="form-group">
          <label for="title" class="label">Title</label>
          <div class="p-field">
            <input pInputText id="title" formControlName="title" placeholder="Enter title" />
            <nb-icon nbPrefix icon="edit-2-outline"></nb-icon>
            
              Title is required
            
            
              Title must be less than 100 characters
            
          </div>
        </div>

        <div class="form-group">
          <label for="description" class="label">Description</label>
          <div class="p-field">
            <textarea
              pInputText
              id="description"
              formControlName="description"
              placeholder="Enter description"
              rows="4"
            ></textarea>
            
              Description is required
            
            
              Description must be less than 1000 characters
            
          </div>
        </div>

        <div class="form-group">
          <label for="price" class="label">Price</label>
          <div class="p-field">
            <input
              pInputText
              type="number"
              id="price"
              formControlName="price"
              placeholder="Enter price"
            />
            <nb-icon nbPrefix icon="pricetags-outline"></nb-icon>
            
              Price is required
            
             Price must be greater than 0 
          </div>
        </div>

        <div class="form-group">
          <label for="location" class="label">Location</label>
          <div class="p-field">
            <p-dropdown
              fullWidth
              id="location"
              formControlName="location"
              placeholder="Select location"
             [options]="options" optionLabel="label" optionValue="value">
              <!-- TODO: Convert to options array: {{ county }} -->
            </p-dropdown>
            
              Location is required
            
          </div>
        </div>

        <div class="form-group">
          <label for="category" class="label">Category</label>
          <div class="p-field">
            <p-dropdown
              fullWidth
              id="category"
              formControlName="category"
              placeholder="Select category"
             [options]="options" optionLabel="label" optionValue="value">
              <!-- TODO: Convert to options array: 
                {{ category }}
               -->
            </p-dropdown>
            
              Category is required
            
          </div>
        </div>

        <div class="form-group">
          <label for="contactInfo" class="label">Contact Information</label>
          <div class="p-field">
            <input
              pInputText
              id="contactInfo"
              formControlName="contactInfo"
              placeholder="Enter contact information"
            />
            <nb-icon nbPrefix icon="phone-outline"></nb-icon>
            
              Contact information is required
            
          </div>
        </div>

        <div class="form-group">
          <p-checkbox formControlName="isActive" >Active</p-checkbox>
        </div>

        <div class="form-group">
          <p-checkbox formControlName="isTouring" >Touring</p-checkbox>
        </div>

        <div class="form-actions">
          <p-button label="{{ isEditMode ? 'Update' : 'Create' }} Advertisement" ></p-button>
        </div>
      </form>
    </ng-template>
  </p-card>
</div>
