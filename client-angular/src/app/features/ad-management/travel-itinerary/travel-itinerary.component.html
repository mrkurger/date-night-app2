<div class="travel-itinerary-container">
  <nb-card>
    <nb-card-header>
      <h2>Travel Itinerary</h2>
    </nb-card-header>
    <nb-card-body>
      <form [formGroup]="travelForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <nb-form-field>
            <label for="destination">Destination</label>
            <input nbInput formControlName="destination" placeholder="Enter destination" />
            <div
              *ngIf="
                travelForm.get('destination')?.hasError('required') &&
                travelForm.get('destination')?.touched
              "
              class="error-message"
            >
              Destination is required
            </div>
          </nb-form-field>
        </div>

        <div class="form-group">
          <nb-form-field>
            <label for="startDate">Start Date</label>
            <input
              nbInput
              formControlName="startDate"
              [nbDatepicker]="startDatePicker"
              placeholder="Select start date"
            />
            <nb-datepicker #startDatePicker></nb-datepicker>
            <div
              *ngIf="
                travelForm.get('startDate')?.hasError('required') &&
                travelForm.get('startDate')?.touched
              "
              class="error-message"
            >
              Start date is required
            </div>
          </nb-form-field>
        </div>

        <div class="form-group">
          <nb-form-field>
            <label for="endDate">End Date</label>
            <input
              nbInput
              formControlName="endDate"
              [nbDatepicker]="endDatePicker"
              placeholder="Select end date"
            />
            <nb-datepicker #endDatePicker></nb-datepicker>
            <div
              *ngIf="
                travelForm.get('endDate')?.hasError('required') &&
                travelForm.get('endDate')?.touched
              "
              class="error-message"
            >
              End date is required
            </div>
          </nb-form-field>
        </div>

        <div class="form-group">
          <nb-form-field>
            <label for="travelers">Number of Travelers</label>
            <input
              nbInput
              type="number"
              formControlName="travelers"
              placeholder="Enter number of travelers"
            />
            <div
              *ngIf="
                travelForm.get('travelers')?.hasError('required') &&
                travelForm.get('travelers')?.touched
              "
              class="error-message"
            >
              Number of travelers is required
            </div>
          </nb-form-field>
        </div>

        <div class="form-group">
          <nb-form-field>
            <label for="budget">Budget</label>
            <input nbInput type="number" formControlName="budget" placeholder="Enter budget" />
          </nb-form-field>
        </div>

        <div class="form-actions">
          <button nbButton status="primary" [disabled]="travelForm.invalid" type="submit">
            Save Itinerary
          </button>
          <button nbButton status="basic" type="button" (click)="onCancel()">Cancel</button>
        </div>
      </form>

      <!-- Map Component -->
      <div class="map-container" *ngIf="showMap">
        <h3>Destination Map</h3>
        <app-map [latitude]="mapLatitude" [longitude]="mapLongitude" [zoom]="mapZoom"></app-map>
      </div>
    </nb-card-body>
  </nb-card>
</div>
