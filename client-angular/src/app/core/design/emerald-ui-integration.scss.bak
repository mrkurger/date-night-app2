/**
 * Emerald UI Integration Stylesheet
 * 
 * This file integrates the emerald-ui library with the DateNight.io design system.
 * It overrides emerald-ui default styles to match our design tokens and styling guidelines.
 */

@use 'sass:map';
@use 'emerald-tokens' as tokens;

// Import emerald-ui base styles
// Using @import for CSS files since @use can't be used with .css files

// Override emerald-ui variables with our design tokens
:root {
  // Colors
  --eui-primary: #{var(--color-primary)};
  --eui-primary-light: #{var(--color-primary-light)};
  --eui-primary-dark: #{var(--color-primary-dark)};

  --eui-secondary: #{var(--color-secondary)};
  --eui-secondary-light: #{var(--color-secondary-light)};
  --eui-secondary-dark: #{var(--color-secondary-dark)};

  // Neutral colors
  --eui-white: #{var(--color-white)};
  --eui-light-gray: #{var(--color-light-gray-1)};
  --eui-medium-gray: #{var(--color-medium-gray-1)};
  --eui-dark-gray: #{var(--color-dark-gray-2)};

  // Semantic colors
  --eui-success: #{var(--color-success)};
  --eui-warning: #{var(--color-warning)};
  --eui-error: #{var(--color-error)};
  --eui-info: #{var(--color-info)};

  // Typography
  --eui-font-family: #{var(--font-family-base)};
  --eui-font-family-heading: #{var(--font-family-heading)};

  // Spacing
  --eui-spacing-xs: #{0.25rem};
  --eui-spacing-sm: #{0.5rem};
  --eui-spacing-md: #{1rem};
  --eui-spacing-lg: #{1.5rem};
  --eui-spacing-xl: #{var(--spacing-8)};

  // Border radius
  --eui-border-radius-sm: #{var(--border-radius-sm)};
  --eui-border-radius-md: #{var(--border-radius-md)};
  --eui-border-radius-lg: #{var(--border-radius-lg)};

  // Shadows
  --eui-shadow-sm: #{var(--shadow-sm)};
  --eui-shadow-md: #{var(--shadow-md)};
  --eui-shadow-lg: #{var(--shadow-lg)};

  // Transitions
  --eui-transition-fast: #{var(--transition-fast)};
  --eui-transition-normal: #{var(--transition-normal)};
  --eui-transition-slow: #{var(--transition-slow)};
}

// Button overrides
.eui-btn {
  font-family: var(--font-family-base);
  font-weight: var(--font-weight-semibold);
  border-radius: var(--border-radius-md);
  transition: all var(--transition-normal) var(--transition-timing-default);

  &.eui-btn-primary {
    background-color: var(--color-primary);
    border-color: var(--color-primary);

    &:hover,
    &:focus {
      background-color: var(--color-primary-dark);
      border-color: var(--color-primary-dark);
    }
  }

  &.eui-btn-secondary {
    background-color: var(--color-secondary);
    border-color: var(--color-secondary);

    &:hover,
    &:focus {
      background-color: var(--color-secondary-dark);
      border-color: var(--color-secondary-dark);
    }
  }

  &.eui-btn-outline-primary {
    color: var(--color-primary);
    border-color: var(--color-primary);

    &:hover,
    &:focus {
      background-color: var(--color-primary);
      color: var(--color-white);
    }
  }

  &.eui-btn-sm {
    height: var(--button-height-sm);
    padding: 0 var(--button-padding-sm);
    font-size: var(--font-size-sm);
  }

  &.eui-btn-md {
    height: var(--button-height-md);
    padding: 0 var(--button-padding-md);
    font-size: var(--font-size-base);
  }

  &.eui-btn-lg {
    height: var(--button-height-lg);
    padding: 0 var(--button-padding-lg);
    font-size: var(--font-size-lg);
  }
}

// Card overrides
.eui-card {
  border-radius: var(--border-radius-md);
  box-shadow: var(--shadow-sm);
  border: none;

  .eui-card-header {
    font-family: var(--font-family-heading);
    font-weight: var(--font-weight-semibold);
    padding: 1rem;
    border-bottom: 1px solid var(--color-light-gray-2);
  }

  .eui-card-body {
    padding: 1rem;
  }

  .eui-card-footer {
    padding: 1rem;
    border-top: 1px solid var(--color-light-gray-2);
  }
}

// Form controls
.eui-form-control {
  font-family: var(--font-family-base);
  border-radius: var(--border-radius-md);
  border: 1px solid var(--color-medium-gray-1);
  padding: 0.75rem;
  height: var(--input-height-md);

  &:focus {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-focus);
  }
}

// Dropdown
.eui-dropdown-menu {
  border-radius: var(--border-radius-md);
  box-shadow: var(--shadow-md);
  border: none;

  .eui-dropdown-item {
    font-family: var(--font-family-base);
    padding: 0.5rem 1rem;

    &:hover,
    &:focus {
      background-color: var(--color-light-gray-1);
      color: var(--color-primary);
    }

    &.active {
      background-color: var(--color-primary);
      color: var(--color-white);
    }
  }
}

// Modal
.eui-modal {
  .eui-modal-content {
    border-radius: var(--border-radius-lg);
    border: none;
    box-shadow: var(--shadow-lg);
  }

  .eui-modal-header {
    border-bottom: 1px solid var(--color-light-gray-2);
    padding: 1rem;

    .eui-modal-title {
      font-family: var(--font-family-heading);
      font-weight: var(--font-weight-semibold);
    }
  }

  .eui-modal-body {
    padding: 1rem;
  }

  .eui-modal-footer {
    border-top: 1px solid var(--color-light-gray-2);
    padding: 1rem;
  }
}

// Alerts
.eui-alert {
  border-radius: var(--border-radius-md);
  padding: 0.75rem 1rem;

  &.eui-alert-primary {
    background-color: rgba(var(--color-primary), 0.1);
    color: var(--color-primary-dark);
  }

  &.eui-alert-success {
    background-color: rgba(var(--color-success), 0.1);
    color: var(--color-success);
  }

  &.eui-alert-warning {
    background-color: rgba(var(--color-warning), 0.1);
    color: var(--color-warning);
  }

  &.eui-alert-danger {
    background-color: rgba(var(--color-error), 0.1);
    color: var(--color-error);
  }

  &.eui-alert-info {
    background-color: rgba(var(--color-info), 0.1);
    color: var(--color-info);
  }
}

// Badges
.eui-badge {
  font-family: var(--font-family-base);
  font-weight: var(--font-weight-medium);
  border-radius: var(--border-radius-full);

  &.eui-badge-primary {
    background-color: var(--color-primary);
  }

  &.eui-badge-secondary {
    background-color: var(--color-secondary);
  }

  &.eui-badge-success {
    background-color: var(--color-success);
  }

  &.eui-badge-warning {
    background-color: var(--color-warning);
  }

  &.eui-badge-danger {
    background-color: var(--color-error);
  }

  &.eui-badge-info {
    background-color: var(--color-info);
  }
}

// Tables
.eui-table {
  font-family: var(--font-family-base);

  th {
    font-weight: var(--font-weight-semibold);
    border-bottom: 2px solid var(--color-light-gray-2);
  }

  td {
    border-top: 1px solid var(--color-light-gray-2);
  }

  &.eui-table-striped tbody tr:nth-of-type(odd) {
    background-color: var(--color-light-gray-1);
  }

  &.eui-table-hover tbody tr:hover {
    background-color: rgba(var(--color-primary), 0.05);
  }
}

// Pagination
.eui-pagination {
  .eui-page-item {
    .eui-page-link {
      border-radius: var(--border-radius-md);
      color: var(--color-dark-gray-2);

      &:hover {
        background-color: var(--color-light-gray-1);
        color: var(--color-primary);
      }
    }

    &.active .eui-page-link {
      background-color: var(--color-primary);
      border-color: var(--color-primary);
    }
  }
}

// Progress bars
.eui-progress {
  border-radius: var(--border-radius-full);
  height: 8px;

  .eui-progress-bar {
    background-color: var(--color-primary);
  }
}

// Tooltips
.eui-tooltip {
  font-family: var(--font-family-base);
  font-size: var(--font-size-sm);
  border-radius: var(--border-radius-md);
}

// Popovers
.eui-popover {
  border-radius: var(--border-radius-md);
  border: none;
  box-shadow: var(--shadow-md);

  .eui-popover-header {
    font-family: var(--font-family-heading);
    font-weight: var(--font-weight-semibold);
    border-bottom: 1px solid var(--color-light-gray-2);
  }
}
