<button
  [type]="type"
  [ngClass]="buttonClasses"
  [disabled]="disabled || loading"
  [attr.aria-label]="ariaLabel"
  [attr.aria-disabled]="disabled || loading"
  (click)="onClick($event)"
>
  @if (loading) {
    <!-- Spinner placeholder - to be styled like Emerald's spinner -->
    <span class="button__spinner-embed" aria-hidden="true">
      <!-- For now, a simple app-icon, ideally this becomes a CSS spinner or styled SVG -->
      <app-icon name="spinner-alt"></app-icon>
      <!-- Placeholder icon name -->
    </span>
  } @else {
    <!-- Left Icon -->
    @if (iconLeft) {
      <span class="button__icon button__icon--left" aria-hidden="true">
        <app-icon [name]="iconLeft"></app-icon>
      </span>
    }

    <!-- Button Text -->
    <span class="button__text">
      <ng-content></ng-content>
    </span>

    <!-- Right Icon -->
    @if (iconRight) {
      <span class="button__icon button__icon--right" aria-hidden="true">
        <app-icon [name]="iconRight"></app-icon>
      </span>
    }
  }
</button>
