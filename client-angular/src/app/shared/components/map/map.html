
      <!doctype html>
      <html lang="en">
        <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>Map - Date Night App</title>
          <link rel="stylesheet" href="/docs/component-library/styles/style.css" />
          <style>
            .tooltip {
              position: relative;
              display: inline-block;
              border-bottom: 1px dotted #333;
            }
            .tooltip .tooltip-text {
              visibility: hidden;
              width: 300px;
              background-color: #f8f9fa;
              color: #333;
              text-align: left;
              border-radius: 6px;
              padding: 10px;
              position: absolute;
              z-index: 1;
              bottom: 125%;
              left: 50%;
              margin-left: -150px;
              opacity: 0;
              transition: opacity 0.3s;
              box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            }
            .tooltip:hover .tooltip-text {
              visibility: visible;
              opacity: 1;
            }
            .function-link {
              color: #0366d6;
              text-decoration: none;
              font-family: monospace;
              background-color: #f6f8fa;
              padding: 2px 4px;
              border-radius: 3px;
            }
            .function-link:hover {
              text-decoration: underline;
            }
            code {
              font-family: monospace;
              background-color: #f6f8fa;
              padding: 2px 4px;
              border-radius: 3px;
            }
            pre {
              background-color: #f6f8fa;
              padding: 16px;
              border-radius: 6px;
              overflow: auto;
            }
          </style>
        </head>
        <body>
          <header>
            <div class="container">
              <h1>Date Night App Documentation</h1>
              <nav>
                <ul>
                  <li><a href="/_docs_index.html">Home</a></li>
                  <li><a href="/_glossary.html">Glossary</a></li>
                  <li><a href="index.html">map Index</a></li>
                </ul>
              </nav>
            </div>
          </header>
          <main class="container">
            <div class="page-content">
              
    <aside class="sidebar">
      <h3>Map</h3>
      <ul>
        <li><a href="./CHANGELOG.html">Changelog</a></li>
        <li><a href="./AILESSONS.html">AI Lessons</a></li>
        <li><a href="./GLOSSARY.html">Glossary</a></li>
        <li><a href="./map.html">Map</a></li>
      </ul>
  
    </aside>
  
              <article class="content">
                <h1>Map</h1>
                
      <section id="overview">
        <h2>Overview</h2>
        <p>A reusable, accessible map component for the Date Night App using Leaflet.</p>
<h2>Features</h2>
<ul>
<li>Interactive map display with customizable markers</li>
<li>Location selection functionality</li>
<li>Current location tracking</li>
<li>Keyboard navigation for accessibility</li>
<li>Screen reader support</li>
<li>Responsive design</li>
</ul>

      </section>
    

      <section id="usage">
        <h2>Usage</h2>
        <h2>Usage</h2>
<pre><code class="language-html">&lt;app-map
  [height]=&quot;&#39;400px&#39;&quot;
  [initialLatitude]=&quot;59.9139&quot;
  [initialLongitude]=&quot;10.7522&quot;
  [initialZoom]=&quot;10&quot;
  [selectable]=&quot;true&quot;
  [markers]=&quot;mapMarkers&quot;
  [showCurrentLocation]=&quot;true&quot;
  (locationSelected)=&quot;onLocationSelected($event)&quot;
  (markerClick)=&quot;onMarkerClick($event)&quot;
&gt;&lt;/app-map&gt;
</code></pre>
<h2>Inputs</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>height</code></td>
<td>string</td>
<td>&#39;400px&#39;</td>
<td>Height of the map container</td>
</tr>
<tr>
<td><code>initialLatitude</code></td>
<td>number</td>
<td>59.9139</td>
<td>Initial latitude for map center (Oslo, Norway)</td>
</tr>
<tr>
<td><code>initialLongitude</code></td>
<td>number</td>
<td>10.7522</td>
<td>Initial longitude for map center (Oslo, Norway)</td>
</tr>
<tr>
<td><code>initialZoom</code></td>
<td>number</td>
<td>6</td>
<td>Initial zoom level</td>
</tr>
<tr>
<td><code>markers</code></td>
<td>MapMarker[]</td>
<td>[]</td>
<td>Array of markers to display on the map</td>
</tr>
<tr>
<td><code>selectable</code></td>
<td>boolean</td>
<td>false</td>
<td>Whether the map allows location selection via clicking</td>
</tr>
<tr>
<td><code>showCurrentLocation</code></td>
<td>boolean</td>
<td>false</td>
<td>Whether to show the user&#39;s current location on the map</td>
</tr>
</tbody></table>
<h2>Outputs</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>markerClick</code></td>
<td>EventEmitter<MapMarker></td>
<td>Emitted when a marker is clicked</td>
</tr>
<tr>
<td><code>mapClick</code></td>
<td>EventEmitter&lt;{latitude: number; longitude: number}&gt;</td>
<td>Emitted when the map is clicked</td>
</tr>
<tr>
<td><code>locationSelected</code></td>
<td>EventEmitter&lt;{latitude: number; longitude: number; address?: string}&gt;</td>
<td>Emitted when a location is selected on the map</td>
</tr>
</tbody></table>

      </section>
    

      <section id="api">
        <h2>API Reference</h2>
        <h2>MapMarker Interface</h2>
<pre><code class="language-typescript">export interface MapMarker {
  id: string;
  latitude: number;
  longitude: number;
  title: string;
  description?: string;
  icon?: string;
  color?: string;
}
</code></pre>
<h2>Public Methods</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Parameters</th>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code><a href="./GLOSSARY.html#updateMarkers" class="function-link tooltip">updateMarkers<span class="tooltip-text">Update the markers on the map</span></a></code></td>
<td>markers: MapMarker[]</td>
<td>void</td>
<td>Update the markers on the map</td>
</tr>
<tr>
<td><code><a href="./GLOSSARY.html#setSelectedLocation" class="function-link tooltip">setSelectedLocation<span class="tooltip-text">Set the selected location on the map</span></a></code></td>
<td>latitude: number, longitude: number</td>
<td>void</td>
<td>Set the selected location on the map</td>
</tr>
<tr>
<td><code><a href="./GLOSSARY.html#centerMap" class="function-link tooltip">centerMap<span class="tooltip-text">Center the map on a specific location</span></a></code></td>
<td>latitude: number, longitude: number, zoom?: number</td>
<td>void</td>
<td>Center the map on a specific location</td>
</tr>
<tr>
<td><code><a href="./GLOSSARY.html#refreshMap" class="function-link tooltip">refreshMap<span class="tooltip-text">Refresh the map (useful when container size changes)</span></a></code></td>
<td>none</td>
<td>void</td>
<td>Refresh the map (useful when container size changes)</td>
</tr>
</tbody></table>
<h2>Accessibility Features</h2>
<p>The map component includes several accessibility features:</p>
<ol>
<li><p><strong>Keyboard Navigation</strong></p>
<ul>
<li>Tab to focus on the map</li>
<li>Enter to activate keyboard controls</li>
<li>Arrow keys to navigate the map</li>
<li>Space to select a location (when selectable is true)</li>
<li>Plus/minus to zoom in/out</li>
</ul>
</li>
<li><p><strong>Screen Reader Support</strong></p>
<ul>
<li>ARIA attributes for map elements</li>
<li>Screen reader announcements for important actions</li>
<li>Text alternatives for visual elements</li>
</ul>
</li>
<li><p><strong>Focus Management</strong></p>
<ul>
<li>Visual focus indicators</li>
<li>Logical tab order</li>
<li>Focus trapping when needed</li>
</ul>
</li>
<li><p><strong>Alternative Controls</strong></p>
<ul>
<li>Button controls for common actions</li>
<li>Text alternatives for map interactions</li>
</ul>
</li>
</ol>

      </section>
    

      <section id="examples">
        <h2>Examples</h2>
        <h2>Examples</h2>
<h3>Basic Map Display</h3>
<pre><code class="language-typescript">import { Component } from &#39;@angular/core&#39;;
import { MapComponent } from &#39;../../../shared/components/map/map.component&#39;;

@Component({
  selector: &#39;app-location-view&#39;,
  template: `
    &lt;app-map
      [height]=&quot;&#39;500px&#39;&quot;
      [initialLatitude]=&quot;59.9139&quot;
      [initialLongitude]=&quot;10.7522&quot;
      [initialZoom]=&quot;10&quot;
    &gt;&lt;/app-map&gt;
  `,
  standalone: true,
  imports: [MapComponent],
})
export class LocationViewComponent {}
</code></pre>
<h3>Interactive Map with Markers</h3>
<pre><code class="language-typescript">import { Component, OnInit } from &#39;@angular/core&#39;;
import { MapComponent, MapMarker } from &#39;../../../shared/components/map/map.component&#39;;

@Component({
  selector: &#39;app-location-selector&#39;,
  template: `
    &lt;app-map
      [height]=&quot;&#39;400px&#39;&quot;
      [initialLatitude]=&quot;59.9139&quot;
      [initialLongitude]=&quot;10.7522&quot;
      [initialZoom]=&quot;8&quot;
      [markers]=&quot;locations&quot;
      (markerClick)=&quot;onMarkerClick($event)&quot;
    &gt;&lt;/app-map&gt;
  `,
  standalone: true,
  imports: [MapComponent],
})
export class LocationSelectorComponent implements OnInit {
  locations: MapMarker[] = [];

  <a href="./GLOSSARY.html#ngOnInit" class="function-link tooltip">ngOnInit<span class="tooltip-text">Interface for map markers @property id - Unique identifier for the marker @property latitude - Latitude coordinate @property longitude - Longitude coordinate @property title - Title to display in popup @property description - Description to display in popup @property icon - Optional custom icon name (from assets/icons) @property color - Optional color for the marker (default: blue) / export interface MapMarker { id: string; latitude: number; longitude: number; title: string; description?: string; icon?: string; color?: string; } /** Reusable map component using Leaflet This component provides a flexible map interface with the following features: - Display interactive maps with markers - Allow location selection - Show current user location - Custom styling and configuration - Accessibility support</span></a>(): void {
    this.locations = [
      {
        id: &#39;1&#39;,
        latitude: 59.9139,
        longitude: 10.7522,
        title: &#39;Oslo&#39;,
        description: &#39;Capital of Norway&#39;,
        color: &#39;blue&#39;,
      },
      {
        id: &#39;2&#39;,
        latitude: 60.3913,
        longitude: 5.3221,
        title: &#39;Bergen&#39;,
        description: &#39;City on the west coast&#39;,
        color: &#39;green&#39;,
      },
    ];
  }

  onMarkerClick(marker: MapMarker): void {
    console.log(&#39;Marker clicked:&#39;, marker);
  }
}
</code></pre>
<h3>Location Selection</h3>
<pre><code class="language-typescript">import { Component } from &#39;@angular/core&#39;;
import { MapComponent } from &#39;../../../shared/components/map/map.component&#39;;

@Component({
  selector: &#39;app-location-picker&#39;,
  template: `
    &lt;app-map
      [height]=&quot;&#39;400px&#39;&quot;
      [initialLatitude]=&quot;59.9139&quot;
      [initialLongitude]=&quot;10.7522&quot;
      [initialZoom]=&quot;10&quot;
      [selectable]=&quot;true&quot;
      (locationSelected)=&quot;onLocationSelected($event)&quot;
    &gt;&lt;/app-map&gt;

    &lt;div *ngIf=&quot;selectedLocation&quot;&gt;
      &lt;p&gt;Selected Location:&lt;/p&gt;
      &lt;p&gt;Latitude: {{ selectedLocation.latitude | number: &#39;1.6-6&#39; }}&lt;/p&gt;
      &lt;p&gt;Longitude: {{ selectedLocation.longitude | number: &#39;1.6-6&#39; }}&lt;/p&gt;
      &lt;p *ngIf=&quot;selectedLocation.address&quot;&gt;Address: {{ selectedLocation.address }}&lt;/p&gt;
    &lt;/div&gt;
  `,
  standalone: true,
  imports: [MapComponent, CommonModule],
})
export class LocationPickerComponent {
  selectedLocation: {
    latitude: number;
    longitude: number;
    address?: string;
  } | null = null;

  onLocationSelected(location: { latitude: number; longitude: number; address?: string }): void {
    this.selectedLocation = location;
  }
}
</code></pre>
<h2>Dependencies</h2>
<ul>
<li>Leaflet (v1.9.4 or later)</li>
<li>Angular (v16 or later)</li>
</ul>
<h2>Browser Support</h2>
<ul>
<li>Chrome (latest)</li>
<li>Firefox (latest)</li>
<li>Safari (latest)</li>
<li>Edge (latest)</li>
<li>Mobile browsers (iOS Safari, Android Chrome)</li>
</ul>
<h2>Accessibility Compliance</h2>
<p>This component aims to meet WCAG 2.1 AA standards, including:</p>
<ul>
<li>1.3.1: Info and Relationships</li>
<li>1.4.3: Contrast (Minimum)</li>
<li>2.1.1: Keyboard</li>
<li>2.4.3: Focus Order</li>
<li>2.4.7: Focus Visible</li>
<li>4.1.2: Name, Role, Value</li>
</ul>

      </section>
    
              </article>
            </div>
          </main>
        </body>
      </html>
    