2025-04-16T15:22:36.7910353Z Current runner version: '2.323.0'
2025-04-16T15:22:36.7957025Z ##[group]Operating System
2025-04-16T15:22:36.7958301Z Ubuntu
2025-04-16T15:22:36.7959202Z 24.04.2
2025-04-16T15:22:36.7960041Z LTS
2025-04-16T15:22:36.7960764Z ##[endgroup]
2025-04-16T15:22:36.7961757Z ##[group]Runner Image
2025-04-16T15:22:36.7962791Z Image: ubuntu-24.04
2025-04-16T15:22:36.7963634Z Version: 20250413.1.0
2025-04-16T15:22:36.7965897Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250413.1/images/ubuntu/Ubuntu2404-Readme.md
2025-04-16T15:22:36.7968356Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250413.1
2025-04-16T15:22:36.7969851Z ##[endgroup]
2025-04-16T15:22:36.7971106Z ##[group]Runner Image Provisioner
2025-04-16T15:22:36.7972077Z 2.0.422.1
2025-04-16T15:22:36.7972807Z ##[endgroup]
2025-04-16T15:22:36.7974540Z ##[group]GITHUB_TOKEN Permissions
2025-04-16T15:22:36.7977556Z Actions: read
2025-04-16T15:22:36.7978353Z Contents: write
2025-04-16T15:22:36.7979464Z Metadata: read
2025-04-16T15:22:36.7980322Z ##[endgroup]
2025-04-16T15:22:36.7983617Z Secret source: Actions
2025-04-16T15:22:36.7985266Z Prepare workflow directory
2025-04-16T15:22:36.8745206Z Prepare all required actions
2025-04-16T15:22:36.8801707Z Getting action download info
2025-04-16T15:22:37.6228614Z ##[group]Download immutable action package 'actions/checkout@v4'
2025-04-16T15:22:37.6229700Z Version: 4.2.2
2025-04-16T15:22:37.6230711Z Digest: sha256:ccb2698953eaebd21c7bf6268a94f9c26518a7e38e27e0b83c1fe1ad049819b1
2025-04-16T15:22:37.6231840Z Source commit SHA: 11bd71901bbe5b1630ceea73d27597364c9af683
2025-04-16T15:22:37.6232613Z ##[endgroup]
2025-04-16T15:22:37.7122207Z ##[group]Download immutable action package 'actions/setup-node@v4'
2025-04-16T15:22:37.7123001Z Version: 4.4.0
2025-04-16T15:22:37.7123754Z Digest: sha256:9427cefe82346e992fb5b949e3569b39d537ae41aa3086483b14eceebfc16bc1
2025-04-16T15:22:37.7125003Z Source commit SHA: 49933ea5288caeca8642d1e84afbd3f7d6820020
2025-04-16T15:22:37.7125854Z ##[endgroup]
2025-04-16T15:22:38.1582071Z Complete job name: sync-error-logs
2025-04-16T15:22:38.2271522Z ##[group]Run actions/checkout@v4
2025-04-16T15:22:38.2272416Z with:
2025-04-16T15:22:38.2272819Z   fetch-depth: 0
2025-04-16T15:22:38.2273464Z   token: ***
2025-04-16T15:22:38.2273913Z   repository: mrkurger/date-night-app2
2025-04-16T15:22:38.2274447Z   ssh-strict: true
2025-04-16T15:22:38.2275266Z   ssh-user: git
2025-04-16T15:22:38.2275707Z   persist-credentials: true
2025-04-16T15:22:38.2276181Z   clean: true
2025-04-16T15:22:38.2276597Z   sparse-checkout-cone-mode: true
2025-04-16T15:22:38.2277113Z   fetch-tags: false
2025-04-16T15:22:38.2277543Z   show-progress: true
2025-04-16T15:22:38.2277970Z   lfs: false
2025-04-16T15:22:38.2278382Z   submodules: false
2025-04-16T15:22:38.2278818Z   set-safe-directory: true
2025-04-16T15:22:38.2279588Z env:
2025-04-16T15:22:38.2279966Z   CI: true
2025-04-16T15:22:38.2280347Z ##[endgroup]
2025-04-16T15:22:38.4184319Z Syncing repository: mrkurger/date-night-app2
2025-04-16T15:22:38.4187580Z ##[group]Getting Git version info
2025-04-16T15:22:38.4189001Z Working directory is '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:22:38.4192600Z [command]/usr/bin/git version
2025-04-16T15:22:38.4230658Z git version 2.49.0
2025-04-16T15:22:38.4263453Z ##[endgroup]
2025-04-16T15:22:38.4293788Z Temporarily overriding HOME='/home/runner/work/_temp/f5eadbd7-5faf-47ee-831b-7ae3a36296d7' before making global git config changes
2025-04-16T15:22:38.4300444Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:22:38.4303990Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:22:38.4340884Z Deleting the contents of '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:22:38.4346110Z ##[group]Initializing the repository
2025-04-16T15:22:38.4351697Z [command]/usr/bin/git init /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:22:38.4416356Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-04-16T15:22:38.4418525Z hint: is subject to change. To configure the initial branch name to use in all
2025-04-16T15:22:38.4421771Z hint: of your new repositories, which will suppress this warning, call:
2025-04-16T15:22:38.4423921Z hint:
2025-04-16T15:22:38.4425218Z hint: 	git config --global init.defaultBranch <name>
2025-04-16T15:22:38.4426429Z hint:
2025-04-16T15:22:38.4427550Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-04-16T15:22:38.4429438Z hint: 'development'. The just-created branch can be renamed via this command:
2025-04-16T15:22:38.4430879Z hint:
2025-04-16T15:22:38.4431586Z hint: 	git branch -m <name>
2025-04-16T15:22:38.4433570Z Initialized empty Git repository in /home/runner/work/date-night-app2/date-night-app2/.git/
2025-04-16T15:22:38.4439036Z [command]/usr/bin/git remote add origin https://github.com/mrkurger/date-night-app2
2025-04-16T15:22:38.4477769Z ##[endgroup]
2025-04-16T15:22:38.4479527Z ##[group]Disabling automatic garbage collection
2025-04-16T15:22:38.4481088Z [command]/usr/bin/git config --local gc.auto 0
2025-04-16T15:22:38.4515494Z ##[endgroup]
2025-04-16T15:22:38.4518405Z ##[group]Setting up auth
2025-04-16T15:22:38.4522801Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:22:38.4558713Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:22:38.4853778Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:22:38.4889721Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:22:38.5135616Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-04-16T15:22:38.5193406Z ##[endgroup]
2025-04-16T15:22:38.5196681Z ##[group]Fetching the repository
2025-04-16T15:22:38.5204445Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
2025-04-16T15:22:50.0352331Z From https://github.com/mrkurger/date-night-app2
2025-04-16T15:22:50.0354248Z  * [new branch]      dependabot/github_actions/dawidd6/action-download-artifact-9 -> origin/dependabot/github_actions/dawidd6/action-download-artifact-9
2025-04-16T15:22:50.0356255Z  * [new branch]      dependabot/npm_and_yarn/server/multi-94fa72f662 -> origin/dependabot/npm_and_yarn/server/multi-94fa72f662
2025-04-16T15:22:50.0357323Z  * [new branch]      main       -> origin/main
2025-04-16T15:22:50.0404525Z [command]/usr/bin/git branch --list --remote origin/main
2025-04-16T15:22:50.0440419Z   origin/main
2025-04-16T15:22:50.0455664Z [command]/usr/bin/git rev-parse refs/remotes/origin/main
2025-04-16T15:22:50.0482635Z eb698adacbd9ea5eee3d3f6f2b6d03026a1233b2
2025-04-16T15:22:50.0505886Z ##[endgroup]
2025-04-16T15:22:50.0507041Z ##[group]Determining the checkout info
2025-04-16T15:22:50.0508134Z ##[endgroup]
2025-04-16T15:22:50.0508845Z [command]/usr/bin/git sparse-checkout disable
2025-04-16T15:22:50.0563768Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-04-16T15:22:50.0617254Z ##[group]Checking out the ref
2025-04-16T15:22:50.0629765Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-04-16T15:22:50.4283940Z Switched to a new branch 'main'
2025-04-16T15:22:50.4296132Z branch 'main' set up to track 'origin/main'.
2025-04-16T15:22:50.4329033Z ##[endgroup]
2025-04-16T15:22:50.4398221Z [command]/usr/bin/git log -1 --format=%H
2025-04-16T15:22:50.4441480Z eb698adacbd9ea5eee3d3f6f2b6d03026a1233b2
2025-04-16T15:22:50.4686126Z ##[group]Run actions/setup-node@v4
2025-04-16T15:22:50.4686398Z with:
2025-04-16T15:22:50.4686858Z   node-version: 22.x
2025-04-16T15:22:50.4687054Z   always-auth: false
2025-04-16T15:22:50.4687238Z   check-latest: false
2025-04-16T15:22:50.4687562Z   token: ***
2025-04-16T15:22:50.4687724Z env:
2025-04-16T15:22:50.4687873Z   CI: true
2025-04-16T15:22:50.4688025Z ##[endgroup]
2025-04-16T15:22:50.6461831Z Found in cache @ /opt/hostedtoolcache/node/22.14.0/x64
2025-04-16T15:22:50.6466157Z ##[group]Environment details
2025-04-16T15:22:52.7927064Z node: v22.14.0
2025-04-16T15:22:52.7927924Z npm: 10.9.2
2025-04-16T15:22:52.7934160Z yarn: 1.22.22
2025-04-16T15:22:52.7936308Z ##[endgroup]
2025-04-16T15:22:52.8046341Z ##[group]Run npm install @octokit/rest@19.0.13 fs-extra@11.2.0
2025-04-16T15:22:52.8046782Z [36;1mnpm install @octokit/rest@19.0.13 fs-extra@11.2.0[0m
2025-04-16T15:22:52.8100420Z shell: /usr/bin/bash -e {0}
2025-04-16T15:22:52.8100663Z env:
2025-04-16T15:22:52.8100817Z   CI: true
2025-04-16T15:22:52.8100979Z ##[endgroup]
2025-04-16T15:23:02.3562445Z npm warn deprecated xss-clean@0.1.4: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.
2025-04-16T15:23:03.4577405Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-04-16T15:23:03.8952889Z npm warn deprecated passport-reddit@1.1.0: While functionally complete, this library will not be receiving any updates going forwards. Users are actively discouraged from using OAuth2 for authentication. See archival notice on github for more details.
2025-04-16T15:23:04.5444185Z npm warn deprecated npmlog@5.0.1: This package is no longer supported.
2025-04-16T15:23:04.9759213Z npm warn deprecated superagent@8.1.2: Please upgrade to v9.0.0+ as we have fixed a public vulnerability with formidable dependency. Note that v9.0.0+ requires Node.js v14.18.0+. See https://github.com/ladjs/superagent/pull/1800 for insight. This project is supported and maintained by the team at Forward Email @ https://forwardemail.net
2025-04-16T15:23:05.6979202Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-04-16T15:23:05.9252170Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-04-16T15:23:06.4379767Z npm warn deprecated gauge@3.0.2: This package is no longer supported.
2025-04-16T15:23:06.8356057Z npm warn deprecated domexception@4.0.0: Use your platform's native DOMException instead
2025-04-16T15:23:07.6848067Z npm warn deprecated are-we-there-yet@2.0.0: This package is no longer supported.
2025-04-16T15:23:07.8096398Z npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead
2025-04-16T15:23:08.9448578Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-04-16T15:23:08.9738411Z npm warn deprecated @humanwhocodes/config-array@0.11.14: Use @eslint/config-array instead
2025-04-16T15:23:17.3291259Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:23:17.3448094Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:23:40.2431499Z 
2025-04-16T15:23:40.2432483Z added 1914 packages, and audited 1917 packages in 47s
2025-04-16T15:23:40.2441693Z 
2025-04-16T15:23:40.2442063Z 354 packages are looking for funding
2025-04-16T15:23:40.2442547Z   run `npm fund` for details
2025-04-16T15:23:40.2677470Z 
2025-04-16T15:23:40.2692359Z 9 moderate severity vulnerabilities
2025-04-16T15:23:40.2693078Z 
2025-04-16T15:23:40.2693605Z To address issues that do not require attention, run:
2025-04-16T15:23:40.2698361Z   npm audit fix
2025-04-16T15:23:40.2698565Z 
2025-04-16T15:23:40.2698938Z To address all issues (including breaking changes), run:
2025-04-16T15:23:40.2699485Z   npm audit fix --force
2025-04-16T15:23:40.2699961Z 
2025-04-16T15:23:40.2700157Z Run `npm audit` for details.
2025-04-16T15:23:40.3448484Z ##[group]Run cat > fetch-workflow-logs.js << 'EOF'
2025-04-16T15:23:40.3449257Z [36;1mcat > fetch-workflow-logs.js << 'EOF'[0m
2025-04-16T15:23:40.3449566Z [36;1mconst { Octokit } = require('@octokit/rest');[0m
2025-04-16T15:23:40.3449856Z [36;1mconst fs = require('fs-extra');[0m
2025-04-16T15:23:40.3450112Z [36;1mconst path = require('path');[0m
2025-04-16T15:23:40.3450356Z [36;1m[0m
2025-04-16T15:23:40.3450527Z [36;1masync function main() {[0m
2025-04-16T15:23:40.3450778Z [36;1m  const owner = process.env.REPO_OWNER;[0m
2025-04-16T15:23:40.3451073Z [36;1m  const repo = process.env.REPO_NAME;[0m
2025-04-16T15:23:40.3451378Z [36;1m  const logsDir = path.join('workflow-error-logs');[0m
2025-04-16T15:23:40.3451654Z [36;1m  [0m
2025-04-16T15:23:40.3451888Z [36;1m  console.log(`Fetching workflow logs for ${owner}/${repo}`);[0m
2025-04-16T15:23:40.3452188Z [36;1m  [0m
2025-04-16T15:23:40.3452411Z [36;1m  // Create logs directory if it doesn't exist[0m
2025-04-16T15:23:40.3452721Z [36;1m  await fs.ensureDir(logsDir);[0m
2025-04-16T15:23:40.3452941Z [36;1m  [0m
2025-04-16T15:23:40.3453110Z [36;1m  const octokit = new Octokit({[0m
2025-04-16T15:23:40.3453355Z [36;1m    auth: process.env.GITHUB_TOKEN,[0m
2025-04-16T15:23:40.3453595Z [36;1m    request: {[0m
2025-04-16T15:23:40.3453781Z [36;1m      retries: 3,[0m
2025-04-16T15:23:40.3454226Z [36;1m      retryAfter: 1[0m
2025-04-16T15:23:40.3454443Z [36;1m    }[0m
2025-04-16T15:23:40.3454598Z [36;1m  });[0m
2025-04-16T15:23:40.3464191Z [36;1m  [0m
2025-04-16T15:23:40.3464469Z [36;1m  // Get all workflows[0m
2025-04-16T15:23:40.3465161Z [36;1m  const { data: workflows } = await octokit.actions.listRepoWorkflows({[0m
2025-04-16T15:23:40.3465722Z [36;1m    owner,[0m
2025-04-16T15:23:40.3465998Z [36;1m    repo,[0m
2025-04-16T15:23:40.3466261Z [36;1m  });[0m
2025-04-16T15:23:40.3466516Z [36;1m  [0m
2025-04-16T15:23:40.3466836Z [36;1m  // Get recent workflow runs (last 30 days)[0m
2025-04-16T15:23:40.3467283Z [36;1m  const thirtyDaysAgo = new Date();[0m
2025-04-16T15:23:40.3467616Z [36;1m  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);[0m
2025-04-16T15:23:40.3467910Z [36;1m  [0m
2025-04-16T15:23:40.3468117Z [36;1m  for (const workflow of workflows.workflows) {[0m
2025-04-16T15:23:40.3468825Z [36;1m    console.log(`Processing workflow: ${workflow.name} (${workflow.id})`);[0m
2025-04-16T15:23:40.3469182Z [36;1m    [0m
2025-04-16T15:23:40.3469399Z [36;1m    try {[0m
2025-04-16T15:23:40.3469662Z [36;1m      const { data: runs } = await octokit.actions.listWorkflowRuns({[0m
2025-04-16T15:23:40.3469977Z [36;1m        owner,[0m
2025-04-16T15:23:40.3470153Z [36;1m        repo,[0m
2025-04-16T15:23:40.3470355Z [36;1m        workflow_id: workflow.id,[0m
2025-04-16T15:23:40.3470654Z [36;1m        created: `>=${thirtyDaysAgo.toISOString().split('T')[0]}`,[0m
2025-04-16T15:23:40.3470949Z [36;1m      });[0m
2025-04-16T15:23:40.3471117Z [36;1m      [0m
2025-04-16T15:23:40.3471303Z [36;1m      // Process failed runs[0m
2025-04-16T15:23:40.3471597Z [36;1m      const failedRuns = runs.workflow_runs.filter(run => [0m
2025-04-16T15:23:40.3472052Z [36;1m        run.conclusion === 'failure' || run.conclusion === 'cancelled' || run.conclusion === 'timed_out'[0m
2025-04-16T15:23:40.3472437Z [36;1m      );[0m
2025-04-16T15:23:40.3472593Z [36;1m      [0m
2025-04-16T15:23:40.3472889Z [36;1m      console.log(`Found ${failedRuns.length} failed runs for ${workflow.name}`);[0m
2025-04-16T15:23:40.3473235Z [36;1m      [0m
2025-04-16T15:23:40.3473413Z [36;1m      for (const run of failedRuns) {[0m
2025-04-16T15:23:40.3473761Z [36;1m        const runDate = new Date(run.created_at).toISOString().split('T')[0];[0m
2025-04-16T15:23:40.3474278Z [36;1m        const workflowDir = path.join(logsDir, workflow.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:23:40.3474975Z [36;1m        const runDir = path.join(workflowDir, `${runDate}_${run.id}`);[0m
2025-04-16T15:23:40.3475659Z [36;1m        [0m
2025-04-16T15:23:40.3475901Z [36;1m        await fs.ensureDir(runDir);[0m
2025-04-16T15:23:40.3476129Z [36;1m        [0m
2025-04-16T15:23:40.3476299Z [36;1m        // Save run metadata[0m
2025-04-16T15:23:40.3476649Z [36;1m        await fs.writeJson(path.join(runDir, 'metadata.json'), run, { spaces: 2 });[0m
2025-04-16T15:23:40.3476986Z [36;1m        [0m
2025-04-16T15:23:40.3477143Z [36;1m        try {[0m
2025-04-16T15:23:40.3477344Z [36;1m          // Get jobs for this run[0m
2025-04-16T15:23:40.3477677Z [36;1m          const { data: jobs } = await octokit.actions.listJobsForWorkflowRun({[0m
2025-04-16T15:23:40.3478008Z [36;1m            owner,[0m
2025-04-16T15:23:40.3478199Z [36;1m            repo,[0m
2025-04-16T15:23:40.3478398Z [36;1m            run_id: run.id,[0m
2025-04-16T15:23:40.3478609Z [36;1m          });[0m
2025-04-16T15:23:40.3478783Z [36;1m          [0m
2025-04-16T15:23:40.3478974Z [36;1m          // Save jobs metadata[0m
2025-04-16T15:23:40.3479316Z [36;1m          await fs.writeJson(path.join(runDir, 'jobs.json'), jobs, { spaces: 2 });[0m
2025-04-16T15:23:40.3479649Z [36;1m          [0m
2025-04-16T15:23:40.3479823Z [36;1m          // Process each job[0m
2025-04-16T15:23:40.3480067Z [36;1m          for (const job of jobs.jobs) {[0m
2025-04-16T15:23:40.3480479Z [36;1m            if (job.conclusion === 'failure' || job.conclusion === 'cancelled' || job.conclusion === 'timed_out') {[0m
2025-04-16T15:23:40.3481037Z [36;1m              const jobDir = path.join(runDir, job.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:23:40.3481434Z [36;1m              await fs.ensureDir(jobDir);[0m
2025-04-16T15:23:40.3481672Z [36;1m              [0m
2025-04-16T15:23:40.3481865Z [36;1m              // Save job metadata[0m
2025-04-16T15:23:40.3482227Z [36;1m              await fs.writeJson(path.join(jobDir, 'job-metadata.json'), job, { spaces: 2 });[0m
2025-04-16T15:23:40.3482581Z [36;1m              [0m
2025-04-16T15:23:40.3482765Z [36;1m              try {[0m
2025-04-16T15:23:40.3482962Z [36;1m                // Get job logs[0m
2025-04-16T15:23:40.3483298Z [36;1m                const logs = await octokit.actions.downloadJobLogsForWorkflowRun({[0m
2025-04-16T15:23:40.3483638Z [36;1m                  owner,[0m
2025-04-16T15:23:40.3483843Z [36;1m                  repo,[0m
2025-04-16T15:23:40.3484058Z [36;1m                  job_id: job.id,[0m
2025-04-16T15:23:40.3484281Z [36;1m                });[0m
2025-04-16T15:23:40.3484477Z [36;1m                [0m
2025-04-16T15:23:40.3484978Z [36;1m                // Save logs[0m
2025-04-16T15:23:40.3485348Z [36;1m                await fs.writeFile(path.join(jobDir, 'logs.txt'), logs.data);[0m
2025-04-16T15:23:40.3485749Z [36;1m                console.log(`Saved logs for job ${job.name} (${job.id})`);[0m
2025-04-16T15:23:40.3486055Z [36;1m              } catch (error) {[0m
2025-04-16T15:23:40.3486415Z [36;1m                console.error(`Error fetching logs for job ${job.id}: ${error.message}`);[0m
2025-04-16T15:23:40.3486927Z [36;1m                await fs.writeFile(path.join(jobDir, 'error.txt'), `Error fetching logs: ${error.message}`);[0m
2025-04-16T15:23:40.3487321Z [36;1m              }[0m
2025-04-16T15:23:40.3487503Z [36;1m            }[0m
2025-04-16T15:23:40.3487675Z [36;1m          }[0m
2025-04-16T15:23:40.3487856Z [36;1m        } catch (error) {[0m
2025-04-16T15:23:40.3488173Z [36;1m          console.error(`Error processing run ${run.id}: ${error.message}`);[0m
2025-04-16T15:23:40.3488668Z [36;1m          await fs.writeFile(path.join(runDir, 'error.txt'), `Error processing run: ${error.message}`);[0m
2025-04-16T15:23:40.3489052Z [36;1m        }[0m
2025-04-16T15:23:40.3489223Z [36;1m      }[0m
2025-04-16T15:23:40.3489397Z [36;1m    } catch (error) {[0m
2025-04-16T15:23:40.3489728Z [36;1m      console.error(`Error processing workflow ${workflow.id}: ${error.message}`);[0m
2025-04-16T15:23:40.3490223Z [36;1m    }[0m
2025-04-16T15:23:40.3490511Z [36;1m  }[0m
2025-04-16T15:23:40.3490729Z [36;1m  [0m
2025-04-16T15:23:40.3490890Z [36;1m  // Create summary file[0m
2025-04-16T15:23:40.3491111Z [36;1m  const summary = {[0m
2025-04-16T15:23:40.3491336Z [36;1m    timestamp: new Date().toISOString(),[0m
2025-04-16T15:23:40.3491638Z [36;1m    totalWorkflows: workflows.workflows.length,[0m
2025-04-16T15:23:40.3491976Z [36;1m    workflowSummary: workflows.workflows.map(w => ({[0m
2025-04-16T15:23:40.3492252Z [36;1m      name: w.name,[0m
2025-04-16T15:23:40.3492447Z [36;1m      id: w.id,[0m
2025-04-16T15:23:40.3492628Z [36;1m      path: w.path,[0m
2025-04-16T15:23:40.3492818Z [36;1m    })),[0m
2025-04-16T15:23:40.3492971Z [36;1m  };[0m
2025-04-16T15:23:40.3493125Z [36;1m  [0m
2025-04-16T15:23:40.3493413Z [36;1m  await fs.writeJson(path.join(logsDir, 'summary.json'), summary, { spaces: 2 });[0m
2025-04-16T15:23:40.3493831Z [36;1m  console.log('Workflow error logs sync completed');[0m
2025-04-16T15:23:40.3494113Z [36;1m}[0m
2025-04-16T15:23:40.3494258Z [36;1m[0m
2025-04-16T15:23:40.3494421Z [36;1mmain().catch(error => {[0m
2025-04-16T15:23:40.3494865Z [36;1m  console.error('Error in main process:', error);[0m
2025-04-16T15:23:40.3495151Z [36;1m  process.exit(1);[0m
2025-04-16T15:23:40.3495338Z [36;1m});[0m
2025-04-16T15:23:40.3495490Z [36;1mEOF[0m
2025-04-16T15:23:40.3495637Z [36;1m[0m
2025-04-16T15:23:40.3495808Z [36;1mnode fetch-workflow-logs.js[0m
2025-04-16T15:23:40.3542329Z shell: /usr/bin/bash -e {0}
2025-04-16T15:23:40.3542548Z env:
2025-04-16T15:23:40.3542703Z   CI: true
2025-04-16T15:23:40.3543099Z   GITHUB_TOKEN: ***
2025-04-16T15:23:40.3543287Z   REPO_OWNER: mrkurger
2025-04-16T15:23:40.3543490Z   REPO_NAME: date-night-app2
2025-04-16T15:23:40.3543690Z ##[endgroup]
2025-04-16T15:23:40.4403875Z Fetching workflow logs for mrkurger/date-night-app2
2025-04-16T15:23:40.6764204Z Error in main process: RequestError [HttpError]: API rate limit exceeded for installation. If you reach out to GitHub Support for help, please include the request ID B8E8:16F7A6:314C07:32A0F5:67FFCB7C and timestamp 2025-04-16 15:23:40 UTC.
2025-04-16T15:23:40.6769551Z     at /home/runner/work/date-night-app2/date-night-app2/node_modules/@octokit/request/dist-node/index.js:122:21
2025-04-16T15:23:40.6774315Z     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-04-16T15:23:40.6775684Z     at async main (/home/runner/work/date-night-app2/date-night-app2/fetch-workflow-logs.js:24:31) {
2025-04-16T15:23:40.6776500Z   status: 403,
2025-04-16T15:23:40.6776914Z   response: {
2025-04-16T15:23:40.6777657Z     url: 'https://api.github.com/repos/mrkurger/date-night-app2/actions/workflows',
2025-04-16T15:23:40.6778372Z     status: 403,
2025-04-16T15:23:40.6778733Z     headers: {
2025-04-16T15:23:40.6779259Z       'access-control-allow-origin': '*',
2025-04-16T15:23:40.6781811Z       'access-control-expose-headers': 'ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset',
2025-04-16T15:23:40.6784044Z       'content-encoding': 'gzip',
2025-04-16T15:23:40.6784613Z       'content-security-policy': "default-src 'none'",
2025-04-16T15:23:40.6796115Z       'content-type': 'application/json; charset=utf-8',
2025-04-16T15:23:40.6796757Z       date: 'Wed, 16 Apr 2025 15:23:40 GMT',
2025-04-16T15:23:40.6797599Z       'referrer-policy': 'origin-when-cross-origin, strict-origin-when-cross-origin',
2025-04-16T15:23:40.6798366Z       server: 'github.com',
2025-04-16T15:23:40.6799102Z       'strict-transport-security': 'max-age=31536000; includeSubdomains; preload',
2025-04-16T15:23:40.6799868Z       'transfer-encoding': 'chunked',
2025-04-16T15:23:40.6800471Z       vary: 'Accept-Encoding, Accept, X-Requested-With',
2025-04-16T15:23:40.6801507Z       'x-content-type-options': 'nosniff',
2025-04-16T15:23:40.6802231Z       'x-frame-options': 'deny',
2025-04-16T15:23:40.6802813Z       'x-github-media-type': 'github.v3; format=json',
2025-04-16T15:23:40.6803503Z       'x-github-request-id': 'B8E8:16F7A6:314C07:32A0F5:67FFCB7C',
2025-04-16T15:23:40.6804123Z       'x-ratelimit-limit': '5000',
2025-04-16T15:23:40.6804623Z       'x-ratelimit-remaining': '0',
2025-04-16T15:23:40.6815795Z       'x-ratelimit-reset': '1744818804',
2025-04-16T15:23:40.6816313Z       'x-ratelimit-resource': 'core',
2025-04-16T15:23:40.6816790Z       'x-ratelimit-used': '5002',
2025-04-16T15:23:40.6817215Z       'x-xss-protection': '0'
2025-04-16T15:23:40.6817576Z     },
2025-04-16T15:23:40.6817848Z     data: {
2025-04-16T15:23:40.6819203Z       message: 'API rate limit exceeded for installation. If you reach out to GitHub Support for help, please include the request ID B8E8:16F7A6:314C07:32A0F5:67FFCB7C and timestamp 2025-04-16 15:23:40 UTC.',
2025-04-16T15:23:40.6820959Z       documentation_url: 'https://docs.github.com/rest/overview/rate-limits-for-the-rest-api',
2025-04-16T15:23:40.6821703Z       status: '403'
2025-04-16T15:23:40.6822016Z     }
2025-04-16T15:23:40.6822282Z   },
2025-04-16T15:23:40.6822551Z   request: {
2025-04-16T15:23:40.6822840Z     method: 'GET',
2025-04-16T15:23:40.6823548Z     url: 'https://api.github.com/repos/mrkurger/date-night-app2/actions/workflows',
2025-04-16T15:23:40.6824286Z     headers: {
2025-04-16T15:23:40.6829911Z       accept: 'application/vnd.github.v3+json',
2025-04-16T15:23:40.6830788Z       'user-agent': 'octokit-rest.js/19.0.13 octokit-core.js/4.2.4 Node.js/22',
2025-04-16T15:23:40.6831430Z       authorization: 'token [REDACTED]'
2025-04-16T15:23:40.6831809Z     },
2025-04-16T15:23:40.6832071Z     request: {
2025-04-16T15:23:40.6832350Z       retries: 3,
2025-04-16T15:23:40.6832650Z       retryAfter: 1,
2025-04-16T15:23:40.6833040Z       hook: [Function: bound bound register]
2025-04-16T15:23:40.6833422Z     }
2025-04-16T15:23:40.6833683Z   }
2025-04-16T15:23:40.6833913Z }
2025-04-16T15:23:40.7339365Z ##[error]Process completed with exit code 1.
2025-04-16T15:23:40.7459672Z Post job cleanup.
2025-04-16T15:23:40.8447402Z [command]/usr/bin/git version
2025-04-16T15:23:40.8486393Z git version 2.49.0
2025-04-16T15:23:40.8535036Z Temporarily overriding HOME='/home/runner/work/_temp/c3fe8a9e-f81e-4348-8b6d-2c90527ece75' before making global git config changes
2025-04-16T15:23:40.8538505Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:23:40.8553364Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:23:40.8595758Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:23:40.8634536Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:23:40.8893818Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:23:40.8919518Z http.https://github.com/.extraheader
2025-04-16T15:23:40.8935439Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-04-16T15:23:40.8971213Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:23:40.9326639Z Cleaning up orphan processes
