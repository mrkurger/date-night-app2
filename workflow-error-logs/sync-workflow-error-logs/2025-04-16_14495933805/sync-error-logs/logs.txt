2025-04-16T15:00:46.8859867Z Current runner version: '2.323.0'
2025-04-16T15:00:46.8935380Z ##[group]Operating System
2025-04-16T15:00:46.8936565Z Ubuntu
2025-04-16T15:00:46.8937449Z 24.04.2
2025-04-16T15:00:46.8938276Z LTS
2025-04-16T15:00:46.8938984Z ##[endgroup]
2025-04-16T15:00:46.8940279Z ##[group]Runner Image
2025-04-16T15:00:46.8941287Z Image: ubuntu-24.04
2025-04-16T15:00:46.8942144Z Version: 20250413.1.0
2025-04-16T15:00:46.8944359Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250413.1/images/ubuntu/Ubuntu2404-Readme.md
2025-04-16T15:00:46.8946945Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250413.1
2025-04-16T15:00:46.8948702Z ##[endgroup]
2025-04-16T15:00:46.8949630Z ##[group]Runner Image Provisioner
2025-04-16T15:00:46.8950598Z 2.0.422.1
2025-04-16T15:00:46.8951382Z ##[endgroup]
2025-04-16T15:00:46.8953329Z ##[group]GITHUB_TOKEN Permissions
2025-04-16T15:00:46.8968282Z Actions: read
2025-04-16T15:00:46.8969122Z Contents: write
2025-04-16T15:00:46.8970277Z Metadata: read
2025-04-16T15:00:46.8971169Z ##[endgroup]
2025-04-16T15:00:46.8974427Z Secret source: Actions
2025-04-16T15:00:46.8975584Z Prepare workflow directory
2025-04-16T15:00:46.9798439Z Prepare all required actions
2025-04-16T15:00:46.9854965Z Getting action download info
2025-04-16T15:00:47.5284200Z ##[group]Download immutable action package 'actions/checkout@v4'
2025-04-16T15:00:47.5285183Z Version: 4.2.2
2025-04-16T15:00:47.5286270Z Digest: sha256:ccb2698953eaebd21c7bf6268a94f9c26518a7e38e27e0b83c1fe1ad049819b1
2025-04-16T15:00:47.5287383Z Source commit SHA: 11bd71901bbe5b1630ceea73d27597364c9af683
2025-04-16T15:00:47.5288105Z ##[endgroup]
2025-04-16T15:00:47.6566214Z ##[group]Download immutable action package 'actions/setup-node@v4'
2025-04-16T15:00:47.6567002Z Version: 4.4.0
2025-04-16T15:00:47.6567749Z Digest: sha256:9427cefe82346e992fb5b949e3569b39d537ae41aa3086483b14eceebfc16bc1
2025-04-16T15:00:47.6568661Z Source commit SHA: 49933ea5288caeca8642d1e84afbd3f7d6820020
2025-04-16T15:00:47.6569448Z ##[endgroup]
2025-04-16T15:00:48.0732540Z Complete job name: sync-error-logs
2025-04-16T15:00:48.1390747Z ##[group]Run actions/checkout@v4
2025-04-16T15:00:48.1391593Z with:
2025-04-16T15:00:48.1391984Z   fetch-depth: 0
2025-04-16T15:00:48.1392415Z   repository: mrkurger/date-night-app2
2025-04-16T15:00:48.1393098Z   token: ***
2025-04-16T15:00:48.1393743Z   ssh-strict: true
2025-04-16T15:00:48.1394204Z   ssh-user: git
2025-04-16T15:00:48.1394612Z   persist-credentials: true
2025-04-16T15:00:48.1395068Z   clean: true
2025-04-16T15:00:48.1395473Z   sparse-checkout-cone-mode: true
2025-04-16T15:00:48.1395964Z   fetch-tags: false
2025-04-16T15:00:48.1396363Z   show-progress: true
2025-04-16T15:00:48.1396761Z   lfs: false
2025-04-16T15:00:48.1397128Z   submodules: false
2025-04-16T15:00:48.1397527Z   set-safe-directory: true
2025-04-16T15:00:48.1398248Z env:
2025-04-16T15:00:48.1398596Z   CI: true
2025-04-16T15:00:48.1398955Z ##[endgroup]
2025-04-16T15:00:48.3644810Z Syncing repository: mrkurger/date-night-app2
2025-04-16T15:00:48.3648005Z ##[group]Getting Git version info
2025-04-16T15:00:48.3649623Z Working directory is '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:00:48.3653292Z [command]/usr/bin/git version
2025-04-16T15:00:48.3710063Z git version 2.49.0
2025-04-16T15:00:48.3752332Z ##[endgroup]
2025-04-16T15:00:48.3774705Z Temporarily overriding HOME='/home/runner/work/_temp/45551038-da6a-4be4-942c-771d53a8a824' before making global git config changes
2025-04-16T15:00:48.3778126Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:00:48.3781571Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:00:48.3820615Z Deleting the contents of '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:00:48.3825465Z ##[group]Initializing the repository
2025-04-16T15:00:48.3830769Z [command]/usr/bin/git init /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:00:48.3940243Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-04-16T15:00:48.3942575Z hint: is subject to change. To configure the initial branch name to use in all
2025-04-16T15:00:48.3944540Z hint: of your new repositories, which will suppress this warning, call:
2025-04-16T15:00:48.3946225Z hint:
2025-04-16T15:00:48.3948246Z hint: 	git config --global init.defaultBranch <name>
2025-04-16T15:00:48.3949297Z hint:
2025-04-16T15:00:48.3950324Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-04-16T15:00:48.3952140Z hint: 'development'. The just-created branch can be renamed via this command:
2025-04-16T15:00:48.3953868Z hint:
2025-04-16T15:00:48.3954682Z hint: 	git branch -m <name>
2025-04-16T15:00:48.3956405Z Initialized empty Git repository in /home/runner/work/date-night-app2/date-night-app2/.git/
2025-04-16T15:00:48.3966525Z [command]/usr/bin/git remote add origin https://github.com/mrkurger/date-night-app2
2025-04-16T15:00:48.4012314Z ##[endgroup]
2025-04-16T15:00:48.4014010Z ##[group]Disabling automatic garbage collection
2025-04-16T15:00:48.4017173Z [command]/usr/bin/git config --local gc.auto 0
2025-04-16T15:00:48.4053063Z ##[endgroup]
2025-04-16T15:00:48.4056252Z ##[group]Setting up auth
2025-04-16T15:00:48.4060845Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:00:48.4097736Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:00:48.4440543Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:00:48.4476176Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:00:48.4713794Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-04-16T15:00:48.4769312Z ##[endgroup]
2025-04-16T15:00:48.4777940Z ##[group]Fetching the repository
2025-04-16T15:00:48.4782637Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
2025-04-16T15:00:57.1564583Z From https://github.com/mrkurger/date-night-app2
2025-04-16T15:00:57.1567105Z  * [new branch]      dependabot/github_actions/dawidd6/action-download-artifact-9 -> origin/dependabot/github_actions/dawidd6/action-download-artifact-9
2025-04-16T15:00:57.1575279Z  * [new branch]      dependabot/npm_and_yarn/server/multi-94fa72f662 -> origin/dependabot/npm_and_yarn/server/multi-94fa72f662
2025-04-16T15:00:57.1577709Z  * [new branch]      main       -> origin/main
2025-04-16T15:00:57.1619979Z [command]/usr/bin/git branch --list --remote origin/main
2025-04-16T15:00:57.1661240Z   origin/main
2025-04-16T15:00:57.1688560Z [command]/usr/bin/git rev-parse refs/remotes/origin/main
2025-04-16T15:00:57.1727537Z b7b02b02b67d186f71e3b6a43ebe9f432064fd3a
2025-04-16T15:00:57.1753067Z ##[endgroup]
2025-04-16T15:00:57.1754537Z ##[group]Determining the checkout info
2025-04-16T15:00:57.1757390Z ##[endgroup]
2025-04-16T15:00:57.1758143Z [command]/usr/bin/git sparse-checkout disable
2025-04-16T15:00:57.1828022Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-04-16T15:00:57.1870061Z ##[group]Checking out the ref
2025-04-16T15:00:57.1874627Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-04-16T15:00:57.5498288Z Switched to a new branch 'main'
2025-04-16T15:00:57.5502774Z branch 'main' set up to track 'origin/main'.
2025-04-16T15:00:57.5525718Z ##[endgroup]
2025-04-16T15:00:57.5586013Z [command]/usr/bin/git log -1 --format=%H
2025-04-16T15:00:57.5622270Z b7b02b02b67d186f71e3b6a43ebe9f432064fd3a
2025-04-16T15:00:57.5846209Z ##[group]Run actions/setup-node@v4
2025-04-16T15:00:57.5846476Z with:
2025-04-16T15:00:57.5846888Z   node-version: 22.x
2025-04-16T15:00:57.5847078Z   always-auth: false
2025-04-16T15:00:57.5847267Z   check-latest: false
2025-04-16T15:00:57.5847594Z   token: ***
2025-04-16T15:00:57.5847759Z env:
2025-04-16T15:00:57.5847920Z   CI: true
2025-04-16T15:00:57.5848079Z ##[endgroup]
2025-04-16T15:00:57.7575157Z Found in cache @ /opt/hostedtoolcache/node/22.14.0/x64
2025-04-16T15:00:57.7578526Z ##[group]Environment details
2025-04-16T15:01:00.9280856Z node: v22.14.0
2025-04-16T15:01:00.9281747Z npm: 10.9.2
2025-04-16T15:01:00.9287043Z yarn: 1.22.22
2025-04-16T15:01:00.9287876Z ##[endgroup]
2025-04-16T15:01:00.9402013Z ##[group]Run npm install @octokit/rest@19.0.13 fs-extra@11.2.0
2025-04-16T15:01:00.9402474Z [36;1mnpm install @octokit/rest@19.0.13 fs-extra@11.2.0[0m
2025-04-16T15:01:00.9454820Z shell: /usr/bin/bash -e {0}
2025-04-16T15:01:00.9455054Z env:
2025-04-16T15:01:00.9455216Z   CI: true
2025-04-16T15:01:00.9455389Z ##[endgroup]
2025-04-16T15:01:08.7917437Z npm warn deprecated xss-clean@0.1.4: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.
2025-04-16T15:01:10.0130870Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-04-16T15:01:10.4515171Z npm warn deprecated passport-reddit@1.1.0: While functionally complete, this library will not be receiving any updates going forwards. Users are actively discouraged from using OAuth2 for authentication. See archival notice on github for more details.
2025-04-16T15:01:10.6838294Z npm warn deprecated superagent@8.1.2: Please upgrade to v9.0.0+ as we have fixed a public vulnerability with formidable dependency. Note that v9.0.0+ requires Node.js v14.18.0+. See https://github.com/ladjs/superagent/pull/1800 for insight. This project is supported and maintained by the team at Forward Email @ https://forwardemail.net
2025-04-16T15:01:10.8004591Z npm warn deprecated npmlog@5.0.1: This package is no longer supported.
2025-04-16T15:01:11.6556487Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-04-16T15:01:11.9615774Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-04-16T15:01:12.2877480Z npm warn deprecated gauge@3.0.2: This package is no longer supported.
2025-04-16T15:01:12.6795492Z npm warn deprecated domexception@4.0.0: Use your platform's native DOMException instead
2025-04-16T15:01:13.4347284Z npm warn deprecated are-we-there-yet@2.0.0: This package is no longer supported.
2025-04-16T15:01:13.5335282Z npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead
2025-04-16T15:01:14.6084844Z npm warn deprecated @humanwhocodes/config-array@0.11.14: Use @eslint/config-array instead
2025-04-16T15:01:14.6204757Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-04-16T15:01:23.4119674Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:01:23.4284136Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:01:46.8631227Z 
2025-04-16T15:01:46.8633077Z added 1914 packages, and audited 1917 packages in 46s
2025-04-16T15:01:46.8635266Z 
2025-04-16T15:01:46.8636935Z 354 packages are looking for funding
2025-04-16T15:01:46.8639037Z   run `npm fund` for details
2025-04-16T15:01:46.8826056Z 
2025-04-16T15:01:46.8826618Z 9 moderate severity vulnerabilities
2025-04-16T15:01:46.8826980Z 
2025-04-16T15:01:46.8827336Z To address issues that do not require attention, run:
2025-04-16T15:01:46.8827862Z   npm audit fix
2025-04-16T15:01:46.8828054Z 
2025-04-16T15:01:46.8828423Z To address all issues (including breaking changes), run:
2025-04-16T15:01:46.8828950Z   npm audit fix --force
2025-04-16T15:01:46.8829453Z 
2025-04-16T15:01:46.8829657Z Run `npm audit` for details.
2025-04-16T15:01:46.9574487Z ##[group]Run cat > fetch-workflow-logs.js << 'EOF'
2025-04-16T15:01:46.9575445Z [36;1mcat > fetch-workflow-logs.js << 'EOF'[0m
2025-04-16T15:01:46.9575951Z [36;1mconst { Octokit } = require('@octokit/rest');[0m
2025-04-16T15:01:46.9576440Z [36;1mconst fs = require('fs-extra');[0m
2025-04-16T15:01:46.9576872Z [36;1mconst path = require('path');[0m
2025-04-16T15:01:46.9577270Z [36;1m[0m
2025-04-16T15:01:46.9577563Z [36;1masync function main() {[0m
2025-04-16T15:01:46.9577830Z [36;1m  const owner = process.env.REPO_OWNER;[0m
2025-04-16T15:01:46.9578129Z [36;1m  const repo = process.env.REPO_NAME;[0m
2025-04-16T15:01:46.9578438Z [36;1m  const logsDir = path.join('workflow-error-logs');[0m
2025-04-16T15:01:46.9578729Z [36;1m  [0m
2025-04-16T15:01:46.9578982Z [36;1m  console.log(`Fetching workflow logs for ${owner}/${repo}`);[0m
2025-04-16T15:01:46.9579283Z [36;1m  [0m
2025-04-16T15:01:46.9579502Z [36;1m  // Create logs directory if it doesn't exist[0m
2025-04-16T15:01:46.9579822Z [36;1m  await fs.ensureDir(logsDir);[0m
2025-04-16T15:01:46.9580049Z [36;1m  [0m
2025-04-16T15:01:46.9580228Z [36;1m  const octokit = new Octokit({[0m
2025-04-16T15:01:46.9580480Z [36;1m    auth: process.env.GITHUB_TOKEN,[0m
2025-04-16T15:01:46.9580727Z [36;1m    request: {[0m
2025-04-16T15:01:46.9580918Z [36;1m      retries: 3,[0m
2025-04-16T15:01:46.9581129Z [36;1m      retryAfter: 1[0m
2025-04-16T15:01:46.9581318Z [36;1m    }[0m
2025-04-16T15:01:46.9581477Z [36;1m  });[0m
2025-04-16T15:01:46.9581626Z [36;1m  [0m
2025-04-16T15:01:46.9581792Z [36;1m  // Get all workflows[0m
2025-04-16T15:01:46.9582109Z [36;1m  const { data: workflows } = await octokit.actions.listRepoWorkflows({[0m
2025-04-16T15:01:46.9582449Z [36;1m    owner,[0m
2025-04-16T15:01:46.9582628Z [36;1m    repo,[0m
2025-04-16T15:01:46.9582793Z [36;1m  });[0m
2025-04-16T15:01:46.9582952Z [36;1m  [0m
2025-04-16T15:01:46.9583165Z [36;1m  // Get recent workflow runs (last 30 days)[0m
2025-04-16T15:01:46.9583762Z [36;1m  const thirtyDaysAgo = new Date();[0m
2025-04-16T15:01:46.9584143Z [36;1m  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);[0m
2025-04-16T15:01:46.9584454Z [36;1m  [0m
2025-04-16T15:01:46.9584678Z [36;1m  for (const workflow of workflows.workflows) {[0m
2025-04-16T15:01:46.9585067Z [36;1m    console.log(`Processing workflow: ${workflow.name} (${workflow.id})`);[0m
2025-04-16T15:01:46.9585407Z [36;1m    [0m
2025-04-16T15:01:46.9585567Z [36;1m    try {[0m
2025-04-16T15:01:46.9585837Z [36;1m      const { data: runs } = await octokit.actions.listWorkflowRuns({[0m
2025-04-16T15:01:46.9586151Z [36;1m        owner,[0m
2025-04-16T15:01:46.9586343Z [36;1m        repo,[0m
2025-04-16T15:01:46.9586551Z [36;1m        workflow_id: workflow.id,[0m
2025-04-16T15:01:46.9586868Z [36;1m        created: `>=${thirtyDaysAgo.toISOString().split('T')[0]}`,[0m
2025-04-16T15:01:46.9587169Z [36;1m      });[0m
2025-04-16T15:01:46.9587346Z [36;1m      [0m
2025-04-16T15:01:46.9587532Z [36;1m      // Process failed runs[0m
2025-04-16T15:01:46.9587825Z [36;1m      const failedRuns = runs.workflow_runs.filter(run => [0m
2025-04-16T15:01:46.9588291Z [36;1m        run.conclusion === 'failure' || run.conclusion === 'cancelled' || run.conclusion === 'timed_out'[0m
2025-04-16T15:01:46.9588676Z [36;1m      );[0m
2025-04-16T15:01:46.9588847Z [36;1m      [0m
2025-04-16T15:01:46.9589151Z [36;1m      console.log(`Found ${failedRuns.length} failed runs for ${workflow.name}`);[0m
2025-04-16T15:01:46.9589496Z [36;1m      [0m
2025-04-16T15:01:46.9589685Z [36;1m      for (const run of failedRuns) {[0m
2025-04-16T15:01:46.9590026Z [36;1m        const runDate = new Date(run.created_at).toISOString().split('T')[0];[0m
2025-04-16T15:01:46.9590554Z [36;1m        const workflowDir = path.join(logsDir, workflow.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:01:46.9591064Z [36;1m        const runDir = path.join(workflowDir, `${runDate}_${run.id}`);[0m
2025-04-16T15:01:46.9591748Z [36;1m        [0m
2025-04-16T15:01:46.9592008Z [36;1m        await fs.ensureDir(runDir);[0m
2025-04-16T15:01:46.9592250Z [36;1m        [0m
2025-04-16T15:01:46.9592424Z [36;1m        // Save run metadata[0m
2025-04-16T15:01:46.9592780Z [36;1m        await fs.writeJson(path.join(runDir, 'metadata.json'), run, { spaces: 2 });[0m
2025-04-16T15:01:46.9593116Z [36;1m        [0m
2025-04-16T15:01:46.9593284Z [36;1m        try {[0m
2025-04-16T15:01:46.9593745Z [36;1m          // Get jobs for this run[0m
2025-04-16T15:01:46.9594094Z [36;1m          const { data: jobs } = await octokit.actions.listJobsForWorkflowRun({[0m
2025-04-16T15:01:46.9594429Z [36;1m            owner,[0m
2025-04-16T15:01:46.9594634Z [36;1m            repo,[0m
2025-04-16T15:01:46.9594836Z [36;1m            run_id: run.id,[0m
2025-04-16T15:01:46.9595046Z [36;1m          });[0m
2025-04-16T15:01:46.9595229Z [36;1m          [0m
2025-04-16T15:01:46.9595419Z [36;1m          // Save jobs metadata[0m
2025-04-16T15:01:46.9595777Z [36;1m          await fs.writeJson(path.join(runDir, 'jobs.json'), jobs, { spaces: 2 });[0m
2025-04-16T15:01:46.9596103Z [36;1m          [0m
2025-04-16T15:01:46.9596291Z [36;1m          // Process each job[0m
2025-04-16T15:01:46.9596535Z [36;1m          for (const job of jobs.jobs) {[0m
2025-04-16T15:01:46.9596947Z [36;1m            if (job.conclusion === 'failure' || job.conclusion === 'cancelled' || job.conclusion === 'timed_out') {[0m
2025-04-16T15:01:46.9597509Z [36;1m              const jobDir = path.join(runDir, job.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:01:46.9597906Z [36;1m              await fs.ensureDir(jobDir);[0m
2025-04-16T15:01:46.9598156Z [36;1m              [0m
2025-04-16T15:01:46.9598358Z [36;1m              // Save job metadata[0m
2025-04-16T15:01:46.9598722Z [36;1m              await fs.writeJson(path.join(jobDir, 'job-metadata.json'), job, { spaces: 2 });[0m
2025-04-16T15:01:46.9599082Z [36;1m              [0m
2025-04-16T15:01:46.9599265Z [36;1m              try {[0m
2025-04-16T15:01:46.9599473Z [36;1m                // Get job logs[0m
2025-04-16T15:01:46.9599810Z [36;1m                const logs = await octokit.actions.downloadJobLogsForWorkflowRun({[0m
2025-04-16T15:01:46.9600189Z [36;1m                  owner,[0m
2025-04-16T15:01:46.9600404Z [36;1m                  repo,[0m
2025-04-16T15:01:46.9600624Z [36;1m                  job_id: job.id,[0m
2025-04-16T15:01:46.9600863Z [36;1m                });[0m
2025-04-16T15:01:46.9601060Z [36;1m                [0m
2025-04-16T15:01:46.9601250Z [36;1m                // Save logs[0m
2025-04-16T15:01:46.9601560Z [36;1m                await fs.writeFile(path.join(jobDir, 'logs.txt'), logs.data);[0m
2025-04-16T15:01:46.9601951Z [36;1m                console.log(`Saved logs for job ${job.name} (${job.id})`);[0m
2025-04-16T15:01:46.9602261Z [36;1m              } catch (error) {[0m
2025-04-16T15:01:46.9602618Z [36;1m                console.error(`Error fetching logs for job ${job.id}: ${error.message}`);[0m
2025-04-16T15:01:46.9603128Z [36;1m                await fs.writeFile(path.join(jobDir, 'error.txt'), `Error fetching logs: ${error.message}`);[0m
2025-04-16T15:01:46.9603621Z [36;1m              }[0m
2025-04-16T15:01:46.9603798Z [36;1m            }[0m
2025-04-16T15:01:46.9603975Z [36;1m          }[0m
2025-04-16T15:01:46.9604153Z [36;1m        } catch (error) {[0m
2025-04-16T15:01:46.9604472Z [36;1m          console.error(`Error processing run ${run.id}: ${error.message}`);[0m
2025-04-16T15:01:46.9604965Z [36;1m          await fs.writeFile(path.join(runDir, 'error.txt'), `Error processing run: ${error.message}`);[0m
2025-04-16T15:01:46.9605344Z [36;1m        }[0m
2025-04-16T15:01:46.9605514Z [36;1m      }[0m
2025-04-16T15:01:46.9605687Z [36;1m    } catch (error) {[0m
2025-04-16T15:01:46.9606024Z [36;1m      console.error(`Error processing workflow ${workflow.id}: ${error.message}`);[0m
2025-04-16T15:01:46.9606507Z [36;1m    }[0m
2025-04-16T15:01:46.9606810Z [36;1m  }[0m
2025-04-16T15:01:46.9606968Z [36;1m  [0m
2025-04-16T15:01:46.9607132Z [36;1m  // Create summary file[0m
2025-04-16T15:01:46.9607352Z [36;1m  const summary = {[0m
2025-04-16T15:01:46.9607574Z [36;1m    timestamp: new Date().toISOString(),[0m
2025-04-16T15:01:46.9607873Z [36;1m    totalWorkflows: workflows.workflows.length,[0m
2025-04-16T15:01:46.9608202Z [36;1m    workflowSummary: workflows.workflows.map(w => ({[0m
2025-04-16T15:01:46.9608485Z [36;1m      name: w.name,[0m
2025-04-16T15:01:46.9608675Z [36;1m      id: w.id,[0m
2025-04-16T15:01:46.9608865Z [36;1m      path: w.path,[0m
2025-04-16T15:01:46.9609055Z [36;1m    })),[0m
2025-04-16T15:01:46.9609216Z [36;1m  };[0m
2025-04-16T15:01:46.9609377Z [36;1m  [0m
2025-04-16T15:01:46.9609666Z [36;1m  await fs.writeJson(path.join(logsDir, 'summary.json'), summary, { spaces: 2 });[0m
2025-04-16T15:01:46.9610084Z [36;1m  console.log('Workflow error logs sync completed');[0m
2025-04-16T15:01:46.9610356Z [36;1m}[0m
2025-04-16T15:01:46.9610511Z [36;1m[0m
2025-04-16T15:01:46.9610670Z [36;1mmain().catch(error => {[0m
2025-04-16T15:01:46.9610937Z [36;1m  console.error('Error in main process:', error);[0m
2025-04-16T15:01:46.9611210Z [36;1m  process.exit(1);[0m
2025-04-16T15:01:46.9611398Z [36;1m});[0m
2025-04-16T15:01:46.9611558Z [36;1mEOF[0m
2025-04-16T15:01:46.9611706Z [36;1m[0m
2025-04-16T15:01:46.9611883Z [36;1mnode fetch-workflow-logs.js[0m
2025-04-16T15:01:46.9661737Z shell: /usr/bin/bash -e {0}
2025-04-16T15:01:46.9662029Z env:
2025-04-16T15:01:46.9662244Z   CI: true
2025-04-16T15:01:46.9662737Z   GITHUB_TOKEN: ***
2025-04-16T15:01:46.9663139Z   REPO_OWNER: mrkurger
2025-04-16T15:01:46.9663348Z   REPO_NAME: date-night-app2
2025-04-16T15:01:46.9663815Z ##[endgroup]
2025-04-16T15:01:47.0496122Z Fetching workflow logs for mrkurger/date-night-app2
2025-04-16T15:01:47.2629569Z Processing workflow: Angular Tests (156396503)
2025-04-16T15:01:48.0567449Z Found 23 failed runs for Angular Tests
2025-04-16T15:01:48.6007251Z Saved logs for job e2e (22.x) (40663459721)
2025-04-16T15:01:48.8251988Z Saved logs for job test (22.x) (40663459733)
2025-04-16T15:01:49.4324615Z Saved logs for job e2e (22.x) (40662876861)
2025-04-16T15:01:49.6013708Z Saved logs for job test (22.x) (40662876876)
2025-04-16T15:01:49.9437921Z Saved logs for job e2e (22.x) (40662340818)
2025-04-16T15:01:50.0895452Z Saved logs for job test (22.x) (40662340822)
2025-04-16T15:01:50.9222164Z Saved logs for job test (22.x) (40660813802)
2025-04-16T15:01:51.3218163Z Saved logs for job e2e (22.x) (40660813807)
2025-04-16T15:01:52.2379104Z Saved logs for job e2e (22.x) (40659963795)
2025-04-16T15:01:52.4766100Z Saved logs for job test (22.x) (40659963797)
2025-04-16T15:01:52.6234402Z Saved logs for job lint (22.x) (40659963816)
2025-04-16T15:01:53.2117522Z Saved logs for job e2e (22.x) (40658470007)
2025-04-16T15:01:53.3525970Z Saved logs for job lint (22.x) (40658470023)
2025-04-16T15:01:53.4928070Z Saved logs for job test (22.x) (40658470025)
2025-04-16T15:01:53.9922736Z Saved logs for job test (22.x) (40656595432)
2025-04-16T15:01:54.1236469Z Saved logs for job e2e (22.x) (40656595450)
2025-04-16T15:01:54.3009220Z Saved logs for job lint (22.x) (40656595451)
2025-04-16T15:01:54.7739017Z Saved logs for job lint (22.x) (40648995689)
2025-04-16T15:01:54.9489854Z Saved logs for job e2e (22.x) (40648995690)
2025-04-16T15:01:55.1133154Z Saved logs for job test (22.x) (40648995699)
2025-04-16T15:01:55.6994896Z Saved logs for job test (22.x) (40648936041)
2025-04-16T15:01:55.8997304Z Saved logs for job lint (22.x) (40648936049)
2025-04-16T15:01:56.0797987Z Saved logs for job e2e (22.x) (40648936088)
2025-04-16T15:01:56.6417370Z Saved logs for job test (22.x) (40645363558)
2025-04-16T15:01:56.8321763Z Saved logs for job e2e (22.x) (40645363568)
2025-04-16T15:01:57.0135932Z Saved logs for job lint (22.x) (40645363582)
2025-04-16T15:01:57.5461315Z Saved logs for job test (22.x) (40642315715)
2025-04-16T15:01:57.7064764Z Saved logs for job e2e (22.x) (40642315733)
2025-04-16T15:01:57.8808164Z Saved logs for job lint (22.x) (40642315744)
2025-04-16T15:01:58.2642897Z Saved logs for job test (22.x) (40640408484)
2025-04-16T15:01:58.4500283Z Saved logs for job e2e (22.x) (40640408487)
2025-04-16T15:01:58.5931231Z Saved logs for job lint (22.x) (40640408495)
2025-04-16T15:01:59.0023082Z Saved logs for job test (22.x) (40639200761)
2025-04-16T15:01:59.1624556Z Saved logs for job e2e (22.x) (40639200762)
2025-04-16T15:01:59.3064544Z Saved logs for job lint (22.x) (40639200772)
2025-04-16T15:01:59.9371336Z Saved logs for job test (22.x) (40638434179)
2025-04-16T15:02:00.1362721Z Saved logs for job lint (22.x) (40638434180)
2025-04-16T15:02:00.3089542Z Saved logs for job e2e (22.x) (40638434197)
2025-04-16T15:02:00.7638213Z Saved logs for job test (22.x) (40638117917)
2025-04-16T15:02:00.9726410Z Saved logs for job e2e (22.x) (40638117918)
2025-04-16T15:02:01.1670731Z Saved logs for job lint (22.x) (40638117931)
2025-04-16T15:02:01.6883164Z Saved logs for job test (22.x) (40637222574)
2025-04-16T15:02:01.9014647Z Saved logs for job e2e (22.x) (40637222590)
2025-04-16T15:02:02.0834375Z Saved logs for job lint (22.x) (40637222627)
2025-04-16T15:02:02.8924062Z Saved logs for job e2e (22.x) (40636317713)
2025-04-16T15:02:03.0383912Z Saved logs for job test (22.x) (40636317717)
2025-04-16T15:02:03.2062225Z Saved logs for job lint (22.x) (40636317718)
2025-04-16T15:02:03.8527948Z Saved logs for job test (22.x) (40635520017)
2025-04-16T15:02:04.0410179Z Saved logs for job e2e (22.x) (40635520024)
2025-04-16T15:02:04.2575680Z Saved logs for job lint (22.x) (40635520025)
2025-04-16T15:02:04.9782574Z Saved logs for job e2e (22.x) (40631138588)
2025-04-16T15:02:05.2265702Z Saved logs for job test (22.x) (40631138593)
2025-04-16T15:02:05.6541107Z Saved logs for job test (22.x) (40628452555)
2025-04-16T15:02:05.8516958Z Saved logs for job e2e (22.x) (40628452573)
2025-04-16T15:02:06.5453786Z Saved logs for job test (22.x) (40625114143)
2025-04-16T15:02:06.7106710Z Saved logs for job e2e (22.x) (40625114153)
2025-04-16T15:02:07.3002278Z Saved logs for job e2e (22.x) (40623556700)
2025-04-16T15:02:07.5722948Z Saved logs for job test (22.x) (40623556710)
2025-04-16T15:02:08.1984295Z Saved logs for job e2e (22.x) (40623232672)
2025-04-16T15:02:08.3946913Z Saved logs for job test (22.x) (40623232677)
2025-04-16T15:02:08.3948761Z Processing workflow: Security Alerts Report (Alternative) (156517337)
2025-04-16T15:02:08.5911162Z Found 0 failed runs for Security Alerts Report (Alternative)
2025-04-16T15:02:08.5912925Z Processing workflow: Security Alerts Report (156511788)
2025-04-16T15:02:08.8660775Z Found 1 failed runs for Security Alerts Report
2025-04-16T15:02:09.3289158Z Saved logs for job generate-report (40657820058)
2025-04-16T15:02:09.3291100Z Processing workflow: Server Tests (156396504)
2025-04-16T15:02:09.6447626Z Found 7 failed runs for Server Tests
2025-04-16T15:02:10.0014048Z Saved logs for job test (22.x) (40663459741)
2025-04-16T15:02:10.4580952Z Saved logs for job test (22.x) (40659963757)
2025-04-16T15:02:10.6237795Z Saved logs for job lint (22.x) (40659963777)
2025-04-16T15:02:11.0951506Z Saved logs for job lint (22.x) (40656595380)
2025-04-16T15:02:11.3368100Z Saved logs for job test (22.x) (40656595382)
2025-04-16T15:02:11.9207071Z Saved logs for job test (22.x) (40648936051)
2025-04-16T15:02:12.1045665Z Saved logs for job lint (22.x) (40648936076)
2025-04-16T15:02:12.6212064Z Saved logs for job lint (22.x) (40636317715)
2025-04-16T15:02:12.8506675Z Saved logs for job test (22.x) (40636317724)
2025-04-16T15:02:13.2971998Z Saved logs for job lint (22.x) (40636157199)
2025-04-16T15:02:13.5028110Z Saved logs for job test (22.x) (40636157200)
2025-04-16T15:02:14.0552408Z Saved logs for job test (22.x) (40631138589)
2025-04-16T15:02:14.0561049Z Processing workflow: Sync GitHub Insights (Alternative) (156517338)
2025-04-16T15:02:14.2883212Z Found 0 failed runs for Sync GitHub Insights (Alternative)
2025-04-16T15:02:14.2885166Z Processing workflow: Sync GitHub Insights (Fixed) (156518590)
2025-04-16T15:02:14.4798927Z Found 0 failed runs for Sync GitHub Insights (Fixed)
2025-04-16T15:02:14.4800278Z Processing workflow: Sync GitHub Insights (156511789)
2025-04-16T15:02:14.7220497Z Found 3 failed runs for Sync GitHub Insights
2025-04-16T15:02:15.1863218Z Saved logs for job sync-insights (40658529730)
2025-04-16T15:02:15.6775327Z Saved logs for job sync-insights (40657800158)
2025-04-16T15:02:16.1768861Z Saved logs for job sync-insights (40656793753)
2025-04-16T15:02:16.1770288Z Processing workflow: Sync Test Reports (156511790)
2025-04-16T15:02:16.7676101Z Found 2 failed runs for Sync Test Reports
2025-04-16T15:02:17.2217783Z Saved logs for job sync-reports (40656664593)
2025-04-16T15:02:17.6529643Z Saved logs for job sync-reports (40656644372)
2025-04-16T15:02:17.6530711Z Processing workflow: Sync Workflow Error Logs (156531139)
2025-04-16T15:02:17.9691496Z Found 2 failed runs for Sync Workflow Error Logs
2025-04-16T15:02:18.3904782Z Saved logs for job sync-error-logs (40663556539)
2025-04-16T15:02:18.8874991Z Saved logs for job sync-error-logs (40663029643)
2025-04-16T15:02:18.8876286Z Processing workflow: Sync Workflow Error Logs (Robust) (156532769)
2025-04-16T15:02:19.3450539Z Found 2 failed runs for Sync Workflow Error Logs (Robust)
2025-04-16T15:02:19.7899664Z Saved logs for job sync-error-logs (40663556527)
2025-04-16T15:02:20.2911291Z Saved logs for job sync-error-logs (40663489150)
2025-04-16T15:02:20.2912683Z Processing workflow: Sync Workflow Error Logs (156529457)
2025-04-16T15:02:20.7130390Z Found 7 failed runs for Sync Workflow Error Logs
2025-04-16T15:02:21.1917483Z Saved logs for job sync-error-logs (40663610514)
2025-04-16T15:02:21.7529577Z Saved logs for job sync-error-logs (40663581717)
2025-04-16T15:02:22.1379464Z Saved logs for job sync-error-logs (40663556577)
2025-04-16T15:02:22.5920925Z Saved logs for job sync-error-logs (40663029928)
2025-04-16T15:02:23.0387525Z Saved logs for job sync-error-logs (40662993597)
2025-04-16T15:02:23.4032688Z Saved logs for job sync-error-logs (40662475242)
2025-04-16T15:02:23.9197156Z Saved logs for job sync-error-logs (40662446363)
2025-04-16T15:02:23.9198495Z Processing workflow: Dependabot Updates (153911032)
2025-04-16T15:02:24.9881010Z Found 15 failed runs for Dependabot Updates
2025-04-16T15:02:25.5028271Z Saved logs for job Dependabot (40657560162)
2025-04-16T15:02:25.9760262Z Saved logs for job Dependabot (40657559762)
2025-04-16T15:02:26.5355398Z Saved logs for job Dependabot (40657410431)
2025-04-16T15:02:27.0087185Z Saved logs for job Dependabot (40657409984)
2025-04-16T15:02:27.6871542Z Saved logs for job Dependabot (40656602439)
2025-04-16T15:02:28.3820902Z Saved logs for job Dependabot (40656599224)
2025-04-16T15:02:28.9228058Z Saved logs for job Dependabot (40656599232)
2025-04-16T15:02:29.5597400Z Saved logs for job Dependabot (40648953960)
2025-04-16T15:02:29.9930676Z Saved logs for job Dependabot (40636173412)
2025-04-16T15:02:30.5073582Z Saved logs for job Dependabot (40635535253)
2025-04-16T15:02:30.8579523Z Saved logs for job Dependabot (40620670121)
2025-04-16T15:02:31.4256147Z Saved logs for job Dependabot (40620661666)
2025-04-16T15:02:31.9574955Z Saved logs for job Dependabot (40615377452)
2025-04-16T15:02:32.5296532Z Saved logs for job Dependabot (40615364053)
2025-04-16T15:02:33.0583780Z Saved logs for job Dependabot (40405591413)
2025-04-16T15:02:33.0588127Z Workflow error logs sync completed
2025-04-16T15:02:33.0700356Z ##[group]Run cat > workflow-error-logs/README.md << 'EOF'
2025-04-16T15:02:33.0700772Z [36;1mcat > workflow-error-logs/README.md << 'EOF'[0m
2025-04-16T15:02:33.0701042Z [36;1m# Workflow Error Logs[0m
2025-04-16T15:02:33.0701249Z [36;1m[0m
2025-04-16T15:02:33.0701774Z [36;1mThis directory contains logs from failed GitHub Actions workflow runs. These logs are automatically collected by the "Sync Workflow Error Logs" workflow.[0m
2025-04-16T15:02:33.0702365Z [36;1m[0m
2025-04-16T15:02:33.0702533Z [36;1m## Directory Structure[0m
2025-04-16T15:02:33.0702924Z [36;1m[0m
2025-04-16T15:02:33.0703077Z [36;1m```[0m
2025-04-16T15:02:33.0703253Z [36;1mworkflow-error-logs/[0m
2025-04-16T15:02:33.0703785Z [36;1mâ”œâ”€â”€ {workflow-name}/[0m
2025-04-16T15:02:33.0704009Z [36;1mâ”‚   â”œâ”€â”€ {date}_{run-id}/[0m
2025-04-16T15:02:33.0704294Z [36;1mâ”‚   â”‚   â”œâ”€â”€ metadata.json       # Run metadata[0m
2025-04-16T15:02:33.0704585Z [36;1mâ”‚   â”‚   â”œâ”€â”€ jobs.json           # Jobs metadata[0m
2025-04-16T15:02:33.0704903Z [36;1mâ”‚   â”‚   â”œâ”€â”€ {job-name}/[0m
2025-04-16T15:02:33.0705156Z [36;1mâ”‚   â”‚   â”‚   â”œâ”€â”€ job-metadata.json  # Job metadata[0m
2025-04-16T15:02:33.0705437Z [36;1mâ”‚   â”‚   â”‚   â””â”€â”€ logs.txt           # Job logs[0m
2025-04-16T15:02:33.0705679Z [36;1mâ”‚   â”‚   â””â”€â”€ ...[0m
2025-04-16T15:02:33.0705864Z [36;1mâ”‚   â””â”€â”€ ...[0m
2025-04-16T15:02:33.0706038Z [36;1mâ””â”€â”€ ...[0m
2025-04-16T15:02:33.0706199Z [36;1m```[0m
2025-04-16T15:02:33.0706356Z [36;1m[0m
2025-04-16T15:02:33.0706512Z [36;1m## Using These Logs[0m
2025-04-16T15:02:33.0706709Z [36;1m[0m
2025-04-16T15:02:33.0707225Z [36;1mThese logs can be used to diagnose and fix issues with GitHub Actions workflows. Look for error messages, failed steps, and other indicators of problems.[0m
2025-04-16T15:02:33.0707786Z [36;1m[0m
2025-04-16T15:02:33.0707944Z [36;1m## Automatic Collection[0m
2025-04-16T15:02:33.0708152Z [36;1m[0m
2025-04-16T15:02:33.0708309Z [36;1mLogs are collected:[0m
2025-04-16T15:02:33.0708550Z [36;1m- After any workflow completes[0m
2025-04-16T15:02:33.0708808Z [36;1m- Every 6 hours via scheduled run[0m
2025-04-16T15:02:33.0709054Z [36;1m- Manually via workflow dispatch[0m
2025-04-16T15:02:33.0709290Z [36;1m[0m
2025-04-16T15:02:33.0709439Z [36;1m## Retention[0m
2025-04-16T15:02:33.0709613Z [36;1m[0m
2025-04-16T15:02:33.0709814Z [36;1mOnly logs from the past 30 days are collected.[0m
2025-04-16T15:02:33.0710077Z [36;1mEOF[0m
2025-04-16T15:02:33.0757253Z shell: /usr/bin/bash -e {0}
2025-04-16T15:02:33.0757468Z env:
2025-04-16T15:02:33.0757626Z   CI: true
2025-04-16T15:02:33.0757796Z ##[endgroup]
2025-04-16T15:02:33.0866258Z ##[group]Run git config --local user.email "action@github.com"
2025-04-16T15:02:33.0866675Z [36;1mgit config --local user.email "action@github.com"[0m
2025-04-16T15:02:33.0867001Z [36;1mgit config --local user.name "GitHub Action"[0m
2025-04-16T15:02:33.0867257Z [36;1m[0m
2025-04-16T15:02:33.0867528Z [36;1m# Pull the latest changes with rebase strategy to avoid merge commits[0m
2025-04-16T15:02:33.0867870Z [36;1mgit pull --rebase origin main[0m
2025-04-16T15:02:33.0868101Z [36;1m[0m
2025-04-16T15:02:33.0868274Z [36;1mgit add workflow-error-logs[0m
2025-04-16T15:02:33.0868491Z [36;1m[0m
2025-04-16T15:02:33.0868667Z [36;1m# Only commit if there are changes[0m
2025-04-16T15:02:33.0868920Z [36;1mif git diff --staged --quiet; then[0m
2025-04-16T15:02:33.0869165Z [36;1m  echo "No changes to commit"[0m
2025-04-16T15:02:33.0869385Z [36;1melse[0m
2025-04-16T15:02:33.0869622Z [36;1m  git commit -m "Update workflow error logs [skip ci]"[0m
2025-04-16T15:02:33.0869944Z [36;1m  git push[0m
2025-04-16T15:02:33.0870116Z [36;1mfi[0m
2025-04-16T15:02:33.0915088Z shell: /usr/bin/bash -e {0}
2025-04-16T15:02:33.0915418Z env:
2025-04-16T15:02:33.0915652Z   CI: true
2025-04-16T15:02:33.0915898Z ##[endgroup]
2025-04-16T15:02:33.6015457Z error: cannot pull with rebase: You have unstaged changes.
2025-04-16T15:02:33.6017927Z error: Please commit or stash them.
2025-04-16T15:02:33.6034281Z ##[error]Process completed with exit code 128.
2025-04-16T15:02:33.6129364Z Post job cleanup.
2025-04-16T15:02:33.7126269Z [command]/usr/bin/git version
2025-04-16T15:02:33.7167784Z git version 2.49.0
2025-04-16T15:02:33.7216736Z Temporarily overriding HOME='/home/runner/work/_temp/da227439-048d-4134-9186-3683c01744b5' before making global git config changes
2025-04-16T15:02:33.7219209Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:02:33.7235281Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:02:33.7275196Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:02:33.7312489Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:02:33.7561766Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:02:33.7587915Z http.https://github.com/.extraheader
2025-04-16T15:02:33.7601449Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-04-16T15:02:33.7637828Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:02:33.7988978Z Cleaning up orphan processes
