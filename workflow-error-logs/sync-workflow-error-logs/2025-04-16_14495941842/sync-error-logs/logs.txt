2025-04-16T15:01:11.6522408Z Current runner version: '2.323.0'
2025-04-16T15:01:11.6557193Z ##[group]Operating System
2025-04-16T15:01:11.6558256Z Ubuntu
2025-04-16T15:01:11.6559106Z 24.04.2
2025-04-16T15:01:11.6560121Z LTS
2025-04-16T15:01:11.6560921Z ##[endgroup]
2025-04-16T15:01:11.6561712Z ##[group]Runner Image
2025-04-16T15:01:11.6562820Z Image: ubuntu-24.04
2025-04-16T15:01:11.6563694Z Version: 20250406.1.0
2025-04-16T15:01:11.6565426Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250406.1/images/ubuntu/Ubuntu2404-Readme.md
2025-04-16T15:01:11.6567996Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250406.1
2025-04-16T15:01:11.6569568Z ##[endgroup]
2025-04-16T15:01:11.6570618Z ##[group]Runner Image Provisioner
2025-04-16T15:01:11.6571759Z 2.0.422.1
2025-04-16T15:01:11.6572549Z ##[endgroup]
2025-04-16T15:01:11.6574375Z ##[group]GITHUB_TOKEN Permissions
2025-04-16T15:01:11.6576917Z Actions: read
2025-04-16T15:01:11.6577740Z Contents: write
2025-04-16T15:01:11.6578987Z Metadata: read
2025-04-16T15:01:11.6580167Z ##[endgroup]
2025-04-16T15:01:11.6583110Z Secret source: Actions
2025-04-16T15:01:11.6584112Z Prepare workflow directory
2025-04-16T15:01:11.7131765Z Prepare all required actions
2025-04-16T15:01:11.7186104Z Getting action download info
2025-04-16T15:01:12.1528897Z ##[group]Download immutable action package 'actions/checkout@v4'
2025-04-16T15:01:12.1530996Z Version: 4.2.2
2025-04-16T15:01:12.1532476Z Digest: sha256:ccb2698953eaebd21c7bf6268a94f9c26518a7e38e27e0b83c1fe1ad049819b1
2025-04-16T15:01:12.1533830Z Source commit SHA: 11bd71901bbe5b1630ceea73d27597364c9af683
2025-04-16T15:01:12.1534628Z ##[endgroup]
2025-04-16T15:01:12.2395928Z ##[group]Download immutable action package 'actions/setup-node@v4'
2025-04-16T15:01:12.2396848Z Version: 4.4.0
2025-04-16T15:01:12.2397725Z Digest: sha256:9427cefe82346e992fb5b949e3569b39d537ae41aa3086483b14eceebfc16bc1
2025-04-16T15:01:12.2398770Z Source commit SHA: 49933ea5288caeca8642d1e84afbd3f7d6820020
2025-04-16T15:01:12.2399612Z ##[endgroup]
2025-04-16T15:01:12.5452463Z Complete job name: sync-error-logs
2025-04-16T15:01:12.6110262Z ##[group]Run actions/checkout@v4
2025-04-16T15:01:12.6111194Z with:
2025-04-16T15:01:12.6111612Z   fetch-depth: 0
2025-04-16T15:01:12.6112298Z   repository: mrkurger/date-night-app2
2025-04-16T15:01:12.6113551Z   token: ***
2025-04-16T15:01:12.6114360Z   ssh-strict: true
2025-04-16T15:01:12.6115164Z   ssh-user: git
2025-04-16T15:01:12.6116007Z   persist-credentials: true
2025-04-16T15:01:12.6116957Z   clean: true
2025-04-16T15:01:12.6117794Z   sparse-checkout-cone-mode: true
2025-04-16T15:01:12.6118834Z   fetch-tags: false
2025-04-16T15:01:12.6119660Z   show-progress: true
2025-04-16T15:01:12.6120827Z   lfs: false
2025-04-16T15:01:12.6121622Z   submodules: false
2025-04-16T15:01:12.6122438Z   set-safe-directory: true
2025-04-16T15:01:12.6123795Z env:
2025-04-16T15:01:12.6124503Z   CI: true
2025-04-16T15:01:12.6125223Z ##[endgroup]
2025-04-16T15:01:12.8988577Z Syncing repository: mrkurger/date-night-app2
2025-04-16T15:01:12.8991701Z ##[group]Getting Git version info
2025-04-16T15:01:12.8993195Z Working directory is '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:01:12.8995173Z [command]/usr/bin/git version
2025-04-16T15:01:12.8996097Z git version 2.49.0
2025-04-16T15:01:12.8998873Z ##[endgroup]
2025-04-16T15:01:12.9005141Z Temporarily overriding HOME='/home/runner/work/_temp/4ab8d34c-96a2-4c9d-877a-85d6251d176e' before making global git config changes
2025-04-16T15:01:12.9007777Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:01:12.9010263Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:01:12.9013534Z Deleting the contents of '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:01:12.9015532Z ##[group]Initializing the repository
2025-04-16T15:01:12.9016861Z [command]/usr/bin/git init /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:01:12.9019020Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-04-16T15:01:12.9021010Z hint: is subject to change. To configure the initial branch name to use in all
2025-04-16T15:01:12.9022710Z hint: of your new repositories, which will suppress this warning, call:
2025-04-16T15:01:12.9023996Z hint:
2025-04-16T15:01:12.9024876Z hint: 	git config --global init.defaultBranch <name>
2025-04-16T15:01:12.9025955Z hint:
2025-04-16T15:01:12.9026980Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-04-16T15:01:12.9028643Z hint: 'development'. The just-created branch can be renamed via this command:
2025-04-16T15:01:12.9030272Z hint:
2025-04-16T15:01:12.9031123Z hint: 	git branch -m <name>
2025-04-16T15:01:12.9032629Z Initialized empty Git repository in /home/runner/work/date-night-app2/date-night-app2/.git/
2025-04-16T15:01:12.9035759Z [command]/usr/bin/git remote add origin https://github.com/mrkurger/date-night-app2
2025-04-16T15:01:12.9038722Z ##[endgroup]
2025-04-16T15:01:12.9040329Z ##[group]Disabling automatic garbage collection
2025-04-16T15:01:12.9041493Z [command]/usr/bin/git config --local gc.auto 0
2025-04-16T15:01:12.9044006Z ##[endgroup]
2025-04-16T15:01:12.9045245Z ##[group]Setting up auth
2025-04-16T15:01:12.9046636Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:01:12.9050801Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:01:12.9055064Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:01:12.9059590Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:01:12.9138333Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-04-16T15:01:12.9261639Z ##[endgroup]
2025-04-16T15:01:12.9264503Z ##[group]Fetching the repository
2025-04-16T15:01:12.9266656Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
2025-04-16T15:01:21.3800524Z From https://github.com/mrkurger/date-night-app2
2025-04-16T15:01:21.3803588Z  * [new branch]      dependabot/github_actions/dawidd6/action-download-artifact-9 -> origin/dependabot/github_actions/dawidd6/action-download-artifact-9
2025-04-16T15:01:21.3809224Z  * [new branch]      dependabot/npm_and_yarn/server/multi-94fa72f662 -> origin/dependabot/npm_and_yarn/server/multi-94fa72f662
2025-04-16T15:01:21.3812552Z  * [new branch]      main       -> origin/main
2025-04-16T15:01:21.3848098Z [command]/usr/bin/git branch --list --remote origin/main
2025-04-16T15:01:21.3874336Z   origin/main
2025-04-16T15:01:21.3884928Z [command]/usr/bin/git rev-parse refs/remotes/origin/main
2025-04-16T15:01:21.3907252Z b7b02b02b67d186f71e3b6a43ebe9f432064fd3a
2025-04-16T15:01:21.3921115Z ##[endgroup]
2025-04-16T15:01:21.3928420Z ##[group]Determining the checkout info
2025-04-16T15:01:21.3929386Z ##[endgroup]
2025-04-16T15:01:21.3930574Z [command]/usr/bin/git sparse-checkout disable
2025-04-16T15:01:21.3969040Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-04-16T15:01:21.3997532Z ##[group]Checking out the ref
2025-04-16T15:01:21.4003303Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-04-16T15:01:21.7788007Z Switched to a new branch 'main'
2025-04-16T15:01:21.7813498Z branch 'main' set up to track 'origin/main'.
2025-04-16T15:01:21.7841925Z ##[endgroup]
2025-04-16T15:01:21.7909625Z [command]/usr/bin/git log -1 --format=%H
2025-04-16T15:01:21.7951935Z b7b02b02b67d186f71e3b6a43ebe9f432064fd3a
2025-04-16T15:01:21.8191941Z ##[group]Run actions/setup-node@v4
2025-04-16T15:01:21.8192233Z with:
2025-04-16T15:01:21.8192691Z   node-version: 22.x
2025-04-16T15:01:21.8192887Z   always-auth: false
2025-04-16T15:01:21.8193087Z   check-latest: false
2025-04-16T15:01:21.8193394Z   token: ***
2025-04-16T15:01:21.8193565Z env:
2025-04-16T15:01:21.8193722Z   CI: true
2025-04-16T15:01:21.8193887Z ##[endgroup]
2025-04-16T15:01:21.9974312Z Found in cache @ /opt/hostedtoolcache/node/22.14.0/x64
2025-04-16T15:01:21.9982082Z ##[group]Environment details
2025-04-16T15:01:22.5529039Z node: v22.14.0
2025-04-16T15:01:22.5534239Z npm: 10.9.2
2025-04-16T15:01:22.5537900Z yarn: 1.22.22
2025-04-16T15:01:22.5542941Z ##[endgroup]
2025-04-16T15:01:22.5656870Z ##[group]Run npm install @octokit/rest@19.0.13 fs-extra@11.2.0
2025-04-16T15:01:22.5657305Z [36;1mnpm install @octokit/rest@19.0.13 fs-extra@11.2.0[0m
2025-04-16T15:01:22.5711495Z shell: /usr/bin/bash -e {0}
2025-04-16T15:01:22.5711736Z env:
2025-04-16T15:01:22.5711896Z   CI: true
2025-04-16T15:01:22.5712069Z ##[endgroup]
2025-04-16T15:01:27.6597592Z npm warn deprecated xss-clean@0.1.4: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.
2025-04-16T15:01:28.7863997Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-04-16T15:01:29.2483509Z npm warn deprecated passport-reddit@1.1.0: While functionally complete, this library will not be receiving any updates going forwards. Users are actively discouraged from using OAuth2 for authentication. See archival notice on github for more details.
2025-04-16T15:01:29.5190637Z npm warn deprecated npmlog@5.0.1: This package is no longer supported.
2025-04-16T15:01:29.8213800Z npm warn deprecated superagent@8.1.2: Please upgrade to v9.0.0+ as we have fixed a public vulnerability with formidable dependency. Note that v9.0.0+ requires Node.js v14.18.0+. See https://github.com/ladjs/superagent/pull/1800 for insight. This project is supported and maintained by the team at Forward Email @ https://forwardemail.net
2025-04-16T15:01:30.9219170Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-04-16T15:01:31.2143781Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-04-16T15:01:31.7121525Z npm warn deprecated gauge@3.0.2: This package is no longer supported.
2025-04-16T15:01:32.0462535Z npm warn deprecated domexception@4.0.0: Use your platform's native DOMException instead
2025-04-16T15:01:33.2132241Z npm warn deprecated are-we-there-yet@2.0.0: This package is no longer supported.
2025-04-16T15:01:33.3467765Z npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead
2025-04-16T15:01:34.7167429Z npm warn deprecated @humanwhocodes/config-array@0.11.14: Use @eslint/config-array instead
2025-04-16T15:01:34.7178838Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-04-16T15:01:41.8300435Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:01:41.8347062Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:02:04.1707228Z 
2025-04-16T15:02:04.1708362Z added 1914 packages, and audited 1917 packages in 42s
2025-04-16T15:02:04.1709004Z 
2025-04-16T15:02:04.1709629Z 354 packages are looking for funding
2025-04-16T15:02:04.1710626Z   run `npm fund` for details
2025-04-16T15:02:04.1919263Z 
2025-04-16T15:02:04.1920110Z 9 moderate severity vulnerabilities
2025-04-16T15:02:04.1920474Z 
2025-04-16T15:02:04.1920857Z To address issues that do not require attention, run:
2025-04-16T15:02:04.1921405Z   npm audit fix
2025-04-16T15:02:04.1921621Z 
2025-04-16T15:02:04.1922005Z To address all issues (including breaking changes), run:
2025-04-16T15:02:04.1922661Z   npm audit fix --force
2025-04-16T15:02:04.1923446Z 
2025-04-16T15:02:04.1923689Z Run `npm audit` for details.
2025-04-16T15:02:04.2749321Z ##[group]Run cat > fetch-workflow-logs.js << 'EOF'
2025-04-16T15:02:04.2750705Z [36;1mcat > fetch-workflow-logs.js << 'EOF'[0m
2025-04-16T15:02:04.2751036Z [36;1mconst { Octokit } = require('@octokit/rest');[0m
2025-04-16T15:02:04.2751343Z [36;1mconst fs = require('fs-extra');[0m
2025-04-16T15:02:04.2751601Z [36;1mconst path = require('path');[0m
2025-04-16T15:02:04.2751855Z [36;1m[0m
2025-04-16T15:02:04.2752035Z [36;1masync function main() {[0m
2025-04-16T15:02:04.2752295Z [36;1m  const owner = process.env.REPO_OWNER;[0m
2025-04-16T15:02:04.2752587Z [36;1m  const repo = process.env.REPO_NAME;[0m
2025-04-16T15:02:04.2752895Z [36;1m  const logsDir = path.join('workflow-error-logs');[0m
2025-04-16T15:02:04.2753180Z [36;1m  [0m
2025-04-16T15:02:04.2753426Z [36;1m  console.log(`Fetching workflow logs for ${owner}/${repo}`);[0m
2025-04-16T15:02:04.2753731Z [36;1m  [0m
2025-04-16T15:02:04.2753953Z [36;1m  // Create logs directory if it doesn't exist[0m
2025-04-16T15:02:04.2754295Z [36;1m  await fs.ensureDir(logsDir);[0m
2025-04-16T15:02:04.2754522Z [36;1m  [0m
2025-04-16T15:02:04.2754700Z [36;1m  const octokit = new Octokit({[0m
2025-04-16T15:02:04.2754953Z [36;1m    auth: process.env.GITHUB_TOKEN,[0m
2025-04-16T15:02:04.2755213Z [36;1m    request: {[0m
2025-04-16T15:02:04.2755412Z [36;1m      retries: 3,[0m
2025-04-16T15:02:04.2755624Z [36;1m      retryAfter: 1[0m
2025-04-16T15:02:04.2755826Z [36;1m    }[0m
2025-04-16T15:02:04.2755987Z [36;1m  });[0m
2025-04-16T15:02:04.2756146Z [36;1m  [0m
2025-04-16T15:02:04.2756312Z [36;1m  // Get all workflows[0m
2025-04-16T15:02:04.2756644Z [36;1m  const { data: workflows } = await octokit.actions.listRepoWorkflows({[0m
2025-04-16T15:02:04.2756982Z [36;1m    owner,[0m
2025-04-16T15:02:04.2757166Z [36;1m    repo,[0m
2025-04-16T15:02:04.2757333Z [36;1m  });[0m
2025-04-16T15:02:04.2757496Z [36;1m  [0m
2025-04-16T15:02:04.2757705Z [36;1m  // Get recent workflow runs (last 30 days)[0m
2025-04-16T15:02:04.2757988Z [36;1m  const thirtyDaysAgo = new Date();[0m
2025-04-16T15:02:04.2758318Z [36;1m  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);[0m
2025-04-16T15:02:04.2758609Z [36;1m  [0m
2025-04-16T15:02:04.2758830Z [36;1m  for (const workflow of workflows.workflows) {[0m
2025-04-16T15:02:04.2759208Z [36;1m    console.log(`Processing workflow: ${workflow.name} (${workflow.id})`);[0m
2025-04-16T15:02:04.2759550Z [36;1m    [0m
2025-04-16T15:02:04.2759890Z [36;1m    try {[0m
2025-04-16T15:02:04.2760235Z [36;1m      const { data: runs } = await octokit.actions.listWorkflowRuns({[0m
2025-04-16T15:02:04.2760561Z [36;1m        owner,[0m
2025-04-16T15:02:04.2760752Z [36;1m        repo,[0m
2025-04-16T15:02:04.2760965Z [36;1m        workflow_id: workflow.id,[0m
2025-04-16T15:02:04.2761275Z [36;1m        created: `>=${thirtyDaysAgo.toISOString().split('T')[0]}`,[0m
2025-04-16T15:02:04.2761578Z [36;1m      });[0m
2025-04-16T15:02:04.2761756Z [36;1m      [0m
2025-04-16T15:02:04.2761942Z [36;1m      // Process failed runs[0m
2025-04-16T15:02:04.2762242Z [36;1m      const failedRuns = runs.workflow_runs.filter(run => [0m
2025-04-16T15:02:04.2762702Z [36;1m        run.conclusion === 'failure' || run.conclusion === 'cancelled' || run.conclusion === 'timed_out'[0m
2025-04-16T15:02:04.2763101Z [36;1m      );[0m
2025-04-16T15:02:04.2763264Z [36;1m      [0m
2025-04-16T15:02:04.2763570Z [36;1m      console.log(`Found ${failedRuns.length} failed runs for ${workflow.name}`);[0m
2025-04-16T15:02:04.2763918Z [36;1m      [0m
2025-04-16T15:02:04.2764109Z [36;1m      for (const run of failedRuns) {[0m
2025-04-16T15:02:04.2764459Z [36;1m        const runDate = new Date(run.created_at).toISOString().split('T')[0];[0m
2025-04-16T15:02:04.2764989Z [36;1m        const workflowDir = path.join(logsDir, workflow.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:02:04.2765505Z [36;1m        const runDir = path.join(workflowDir, `${runDate}_${run.id}`);[0m
2025-04-16T15:02:04.2766185Z [36;1m        [0m
2025-04-16T15:02:04.2766387Z [36;1m        await fs.ensureDir(runDir);[0m
2025-04-16T15:02:04.2766616Z [36;1m        [0m
2025-04-16T15:02:04.2766886Z [36;1m        // Save run metadata[0m
2025-04-16T15:02:04.2767261Z [36;1m        await fs.writeJson(path.join(runDir, 'metadata.json'), run, { spaces: 2 });[0m
2025-04-16T15:02:04.2767612Z [36;1m        [0m
2025-04-16T15:02:04.2767785Z [36;1m        try {[0m
2025-04-16T15:02:04.2767990Z [36;1m          // Get jobs for this run[0m
2025-04-16T15:02:04.2768334Z [36;1m          const { data: jobs } = await octokit.actions.listJobsForWorkflowRun({[0m
2025-04-16T15:02:04.2768678Z [36;1m            owner,[0m
2025-04-16T15:02:04.2768877Z [36;1m            repo,[0m
2025-04-16T15:02:04.2769086Z [36;1m            run_id: run.id,[0m
2025-04-16T15:02:04.2769300Z [36;1m          });[0m
2025-04-16T15:02:04.2769483Z [36;1m          [0m
2025-04-16T15:02:04.2769685Z [36;1m          // Save jobs metadata[0m
2025-04-16T15:02:04.2770250Z [36;1m          await fs.writeJson(path.join(runDir, 'jobs.json'), jobs, { spaces: 2 });[0m
2025-04-16T15:02:04.2770595Z [36;1m          [0m
2025-04-16T15:02:04.2770780Z [36;1m          // Process each job[0m
2025-04-16T15:02:04.2771042Z [36;1m          for (const job of jobs.jobs) {[0m
2025-04-16T15:02:04.2771463Z [36;1m            if (job.conclusion === 'failure' || job.conclusion === 'cancelled' || job.conclusion === 'timed_out') {[0m
2025-04-16T15:02:04.2772024Z [36;1m              const jobDir = path.join(runDir, job.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:02:04.2772435Z [36;1m              await fs.ensureDir(jobDir);[0m
2025-04-16T15:02:04.2772676Z [36;1m              [0m
2025-04-16T15:02:04.2772885Z [36;1m              // Save job metadata[0m
2025-04-16T15:02:04.2773256Z [36;1m              await fs.writeJson(path.join(jobDir, 'job-metadata.json'), job, { spaces: 2 });[0m
2025-04-16T15:02:04.2773626Z [36;1m              [0m
2025-04-16T15:02:04.2773823Z [36;1m              try {[0m
2025-04-16T15:02:04.2774033Z [36;1m                // Get job logs[0m
2025-04-16T15:02:04.2774388Z [36;1m                const logs = await octokit.actions.downloadJobLogsForWorkflowRun({[0m
2025-04-16T15:02:04.2774738Z [36;1m                  owner,[0m
2025-04-16T15:02:04.2774949Z [36;1m                  repo,[0m
2025-04-16T15:02:04.2775166Z [36;1m                  job_id: job.id,[0m
2025-04-16T15:02:04.2775395Z [36;1m                });[0m
2025-04-16T15:02:04.2775587Z [36;1m                [0m
2025-04-16T15:02:04.2775775Z [36;1m                // Save logs[0m
2025-04-16T15:02:04.2776084Z [36;1m                await fs.writeFile(path.join(jobDir, 'logs.txt'), logs.data);[0m
2025-04-16T15:02:04.2776475Z [36;1m                console.log(`Saved logs for job ${job.name} (${job.id})`);[0m
2025-04-16T15:02:04.2776785Z [36;1m              } catch (error) {[0m
2025-04-16T15:02:04.2777152Z [36;1m                console.error(`Error fetching logs for job ${job.id}: ${error.message}`);[0m
2025-04-16T15:02:04.2777668Z [36;1m                await fs.writeFile(path.join(jobDir, 'error.txt'), `Error fetching logs: ${error.message}`);[0m
2025-04-16T15:02:04.2778059Z [36;1m              }[0m
2025-04-16T15:02:04.2778240Z [36;1m            }[0m
2025-04-16T15:02:04.2778420Z [36;1m          }[0m
2025-04-16T15:02:04.2778598Z [36;1m        } catch (error) {[0m
2025-04-16T15:02:04.2778917Z [36;1m          console.error(`Error processing run ${run.id}: ${error.message}`);[0m
2025-04-16T15:02:04.2779411Z [36;1m          await fs.writeFile(path.join(runDir, 'error.txt'), `Error processing run: ${error.message}`);[0m
2025-04-16T15:02:04.2780074Z [36;1m        }[0m
2025-04-16T15:02:04.2780266Z [36;1m      }[0m
2025-04-16T15:02:04.2780444Z [36;1m    } catch (error) {[0m
2025-04-16T15:02:04.2780797Z [36;1m      console.error(`Error processing workflow ${workflow.id}: ${error.message}`);[0m
2025-04-16T15:02:04.2781322Z [36;1m    }[0m
2025-04-16T15:02:04.2781604Z [36;1m  }[0m
2025-04-16T15:02:04.2781762Z [36;1m  [0m
2025-04-16T15:02:04.2781933Z [36;1m  // Create summary file[0m
2025-04-16T15:02:04.2782159Z [36;1m  const summary = {[0m
2025-04-16T15:02:04.2782395Z [36;1m    timestamp: new Date().toISOString(),[0m
2025-04-16T15:02:04.2782703Z [36;1m    totalWorkflows: workflows.workflows.length,[0m
2025-04-16T15:02:04.2783037Z [36;1m    workflowSummary: workflows.workflows.map(w => ({[0m
2025-04-16T15:02:04.2783334Z [36;1m      name: w.name,[0m
2025-04-16T15:02:04.2783530Z [36;1m      id: w.id,[0m
2025-04-16T15:02:04.2783722Z [36;1m      path: w.path,[0m
2025-04-16T15:02:04.2783919Z [36;1m    })),[0m
2025-04-16T15:02:04.2784078Z [36;1m  };[0m
2025-04-16T15:02:04.2784240Z [36;1m  [0m
2025-04-16T15:02:04.2784536Z [36;1m  await fs.writeJson(path.join(logsDir, 'summary.json'), summary, { spaces: 2 });[0m
2025-04-16T15:02:04.2784958Z [36;1m  console.log('Workflow error logs sync completed');[0m
2025-04-16T15:02:04.2785239Z [36;1m}[0m
2025-04-16T15:02:04.2785396Z [36;1m[0m
2025-04-16T15:02:04.2785555Z [36;1mmain().catch(error => {[0m
2025-04-16T15:02:04.2785823Z [36;1m  console.error('Error in main process:', error);[0m
2025-04-16T15:02:04.2786101Z [36;1m  process.exit(1);[0m
2025-04-16T15:02:04.2786291Z [36;1m});[0m
2025-04-16T15:02:04.2786448Z [36;1mEOF[0m
2025-04-16T15:02:04.2786596Z [36;1m[0m
2025-04-16T15:02:04.2786772Z [36;1mnode fetch-workflow-logs.js[0m
2025-04-16T15:02:04.2833868Z shell: /usr/bin/bash -e {0}
2025-04-16T15:02:04.2834098Z env:
2025-04-16T15:02:04.2834266Z   CI: true
2025-04-16T15:02:04.2834663Z   GITHUB_TOKEN: ***
2025-04-16T15:02:04.2834859Z   REPO_OWNER: mrkurger
2025-04-16T15:02:04.2835068Z   REPO_NAME: date-night-app2
2025-04-16T15:02:04.2835278Z ##[endgroup]
2025-04-16T15:02:04.3715817Z Fetching workflow logs for mrkurger/date-night-app2
2025-04-16T15:02:04.5128362Z Processing workflow: Angular Tests (156396503)
2025-04-16T15:02:05.3913440Z Found 23 failed runs for Angular Tests
2025-04-16T15:02:05.7134599Z Saved logs for job e2e (22.x) (40663459721)
2025-04-16T15:02:05.8271757Z Saved logs for job test (22.x) (40663459733)
2025-04-16T15:02:06.1869671Z Saved logs for job e2e (22.x) (40662876861)
2025-04-16T15:02:06.2980906Z Saved logs for job test (22.x) (40662876876)
2025-04-16T15:02:06.5504636Z Saved logs for job e2e (22.x) (40662340818)
2025-04-16T15:02:06.6707042Z Saved logs for job test (22.x) (40662340822)
2025-04-16T15:02:06.9820818Z Saved logs for job test (22.x) (40660813802)
2025-04-16T15:02:07.1242543Z Saved logs for job e2e (22.x) (40660813807)
2025-04-16T15:02:07.4970821Z Saved logs for job e2e (22.x) (40659963795)
2025-04-16T15:02:07.6342712Z Saved logs for job test (22.x) (40659963797)
2025-04-16T15:02:07.7432020Z Saved logs for job lint (22.x) (40659963816)
2025-04-16T15:02:08.0704514Z Saved logs for job e2e (22.x) (40658470007)
2025-04-16T15:02:08.3606576Z Saved logs for job lint (22.x) (40658470023)
2025-04-16T15:02:08.5071816Z Saved logs for job test (22.x) (40658470025)
2025-04-16T15:02:09.0524038Z Saved logs for job test (22.x) (40656595432)
2025-04-16T15:02:09.3059381Z Saved logs for job e2e (22.x) (40656595450)
2025-04-16T15:02:09.5612131Z Saved logs for job lint (22.x) (40656595451)
2025-04-16T15:02:10.0887393Z Saved logs for job lint (22.x) (40648995689)
2025-04-16T15:02:10.2180137Z Saved logs for job e2e (22.x) (40648995690)
2025-04-16T15:02:10.3421093Z Saved logs for job test (22.x) (40648995699)
2025-04-16T15:02:10.7217661Z Saved logs for job test (22.x) (40648936041)
2025-04-16T15:02:10.8052452Z Saved logs for job lint (22.x) (40648936049)
2025-04-16T15:02:10.9285361Z Saved logs for job e2e (22.x) (40648936088)
2025-04-16T15:02:11.3976277Z Saved logs for job test (22.x) (40645363558)
2025-04-16T15:02:11.5450538Z Saved logs for job e2e (22.x) (40645363568)
2025-04-16T15:02:11.6476209Z Saved logs for job lint (22.x) (40645363582)
2025-04-16T15:02:11.9756106Z Saved logs for job test (22.x) (40642315715)
2025-04-16T15:02:12.1050136Z Saved logs for job e2e (22.x) (40642315733)
2025-04-16T15:02:12.2521224Z Saved logs for job lint (22.x) (40642315744)
2025-04-16T15:02:12.6208370Z Saved logs for job test (22.x) (40640408484)
2025-04-16T15:02:12.7812640Z Saved logs for job e2e (22.x) (40640408487)
2025-04-16T15:02:12.8897464Z Saved logs for job lint (22.x) (40640408495)
2025-04-16T15:02:13.1992632Z Saved logs for job test (22.x) (40639200761)
2025-04-16T15:02:13.3067122Z Saved logs for job e2e (22.x) (40639200762)
2025-04-16T15:02:13.4114323Z Saved logs for job lint (22.x) (40639200772)
2025-04-16T15:02:13.7931578Z Saved logs for job test (22.x) (40638434179)
2025-04-16T15:02:14.0296823Z Saved logs for job lint (22.x) (40638434180)
2025-04-16T15:02:14.1236824Z Saved logs for job e2e (22.x) (40638434197)
2025-04-16T15:02:14.4364115Z Saved logs for job test (22.x) (40638117917)
2025-04-16T15:02:14.5493933Z Saved logs for job e2e (22.x) (40638117918)
2025-04-16T15:02:14.6507195Z Saved logs for job lint (22.x) (40638117931)
2025-04-16T15:02:15.0116596Z Saved logs for job test (22.x) (40637222574)
2025-04-16T15:02:15.1468407Z Saved logs for job e2e (22.x) (40637222590)
2025-04-16T15:02:15.2500495Z Saved logs for job lint (22.x) (40637222627)
2025-04-16T15:02:15.5935763Z Saved logs for job e2e (22.x) (40636317713)
2025-04-16T15:02:15.6993156Z Saved logs for job test (22.x) (40636317717)
2025-04-16T15:02:15.8457241Z Saved logs for job lint (22.x) (40636317718)
2025-04-16T15:02:16.2424594Z Saved logs for job test (22.x) (40635520017)
2025-04-16T15:02:16.3662158Z Saved logs for job e2e (22.x) (40635520024)
2025-04-16T15:02:16.5096085Z Saved logs for job lint (22.x) (40635520025)
2025-04-16T15:02:16.8669151Z Saved logs for job e2e (22.x) (40631138588)
2025-04-16T15:02:16.9677327Z Saved logs for job test (22.x) (40631138593)
2025-04-16T15:02:17.2948067Z Saved logs for job test (22.x) (40628452555)
2025-04-16T15:02:17.4207258Z Saved logs for job e2e (22.x) (40628452573)
2025-04-16T15:02:17.7460513Z Saved logs for job test (22.x) (40625114143)
2025-04-16T15:02:17.8574604Z Saved logs for job e2e (22.x) (40625114153)
2025-04-16T15:02:18.2396148Z Saved logs for job e2e (22.x) (40623556700)
2025-04-16T15:02:18.3349254Z Saved logs for job test (22.x) (40623556710)
2025-04-16T15:02:18.7107950Z Saved logs for job e2e (22.x) (40623232672)
2025-04-16T15:02:18.8117366Z Saved logs for job test (22.x) (40623232677)
2025-04-16T15:02:18.8119526Z Processing workflow: Security Alerts Report (Alternative) (156517337)
2025-04-16T15:02:18.9178189Z Found 0 failed runs for Security Alerts Report (Alternative)
2025-04-16T15:02:18.9179933Z Processing workflow: Security Alerts Report (156511788)
2025-04-16T15:02:19.2343901Z Found 1 failed runs for Security Alerts Report
2025-04-16T15:02:19.6140361Z Saved logs for job generate-report (40657820058)
2025-04-16T15:02:19.6141499Z Processing workflow: Server Tests (156396504)
2025-04-16T15:02:20.0378242Z Found 7 failed runs for Server Tests
2025-04-16T15:02:20.2847160Z Saved logs for job test (22.x) (40663459741)
2025-04-16T15:02:20.5761427Z Saved logs for job test (22.x) (40659963757)
2025-04-16T15:02:20.6632568Z Saved logs for job lint (22.x) (40659963777)
2025-04-16T15:02:21.0029435Z Saved logs for job lint (22.x) (40656595380)
2025-04-16T15:02:21.1108774Z Saved logs for job test (22.x) (40656595382)
2025-04-16T15:02:21.4152728Z Saved logs for job test (22.x) (40648936051)
2025-04-16T15:02:21.5437559Z Saved logs for job lint (22.x) (40648936076)
2025-04-16T15:02:21.8349216Z Saved logs for job lint (22.x) (40636317715)
2025-04-16T15:02:21.9195899Z Saved logs for job test (22.x) (40636317724)
2025-04-16T15:02:22.1682978Z Saved logs for job lint (22.x) (40636157199)
2025-04-16T15:02:22.2790621Z Saved logs for job test (22.x) (40636157200)
2025-04-16T15:02:22.5505272Z Saved logs for job test (22.x) (40631138589)
2025-04-16T15:02:22.5506749Z Processing workflow: Sync GitHub Insights (Alternative) (156517338)
2025-04-16T15:02:22.6716370Z Found 0 failed runs for Sync GitHub Insights (Alternative)
2025-04-16T15:02:22.6717948Z Processing workflow: Sync GitHub Insights (Fixed) (156518590)
2025-04-16T15:02:22.9795864Z Found 0 failed runs for Sync GitHub Insights (Fixed)
2025-04-16T15:02:22.9797102Z Processing workflow: Sync GitHub Insights (156511789)
2025-04-16T15:02:23.1892476Z Found 3 failed runs for Sync GitHub Insights
2025-04-16T15:02:23.4240179Z Saved logs for job sync-insights (40658529730)
2025-04-16T15:02:23.6847250Z Saved logs for job sync-insights (40657800158)
2025-04-16T15:02:23.9313655Z Saved logs for job sync-insights (40656793753)
2025-04-16T15:02:23.9315039Z Processing workflow: Sync Test Reports (156511790)
2025-04-16T15:02:24.3171073Z Found 2 failed runs for Sync Test Reports
2025-04-16T15:02:24.6180481Z Saved logs for job sync-reports (40656664593)
2025-04-16T15:02:24.8409301Z Saved logs for job sync-reports (40656644372)
2025-04-16T15:02:24.8410843Z Processing workflow: Sync Workflow Error Logs (156531139)
2025-04-16T15:02:25.1424287Z Found 2 failed runs for Sync Workflow Error Logs
2025-04-16T15:02:25.3765561Z Saved logs for job sync-error-logs (40663556539)
2025-04-16T15:02:25.6310488Z Saved logs for job sync-error-logs (40663029643)
2025-04-16T15:02:25.6311836Z Processing workflow: Sync Workflow Error Logs (Robust) (156532769)
2025-04-16T15:02:25.9415606Z Found 2 failed runs for Sync Workflow Error Logs (Robust)
2025-04-16T15:02:26.1647526Z Saved logs for job sync-error-logs (40663556527)
2025-04-16T15:02:26.4400861Z Saved logs for job sync-error-logs (40663489150)
2025-04-16T15:02:26.4403160Z Processing workflow: Sync Workflow Error Logs (156529457)
2025-04-16T15:02:26.7866373Z Found 7 failed runs for Sync Workflow Error Logs
2025-04-16T15:02:27.0618305Z Saved logs for job sync-error-logs (40663610514)
2025-04-16T15:02:27.3071638Z Saved logs for job sync-error-logs (40663581717)
2025-04-16T15:02:27.5404832Z Saved logs for job sync-error-logs (40663556577)
2025-04-16T15:02:27.7710852Z Saved logs for job sync-error-logs (40663029928)
2025-04-16T15:02:28.0389628Z Saved logs for job sync-error-logs (40662993597)
2025-04-16T15:02:28.2811603Z Saved logs for job sync-error-logs (40662475242)
2025-04-16T15:02:28.5615708Z Saved logs for job sync-error-logs (40662446363)
2025-04-16T15:02:28.5618061Z Processing workflow: Dependabot Updates (153911032)
2025-04-16T15:02:29.6083715Z Found 15 failed runs for Dependabot Updates
2025-04-16T15:02:29.8680369Z Saved logs for job Dependabot (40657560162)
2025-04-16T15:02:30.1053364Z Saved logs for job Dependabot (40657559762)
2025-04-16T15:02:30.3765747Z Saved logs for job Dependabot (40657410431)
2025-04-16T15:02:30.6382217Z Saved logs for job Dependabot (40657409984)
2025-04-16T15:02:30.9524637Z Saved logs for job Dependabot (40656602439)
2025-04-16T15:02:31.2406411Z Saved logs for job Dependabot (40656599224)
2025-04-16T15:02:31.5362003Z Saved logs for job Dependabot (40656599232)
2025-04-16T15:02:31.8196942Z Saved logs for job Dependabot (40648953960)
2025-04-16T15:02:32.0464691Z Saved logs for job Dependabot (40636173412)
2025-04-16T15:02:32.3436934Z Saved logs for job Dependabot (40635535253)
2025-04-16T15:02:32.6265486Z Saved logs for job Dependabot (40620670121)
2025-04-16T15:02:32.8789113Z Saved logs for job Dependabot (40620661666)
2025-04-16T15:02:33.1859956Z Saved logs for job Dependabot (40615377452)
2025-04-16T15:02:33.5486217Z Saved logs for job Dependabot (40615364053)
2025-04-16T15:02:33.8482358Z Saved logs for job Dependabot (40405591413)
2025-04-16T15:02:33.8486336Z Workflow error logs sync completed
2025-04-16T15:02:33.8604920Z ##[group]Run cat > workflow-error-logs/README.md << 'EOF'
2025-04-16T15:02:33.8605625Z [36;1mcat > workflow-error-logs/README.md << 'EOF'[0m
2025-04-16T15:02:33.8606105Z [36;1m# Workflow Error Logs[0m
2025-04-16T15:02:33.8606466Z [36;1m[0m
2025-04-16T15:02:33.8607407Z [36;1mThis directory contains logs from failed GitHub Actions workflow runs. These logs are automatically collected by the "Sync Workflow Error Logs" workflow.[0m
2025-04-16T15:02:33.8608511Z [36;1m[0m
2025-04-16T15:02:33.8608814Z [36;1m## Directory Structure[0m
2025-04-16T15:02:33.8609488Z [36;1m[0m
2025-04-16T15:02:33.8610048Z [36;1m```[0m
2025-04-16T15:02:33.8610365Z [36;1mworkflow-error-logs/[0m
2025-04-16T15:02:33.8610805Z [36;1mâ”œâ”€â”€ {workflow-name}/[0m
2025-04-16T15:02:33.8611178Z [36;1mâ”‚   â”œâ”€â”€ {date}_{run-id}/[0m
2025-04-16T15:02:33.8611641Z [36;1mâ”‚   â”‚   â”œâ”€â”€ metadata.json       # Run metadata[0m
2025-04-16T15:02:33.8612151Z [36;1mâ”‚   â”‚   â”œâ”€â”€ jobs.json           # Jobs metadata[0m
2025-04-16T15:02:33.8612662Z [36;1mâ”‚   â”‚   â”œâ”€â”€ {job-name}/[0m
2025-04-16T15:02:33.8613148Z [36;1mâ”‚   â”‚   â”‚   â”œâ”€â”€ job-metadata.json  # Job metadata[0m
2025-04-16T15:02:33.8613658Z [36;1mâ”‚   â”‚   â”‚   â””â”€â”€ logs.txt           # Job logs[0m
2025-04-16T15:02:33.8614088Z [36;1mâ”‚   â”‚   â””â”€â”€ ...[0m
2025-04-16T15:02:33.8614429Z [36;1mâ”‚   â””â”€â”€ ...[0m
2025-04-16T15:02:33.8614742Z [36;1mâ””â”€â”€ ...[0m
2025-04-16T15:02:33.8615037Z [36;1m```[0m
2025-04-16T15:02:33.8615324Z [36;1m[0m
2025-04-16T15:02:33.8615608Z [36;1m## Using These Logs[0m
2025-04-16T15:02:33.8615959Z [36;1m[0m
2025-04-16T15:02:33.8616949Z [36;1mThese logs can be used to diagnose and fix issues with GitHub Actions workflows. Look for error messages, failed steps, and other indicators of problems.[0m
2025-04-16T15:02:33.8617999Z [36;1m[0m
2025-04-16T15:02:33.8618293Z [36;1m## Automatic Collection[0m
2025-04-16T15:02:33.8618721Z [36;1m[0m
2025-04-16T15:02:33.8619030Z [36;1mLogs are collected:[0m
2025-04-16T15:02:33.8619476Z [36;1m- After any workflow completes[0m
2025-04-16T15:02:33.8620149Z [36;1m- Every 6 hours via scheduled run[0m
2025-04-16T15:02:33.8620727Z [36;1m- Manually via workflow dispatch[0m
2025-04-16T15:02:33.8621194Z [36;1m[0m
2025-04-16T15:02:33.8621468Z [36;1m## Retention[0m
2025-04-16T15:02:33.8621784Z [36;1m[0m
2025-04-16T15:02:33.8622154Z [36;1mOnly logs from the past 30 days are collected.[0m
2025-04-16T15:02:33.8622656Z [36;1mEOF[0m
2025-04-16T15:02:33.8688970Z shell: /usr/bin/bash -e {0}
2025-04-16T15:02:33.8689362Z env:
2025-04-16T15:02:33.8689648Z   CI: true
2025-04-16T15:02:33.8690155Z ##[endgroup]
2025-04-16T15:02:33.8813526Z ##[group]Run git config --local user.email "action@github.com"
2025-04-16T15:02:33.8813942Z [36;1mgit config --local user.email "action@github.com"[0m
2025-04-16T15:02:33.8814271Z [36;1mgit config --local user.name "GitHub Action"[0m
2025-04-16T15:02:33.8814536Z [36;1m[0m
2025-04-16T15:02:33.8814806Z [36;1m# Pull the latest changes with rebase strategy to avoid merge commits[0m
2025-04-16T15:02:33.8815156Z [36;1mgit pull --rebase origin main[0m
2025-04-16T15:02:33.8815381Z [36;1m[0m
2025-04-16T15:02:33.8815555Z [36;1mgit add workflow-error-logs[0m
2025-04-16T15:02:33.8815774Z [36;1m[0m
2025-04-16T15:02:33.8815950Z [36;1m# Only commit if there are changes[0m
2025-04-16T15:02:33.8816205Z [36;1mif git diff --staged --quiet; then[0m
2025-04-16T15:02:33.8816451Z [36;1m  echo "No changes to commit"[0m
2025-04-16T15:02:33.8816672Z [36;1melse[0m
2025-04-16T15:02:33.8816904Z [36;1m  git commit -m "Update workflow error logs [skip ci]"[0m
2025-04-16T15:02:33.8817217Z [36;1m  git push[0m
2025-04-16T15:02:33.8817396Z [36;1mfi[0m
2025-04-16T15:02:33.8858077Z shell: /usr/bin/bash -e {0}
2025-04-16T15:02:33.8858297Z env:
2025-04-16T15:02:33.8858454Z   CI: true
2025-04-16T15:02:33.8858610Z ##[endgroup]
2025-04-16T15:02:34.3722846Z error: cannot pull with rebase: You have unstaged changes.
2025-04-16T15:02:34.3726219Z error: Please commit or stash them.
2025-04-16T15:02:34.3742581Z ##[error]Process completed with exit code 128.
2025-04-16T15:02:34.3831773Z Post job cleanup.
2025-04-16T15:02:34.4778752Z [command]/usr/bin/git version
2025-04-16T15:02:34.4820773Z git version 2.49.0
2025-04-16T15:02:34.4866145Z Temporarily overriding HOME='/home/runner/work/_temp/bfebff45-36f4-4cf6-82b4-7f195d7add9a' before making global git config changes
2025-04-16T15:02:34.4868183Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:02:34.4883008Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:02:34.4919622Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:02:34.4956665Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:02:34.5267730Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:02:34.5269049Z http.https://github.com/.extraheader
2025-04-16T15:02:34.5277883Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-04-16T15:02:34.5299673Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:02:34.5655019Z Cleaning up orphan processes
