<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>client-angular documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">client-angular documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  ChatComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/features/chat/chat.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
                <code>OnDestroy</code>
                <code>AfterViewChecked</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-chat</code></td>
            </tr>

            <tr>
                <td class="col-md-3">standalone</td>
                <td class="col-md-9"><code>true</code></td>
            </tr>

            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>CommonModule</code>
                            <code>FormsModule</code>
                            <code>MatIconModule</code>
                            <code>MatButtonModule</code>
                            <code>MatFormFieldModule</code>
                            <code>MatInputModule</code>
                            <code>MatMenuModule</code>
                            <code>MatTooltipModule</code>
                            <code>MatTabsModule</code>
                            <code>MatDialogModule</code>
                                <code><a href="../components/AvatarComponent.html" target="_self" >AvatarComponent</a></code>
                                <code><a href="../components/SkeletonLoaderComponent.html" target="_self" >SkeletonLoaderComponent</a></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./chat.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./chat.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#chatSearchQuery" >chatSearchQuery</a>
                            </li>
                            <li>
                                <a href="#chatSearchResults" >chatSearchResults</a>
                            </li>
                            <li>
                                <a href="#contacts" >contacts</a>
                            </li>
                            <li>
                                <a href="#currentCategoryEmojis" >currentCategoryEmojis</a>
                            </li>
                            <li>
                                <a href="#currentFilter" >currentFilter</a>
                            </li>
                            <li>
                                <a href="#currentUserId" >currentUserId</a>
                            </li>
                            <li>
                                <a href="#emojiCategories" >emojiCategories</a>
                            </li>
                            <li>
                                <a href="#expiryCheckInterval" >expiryCheckInterval</a>
                            </li>
                            <li>
                                <a href="#filteredContacts" >filteredContacts</a>
                            </li>
                            <li>
                                <a href="#filteredNewMessageContacts" >filteredNewMessageContacts</a>
                            </li>
                            <li>
                                <a href="#galleryFiles" >galleryFiles</a>
                            </li>
                            <li>
                                <a href="#galleryImages" >galleryImages</a>
                            </li>
                            <li>
                                <a href="#galleryLinks" >galleryLinks</a>
                            </li>
                            <li>
                                <a href="#galleryTab" >galleryTab</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#imagePreviewDialog" >imagePreviewDialog</a>
                            </li>
                            <li>
                                <a href="#isContactTyping" >isContactTyping</a>
                            </li>
                            <li>
                                <a href="#loadingContacts" >loadingContacts</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#mediaGalleryDialog" >mediaGalleryDialog</a>
                            </li>
                            <li>
                                <a href="#messageAutoDeletionEnabled" >messageAutoDeletionEnabled</a>
                            </li>
                            <li>
                                <a href="#messageExpiryTime" >messageExpiryTime</a>
                            </li>
                            <li>
                                <a href="#messageGroups" >messageGroups</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#messageInput" >messageInput</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#messageList" >messageList</a>
                            </li>
                            <li>
                                <a href="#messages" >messages</a>
                            </li>
                            <li>
                                <a href="#newMessage" >newMessage</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#newMessageDialog" >newMessageDialog</a>
                            </li>
                            <li>
                                <a href="#newMessageSearch" >newMessageSearch</a>
                            </li>
                            <li>
                                <a href="#notificationsEnabled" >notificationsEnabled</a>
                            </li>
                            <li>
                                <a href="#previewImage" >previewImage</a>
                            </li>
                            <li>
                                <a href="#replyingTo" >replyingTo</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#searchInChatDialog" >searchInChatDialog</a>
                            </li>
                            <li>
                                <a href="#searchTerm" >searchTerm</a>
                            </li>
                            <li>
                                <a href="#selectedContactId" >selectedContactId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#shouldScrollToBottom" >shouldScrollToBottom</a>
                            </li>
                            <li>
                                <a href="#showEmojiPicker" >showEmojiPicker</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#subscriptions" >subscriptions</a>
                            </li>
                            <li>
                                <a href="#temporaryMessageMode" >temporaryMessageMode</a>
                            </li>
                            <li>
                                <a href="#temporaryMessageMode" >temporaryMessageMode</a>
                            </li>
                            <li>
                                <a href="#temporaryMessageTTL" >temporaryMessageTTL</a>
                            </li>
                            <li>
                                <a href="#temporaryMessageTTL" >temporaryMessageTTL</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#typingSubject" >typingSubject</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addEmoji" >addEmoji</a>
                            </li>
                            <li>
                                <a href="#archiveAllChats" >archiveAllChats</a>
                            </li>
                            <li>
                                <a href="#blockContact" >blockContact</a>
                            </li>
                            <li>
                                <a href="#cancelReply" >cancelReply</a>
                            </li>
                            <li>
                                <a href="#canSendMessage" >canSendMessage</a>
                            </li>
                            <li>
                                <a href="#checkExpiredMessages" >checkExpiredMessages</a>
                            </li>
                            <li>
                                <a href="#clearConversation" >clearConversation</a>
                            </li>
                            <li>
                                <a href="#configureMessageAutoDeletion" >configureMessageAutoDeletion</a>
                            </li>
                            <li>
                                <a href="#copyMessage" >copyMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#createDummyMessages" >createDummyMessages</a>
                            </li>
                            <li>
                                <a href="#deleteMessage" >deleteMessage</a>
                            </li>
                            <li>
                                <a href="#deselectContact" >deselectContact</a>
                            </li>
                            <li>
                                <a href="#downloadAttachment" >downloadAttachment</a>
                            </li>
                            <li>
                                <a href="#downloadImage" >downloadImage</a>
                            </li>
                            <li>
                                <a href="#enhanceContacts" >enhanceContacts</a>
                            </li>
                            <li>
                                <a href="#extractMediaFromMessages" >extractMediaFromMessages</a>
                            </li>
                            <li>
                                <a href="#filterContacts" >filterContacts</a>
                            </li>
                            <li>
                                <a href="#filterConversations" >filterConversations</a>
                            </li>
                            <li>
                                <a href="#formatFileSize" >formatFileSize</a>
                            </li>
                            <li>
                                <a href="#formatMessageContent" >formatMessageContent</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#formatTTL" >formatTTL</a>
                            </li>
                            <li>
                                <a href="#formatTTL" >formatTTL</a>
                            </li>
                            <li>
                                <a href="#forwardMessage" >forwardMessage</a>
                            </li>
                            <li>
                                <a href="#getContactById" >getContactById</a>
                            </li>
                            <li>
                                <a href="#getFileIcon" >getFileIcon</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getRandomProfileImage" >getRandomProfileImage</a>
                            </li>
                            <li>
                                <a href="#getRemainingTime" >getRemainingTime</a>
                            </li>
                            <li>
                                <a href="#getSelectedContact" >getSelectedContact</a>
                            </li>
                            <li>
                                <a href="#groupMessagesByDate" >groupMessagesByDate</a>
                            </li>
                            <li>
                                <a href="#handleEnterKey" >handleEnterKey</a>
                            </li>
                            <li>
                                <a href="#highlightSearchText" >highlightSearchText</a>
                            </li>
                            <li>
                                <a href="#incrementUnreadCount" >incrementUnreadCount</a>
                            </li>
                            <li>
                                <a href="#isAboutToExpire" >isAboutToExpire</a>
                            </li>
                            <li>
                                <a href="#isImageAttachment" >isImageAttachment</a>
                            </li>
                            <li>
                                <a href="#isPinned" >isPinned</a>
                            </li>
                            <li>
                                <a href="#loadContacts" >loadContacts</a>
                            </li>
                            <li>
                                <a href="#loadMessageAutoDeletionSettings" >loadMessageAutoDeletionSettings</a>
                            </li>
                            <li>
                                <a href="#loadMessages" >loadMessages</a>
                            </li>
                            <li>
                                <a href="#markAllAsRead" >markAllAsRead</a>
                            </li>
                            <li>
                                <a href="#markAsRead" >markAsRead</a>
                            </li>
                            <li>
                                <a href="#markContactMessagesAsRead" >markContactMessagesAsRead</a>
                            </li>
                            <li>
                                <a href="#ngAfterViewChecked" >ngAfterViewChecked</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onTyping" >onTyping</a>
                            </li>
                            <li>
                                <a href="#openAttachmentMenu" >openAttachmentMenu</a>
                            </li>
                            <li>
                                <a href="#openImagePreview" >openImagePreview</a>
                            </li>
                            <li>
                                <a href="#openLink" >openLink</a>
                            </li>
                            <li>
                                <a href="#openMediaGallery" >openMediaGallery</a>
                            </li>
                            <li>
                                <a href="#openNewMessageDialog" >openNewMessageDialog</a>
                            </li>
                            <li>
                                <a href="#openSearchInChat" >openSearchInChat</a>
                            </li>
                            <li>
                                <a href="#replyToMessage" >replyToMessage</a>
                            </li>
                            <li>
                                <a href="#resetUnreadCount" >resetUnreadCount</a>
                            </li>
                            <li>
                                <a href="#scrollToBottom" >scrollToBottom</a>
                            </li>
                            <li>
                                <a href="#scrollToMessage" >scrollToMessage</a>
                            </li>
                            <li>
                                <a href="#selectContact" >selectContact</a>
                            </li>
                            <li>
                                <a href="#selectEmojiCategory" >selectEmojiCategory</a>
                            </li>
                            <li>
                                <a href="#selectNewMessageContact" >selectNewMessageContact</a>
                            </li>
                            <li>
                                <a href="#sendMessage" >sendMessage</a>
                            </li>
                            <li>
                                <a href="#setTemporaryMessageTTL" >setTemporaryMessageTTL</a>
                            </li>
                            <li>
                                <a href="#setTemporaryMessageTTL" >setTemporaryMessageTTL</a>
                            </li>
                            <li>
                                <a href="#setupSocketListeners" >setupSocketListeners</a>
                            </li>
                            <li>
                                <a href="#shareImage" >shareImage</a>
                            </li>
                            <li>
                                <a href="#toggleEmojiPicker" >toggleEmojiPicker</a>
                            </li>
                            <li>
                                <a href="#toggleNotifications" >toggleNotifications</a>
                            </li>
                            <li>
                                <a href="#togglePin" >togglePin</a>
                            </li>
                            <li>
                                <a href="#toggleTemporaryMessageMode" >toggleTemporaryMessageMode</a>
                            </li>
                            <li>
                                <a href="#toggleTemporaryMessageMode" >toggleTemporaryMessageMode</a>
                            </li>
                            <li>
                                <a href="#transformAttachments" >transformAttachments</a>
                            </li>
                            <li>
                                <a href="#transformMessages" >transformMessages</a>
                            </li>
                            <li>
                                <a href="#truncateMessage" >truncateMessage</a>
                            </li>
                            <li>
                                <a href="#updateContactLastMessage" >updateContactLastMessage</a>
                            </li>
                            <li>
                                <a href="#updateContactTypingStatus" >updateContactTypingStatus</a>
                            </li>
                            <li>
                                <a href="#viewContactProfile" >viewContactProfile</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(chatService: <a href="../injectables/ChatService.html" target="_self">ChatService</a>, authService: <a href="../injectables/AuthService.html" target="_self">AuthService</a>, notificationService: <a href="../injectables/NotificationService.html" target="_self">NotificationService</a>, route: ActivatedRoute, router: Router, dialog: MatDialog)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="257" class="link-to-prism">src/app/features/chat/chat.component.ts:257</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>chatService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ChatService.html" target="_self" >ChatService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>authService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>notificationService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NotificationService.html" target="_self" >NotificationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                    <code>ActivatedRoute</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                    <code>Router</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dialog</td>
                                                  
                                                        <td>
                                                                    <code>MatDialog</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addEmoji"></a>
                    <span class="name">
                        <span ><b>addEmoji</b></span>
                        <a href="#addEmoji"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addEmoji(emoji: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1385"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1385</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Add an emoji to the message input</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>emoji</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="archiveAllChats"></a>
                    <span class="name">
                        <span ><b>archiveAllChats</b></span>
                        <a href="#archiveAllChats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>archiveAllChats()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1108"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1108</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Archive all chats</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="blockContact"></a>
                    <span class="name">
                        <span ><b>blockContact</b></span>
                        <a href="#blockContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>blockContact()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1030"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1030</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Block a contact</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cancelReply"></a>
                    <span class="name">
                        <span ><b>cancelReply</b></span>
                        <a href="#cancelReply"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>cancelReply()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1300"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1300</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Cancel replying to a message</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canSendMessage"></a>
                    <span class="name">
                        <span ><b>canSendMessage</b></span>
                        <a href="#canSendMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>canSendMessage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="694"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:694</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Check if a message can be sent</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkExpiredMessages"></a>
                    <span class="name">
                        <span ><b>checkExpiredMessages</b></span>
                        <a href="#checkExpiredMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkExpiredMessages()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="733"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:733</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Check for expired messages and remove them from the UI
This should be called periodically to clean up expired messages</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearConversation"></a>
                    <span class="name">
                        <span ><b>clearConversation</b></span>
                        <a href="#clearConversation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearConversation()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1046"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1046</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Clear conversation history</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="configureMessageAutoDeletion"></a>
                    <span class="name">
                        <span ><b>configureMessageAutoDeletion</b></span>
                        <a href="#configureMessageAutoDeletion"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>configureMessageAutoDeletion(enabled: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, days: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="665"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:665</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Configure message auto-deletion settings for the current chat room</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>enabled</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>days</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="copyMessage"></a>
                    <span class="name">
                        <span ><b>copyMessage</b></span>
                        <a href="#copyMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>copyMessage(message: <a href="../interfaces/ChatMessage.html" target="_self">ChatMessage</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1326"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1326</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Copy a message to clipboard</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../interfaces/ChatMessage.html" target="_self" >ChatMessage</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createDummyMessages"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>createDummyMessages</b></span>
                        <a href="#createDummyMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createDummyMessages(contact: <a href="../interfaces/Contact.html" target="_self">Contact</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1577"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1577</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Create dummy messages for demo purposes</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contact</td>
                                            <td>
                                                            <code><a href="../interfaces/Contact.html" target="_self" >Contact</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteMessage"></a>
                    <span class="name">
                        <span ><b>deleteMessage</b></span>
                        <a href="#deleteMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteMessage(message: <a href="../interfaces/ChatMessage.html" target="_self">ChatMessage</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1341"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1341</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Delete a message</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../interfaces/ChatMessage.html" target="_self" >ChatMessage</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deselectContact"></a>
                    <span class="name">
                        <span ><b>deselectContact</b></span>
                        <a href="#deselectContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deselectContact()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="976"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:976</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Deselect the current contact (mobile view)</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="downloadAttachment"></a>
                    <span class="name">
                        <span ><b>downloadAttachment</b></span>
                        <a href="#downloadAttachment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>downloadAttachment(attachment: <a href="../interfaces/Attachment.html" target="_self">Attachment</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1476"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1476</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Download an attachment</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>attachment</td>
                                            <td>
                                                            <code><a href="../interfaces/Attachment.html" target="_self" >Attachment</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="downloadImage"></a>
                    <span class="name">
                        <span ><b>downloadImage</b></span>
                        <a href="#downloadImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>downloadImage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1449"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1449</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Download an image from the preview</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="enhanceContacts"></a>
                    <span class="name">
                        <span ><b>enhanceContacts</b></span>
                        <a href="#enhanceContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>enhanceContacts(contacts: any[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="374"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:374</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Enhance contacts with additional properties for UI</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contacts</td>
                                            <td>
                                                        <code>any[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Contact[]</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="extractMediaFromMessages"></a>
                    <span class="name">
                        <span ><b>extractMediaFromMessages</b></span>
                        <a href="#extractMediaFromMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>extractMediaFromMessages()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="523"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:523</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Extract media from messages for gallery view</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filterContacts"></a>
                    <span class="name">
                        <span ><b>filterContacts</b></span>
                        <a href="#filterContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>filterContacts()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1175"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1175</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Filter contacts based on search term and current filter</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filterConversations"></a>
                    <span class="name">
                        <span ><b>filterConversations</b></span>
                        <a href="#filterConversations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>filterConversations(filter: "all" | "unread" | "archived")</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1210"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1210</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Filter conversations by type</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>filter</td>
                                            <td>
                                                        <code>&quot;all&quot; | &quot;unread&quot; | &quot;archived&quot;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatFileSize"></a>
                    <span class="name">
                        <span ><b>formatFileSize</b></span>
                        <a href="#formatFileSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatFileSize(bytes: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1273"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1273</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Format file size for display</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>bytes</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatMessageContent"></a>
                    <span class="name">
                        <span ><b>formatMessageContent</b></span>
                        <a href="#formatMessageContent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatMessageContent(content: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1228"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1228</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Format message content with links and emojis</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>content</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatTTL"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>formatTTL</b></span>
                        <a href="#formatTTL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>formatTTL(ttl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="643"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:643</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Format a TTL value in milliseconds to a human-readable string</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>ttl</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="formatTTL"></a>
                    <span class="name">
                        <span ><b>formatTTL</b></span>
                        <a href="#formatTTL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>formatTTL(hours: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="725"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:725</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Format the TTL for display</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>hours</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Number of hours</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Formatted string (e.g., &quot;1 hour&quot;, &quot;24 hours&quot;)</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="forwardMessage"></a>
                    <span class="name">
                        <span ><b>forwardMessage</b></span>
                        <a href="#forwardMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>forwardMessage(message: <a href="../interfaces/ChatMessage.html" target="_self">ChatMessage</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1307"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1307</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Forward a message to another contact</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../interfaces/ChatMessage.html" target="_self" >ChatMessage</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getContactById"></a>
                    <span class="name">
                        <span ><b>getContactById</b></span>
                        <a href="#getContactById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getContactById(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="984"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:984</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get a contact by ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Contact | undefined</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFileIcon"></a>
                    <span class="name">
                        <span ><b>getFileIcon</b></span>
                        <a href="#getFileIcon"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFileIcon(file: <a href="../interfaces/Attachment.html" target="_self">Attachment</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1256"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1256</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get the appropriate icon for a file type</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>file</td>
                                            <td>
                                                            <code><a href="../interfaces/Attachment.html" target="_self" >Attachment</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRandomProfileImage"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>getRandomProfileImage</b></span>
                        <a href="#getRandomProfileImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRandomProfileImage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1562"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1562</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get a random profile image for demo purposes</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRemainingTime"></a>
                    <span class="name">
                        <span ><b>getRemainingTime</b></span>
                        <a href="#getRemainingTime"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRemainingTime(expiresAt: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="785"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:785</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Calculate the remaining time for a temporary message</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>expiresAt</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The expiration timestamp</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                <p>Formatted string showing remaining time</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSelectedContact"></a>
                    <span class="name">
                        <span ><b>getSelectedContact</b></span>
                        <a href="#getSelectedContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSelectedContact()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="991"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:991</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Get the currently selected contact</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Contact | undefined</code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="groupMessagesByDate"></a>
                    <span class="name">
                        <span ><b>groupMessagesByDate</b></span>
                        <a href="#groupMessagesByDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>groupMessagesByDate()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="500"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:500</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Group messages by date for display</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleEnterKey"></a>
                    <span class="name">
                        <span ><b>handleEnterKey</b></span>
                        <a href="#handleEnterKey"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>handleEnterKey(event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="836"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:836</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handle Enter key in message input</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="highlightSearchText"></a>
                    <span class="name">
                        <span ><b>highlightSearchText</b></span>
                        <a href="#highlightSearchText"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>highlightSearchText(text: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1499"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1499</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Highlight search text in results</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>text</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="incrementUnreadCount"></a>
                    <span class="name">
                        <span ><b>incrementUnreadCount</b></span>
                        <a href="#incrementUnreadCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>incrementUnreadCount(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1139"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1139</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Increment the unread count for a contact</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isAboutToExpire"></a>
                    <span class="name">
                        <span ><b>isAboutToExpire</b></span>
                        <a href="#isAboutToExpire"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isAboutToExpire(expiresAt: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="820"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:820</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Check if a message is about to expire (within 5 minutes)</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>expiresAt</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The expiration timestamp</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>True if the message will expire within 5 minutes</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isImageAttachment"></a>
                    <span class="name">
                        <span ><b>isImageAttachment</b></span>
                        <a href="#isImageAttachment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isImageAttachment(attachment: <a href="../interfaces/Attachment.html" target="_self">Attachment</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1249"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1249</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Check if an attachment is an image</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>attachment</td>
                                            <td>
                                                            <code><a href="../interfaces/Attachment.html" target="_self" >Attachment</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isPinned"></a>
                    <span class="name">
                        <span ><b>isPinned</b></span>
                        <a href="#isPinned"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isPinned()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="998"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:998</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Check if the selected contact is pinned</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadContacts"></a>
                    <span class="name">
                        <span ><b>loadContacts</b></span>
                        <a href="#loadContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadContacts()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="340"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:340</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Load contacts from the server</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadMessageAutoDeletionSettings"></a>
                    <span class="name">
                        <span ><b>loadMessageAutoDeletionSettings</b></span>
                        <a href="#loadMessageAutoDeletionSettings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadMessageAutoDeletionSettings()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="307"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:307</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Load message auto-deletion settings for the current chat room</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadMessages"></a>
                    <span class="name">
                        <span ><b>loadMessages</b></span>
                        <a href="#loadMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadMessages()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="388"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:388</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Load messages for the selected contact</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="markAllAsRead"></a>
                    <span class="name">
                        <span ><b>markAllAsRead</b></span>
                        <a href="#markAllAsRead"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>markAllAsRead()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1097"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1097</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Mark all messages as read</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="markAsRead"></a>
                    <span class="name">
                        <span ><b>markAsRead</b></span>
                        <a href="#markAsRead"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>markAsRead(messageId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1062"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1062</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Mark a message as read</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>messageId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="markContactMessagesAsRead"></a>
                    <span class="name">
                        <span ><b>markContactMessagesAsRead</b></span>
                        <a href="#markContactMessagesAsRead"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>markContactMessagesAsRead()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1080"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1080</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Mark all messages from the selected contact as read</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewChecked"></a>
                    <span class="name">
                        <span ><b>ngAfterViewChecked</b></span>
                        <a href="#ngAfterViewChecked"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewChecked()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="319"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:319</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="327"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:327</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="282"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:282</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onTyping"></a>
                    <span class="name">
                        <span ><b>onTyping</b></span>
                        <a href="#onTyping"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onTyping()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="847"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:847</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Notify that user is typing</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openAttachmentMenu"></a>
                    <span class="name">
                        <span ><b>openAttachmentMenu</b></span>
                        <a href="#openAttachmentMenu"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openAttachmentMenu()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1397"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1397</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Open the attachment menu</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openImagePreview"></a>
                    <span class="name">
                        <span ><b>openImagePreview</b></span>
                        <a href="#openImagePreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openImagePreview(image: <a href="../interfaces/Attachment.html" target="_self">Attachment</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1436"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1436</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Open image preview dialog</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>image</td>
                                            <td>
                                                            <code><a href="../interfaces/Attachment.html" target="_self" >Attachment</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openLink"></a>
                    <span class="name">
                        <span ><b>openLink</b></span>
                        <a href="#openLink"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openLink(url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1545"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1545</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Open a link in a new tab</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>url</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openMediaGallery"></a>
                    <span class="name">
                        <span ><b>openMediaGallery</b></span>
                        <a href="#openMediaGallery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openMediaGallery()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1532"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1532</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Open the media gallery dialog</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openNewMessageDialog"></a>
                    <span class="name">
                        <span ><b>openNewMessageDialog</b></span>
                        <a href="#openNewMessageDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openNewMessageDialog()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1412"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1412</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Open the new message dialog</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openSearchInChat"></a>
                    <span class="name">
                        <span ><b>openSearchInChat</b></span>
                        <a href="#openSearchInChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openSearchInChat()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1489"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1489</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Open the search in chat dialog</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="replyToMessage"></a>
                    <span class="name">
                        <span ><b>replyToMessage</b></span>
                        <a href="#replyToMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>replyToMessage(message: <a href="../interfaces/ChatMessage.html" target="_self">ChatMessage</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1286"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1286</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Reply to a message</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../interfaces/ChatMessage.html" target="_self" >ChatMessage</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetUnreadCount"></a>
                    <span class="name">
                        <span ><b>resetUnreadCount</b></span>
                        <a href="#resetUnreadCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetUnreadCount(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1158"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1158</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Reset the unread count for a contact</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scrollToBottom"></a>
                    <span class="name">
                        <span ><b>scrollToBottom</b></span>
                        <a href="#scrollToBottom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>scrollToBottom()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1361"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1361</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Scroll to the bottom of the message list</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scrollToMessage"></a>
                    <span class="name">
                        <span ><b>scrollToMessage</b></span>
                        <a href="#scrollToMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>scrollToMessage(message: <a href="../interfaces/ChatMessage.html" target="_self">ChatMessage</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1509"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1509</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Scroll to a specific message</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="../interfaces/ChatMessage.html" target="_self" >ChatMessage</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectContact"></a>
                    <span class="name">
                        <span ><b>selectContact</b></span>
                        <a href="#selectContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>selectContact(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="952"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:952</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Select a contact to chat with</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectEmojiCategory"></a>
                    <span class="name">
                        <span ><b>selectEmojiCategory</b></span>
                        <a href="#selectEmojiCategory"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>selectEmojiCategory(category: <a href="../interfaces/EmojiCategory.html" target="_self">EmojiCategory</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1378"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1378</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Select an emoji category</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>category</td>
                                            <td>
                                                            <code><a href="../interfaces/EmojiCategory.html" target="_self" >EmojiCategory</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectNewMessageContact"></a>
                    <span class="name">
                        <span ><b>selectNewMessageContact</b></span>
                        <a href="#selectNewMessageContact"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>selectNewMessageContact(contact: <a href="../interfaces/Contact.html" target="_self">Contact</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1428"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1428</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Select a contact from the new message dialog</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contact</td>
                                            <td>
                                                            <code><a href="../interfaces/Contact.html" target="_self" >Contact</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendMessage"></a>
                    <span class="name">
                        <span ><b>sendMessage</b></span>
                        <a href="#sendMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sendMessage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="558"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:558</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Send a message to the selected contact</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setTemporaryMessageTTL"></a>
                    <span class="name">
                        <span ><b>setTemporaryMessageTTL</b></span>
                        <a href="#setTemporaryMessageTTL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setTemporaryMessageTTL(hours: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="630"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:630</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Set the TTL for temporary messages</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>hours</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Number of hours before the message auto-deletes</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setTemporaryMessageTTL"></a>
                    <span class="name">
                        <span ><b>setTemporaryMessageTTL</b></span>
                        <a href="#setTemporaryMessageTTL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setTemporaryMessageTTL(hours: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="716"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:716</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Set the TTL (time to live) for temporary messages</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>hours</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>Number of hours before the message expires</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setupSocketListeners"></a>
                    <span class="name">
                        <span ><b>setupSocketListeners</b></span>
                        <a href="#setupSocketListeners"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setupSocketListeners()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="861"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:861</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Set up WebSocket listeners for real-time chat</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shareImage"></a>
                    <span class="name">
                        <span ><b>shareImage</b></span>
                        <a href="#shareImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>shareImage()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1458"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1458</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Share an image from the preview</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleEmojiPicker"></a>
                    <span class="name">
                        <span ><b>toggleEmojiPicker</b></span>
                        <a href="#toggleEmojiPicker"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleEmojiPicker()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1371"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1371</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggle the emoji picker</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleNotifications"></a>
                    <span class="name">
                        <span ><b>toggleNotifications</b></span>
                        <a href="#toggleNotifications"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleNotifications()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1218"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1218</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggle notifications for the chat</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="togglePin"></a>
                    <span class="name">
                        <span ><b>togglePin</b></span>
                        <a href="#togglePin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>togglePin()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1006"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1006</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggle pin status for the selected contact</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleTemporaryMessageMode"></a>
                    <span class="name">
                        <span ><b>toggleTemporaryMessageMode</b></span>
                        <a href="#toggleTemporaryMessageMode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleTemporaryMessageMode()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="614"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:614</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggle temporary message mode
When enabled, the next message sent will auto-delete after the specified TTL</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleTemporaryMessageMode"></a>
                    <span class="name">
                        <span ><b>toggleTemporaryMessageMode</b></span>
                        <a href="#toggleTemporaryMessageMode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleTemporaryMessageMode()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="701"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:701</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Toggle temporary message mode</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="transformAttachments"></a>
                    <span class="name">
                        <span ><b>transformAttachments</b></span>
                        <a href="#transformAttachments"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>transformAttachments(attachments: any[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="486"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:486</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Transform attachments from API format to component format</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>attachments</td>
                                            <td>
                                                        <code>any[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Attachment[]</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="transformMessages"></a>
                    <span class="name">
                        <span ><b>transformMessages</b></span>
                        <a href="#transformMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>transformMessages(messages: any[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="427"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:427</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Transform messages from API format to component format</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>messages</td>
                                            <td>
                                                        <code>any[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>ChatMessage[]</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="truncateMessage"></a>
                    <span class="name">
                        <span ><b>truncateMessage</b></span>
                        <a href="#truncateMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>truncateMessage(message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, maxLength: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1353"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1353</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Truncate a message for display in the reply preview</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                        </tr>
                                        <tr>
                                                <td>maxLength</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>50</code>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateContactLastMessage"></a>
                    <span class="name">
                        <span ><b>updateContactLastMessage</b></span>
                        <a href="#updateContactLastMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateContactLastMessage(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, message: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1121"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1121</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Update the last message for a contact</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>message</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateContactTypingStatus"></a>
                    <span class="name">
                        <span ><b>updateContactTypingStatus</b></span>
                        <a href="#updateContactTypingStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateContactTypingStatus(contactId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, isTyping: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="930"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:930</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Update typing status for a contact</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>contactId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>isTyping</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="viewContactProfile"></a>
                    <span class="name">
                        <span ><b>viewContactProfile</b></span>
                        <a href="#viewContactProfile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>viewContactProfile()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="1552"
                                    class="link-to-prism">src/app/features/chat/chat.component.ts:1552</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>View the selected contact&#39;s profile</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chatSearchQuery"></a>
                    <span class="name">
                        <span ><b>chatSearchQuery</b></span>
                        <a href="#chatSearchQuery"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="171" class="link-to-prism">src/app/features/chat/chat.component.ts:171</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chatSearchResults"></a>
                    <span class="name">
                        <span ><b>chatSearchResults</b></span>
                        <a href="#chatSearchResults"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ChatMessage[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="172" class="link-to-prism">src/app/features/chat/chat.component.ts:172</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="contacts"></a>
                    <span class="name">
                        <span ><b>contacts</b></span>
                        <a href="#contacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Contact[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="135" class="link-to-prism">src/app/features/chat/chat.component.ts:135</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentCategoryEmojis"></a>
                    <span class="name">
                        <span ><b>currentCategoryEmojis</b></span>
                        <a href="#currentCategoryEmojis"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.emojiCategories[0].emojis</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="252" class="link-to-prism">src/app/features/chat/chat.component.ts:252</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentFilter"></a>
                    <span class="name">
                        <span ><b>currentFilter</b></span>
                        <a href="#currentFilter"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>&quot;all&quot; | &quot;unread&quot; | &quot;archived&quot;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;all&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="147" class="link-to-prism">src/app/features/chat/chat.component.ts:147</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentUserId"></a>
                    <span class="name">
                        <span ><b>currentUserId</b></span>
                        <a href="#currentUserId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="138" class="link-to-prism">src/app/features/chat/chat.component.ts:138</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="emojiCategories"></a>
                    <span class="name">
                        <span ><b>emojiCategories</b></span>
                        <a href="#emojiCategories"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/EmojiCategory.html" target="_self" >EmojiCategory[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[
    {
      name: &#x27;Smileys &amp; Emotion&#x27;,
      icon: &#x27;sentiment_satisfied_alt&#x27;,
      emojis: [
        &#x27;😀&#x27;,
        &#x27;😃&#x27;,
        &#x27;😄&#x27;,
        &#x27;😁&#x27;,
        &#x27;😆&#x27;,
        &#x27;😅&#x27;,
        &#x27;😂&#x27;,
        &#x27;🤣&#x27;,
        &#x27;😊&#x27;,
        &#x27;😇&#x27;,
        &#x27;🙂&#x27;,
        &#x27;🙃&#x27;,
        &#x27;😉&#x27;,
        &#x27;😌&#x27;,
        &#x27;😍&#x27;,
        &#x27;🥰&#x27;,
        &#x27;😘&#x27;,
      ],
    },
    {
      name: &#x27;People &amp; Body&#x27;,
      icon: &#x27;person&#x27;,
      emojis: [
        &#x27;👍&#x27;,
        &#x27;👎&#x27;,
        &#x27;👌&#x27;,
        &#x27;✌️&#x27;,
        &#x27;🤞&#x27;,
        &#x27;🤟&#x27;,
        &#x27;🤘&#x27;,
        &#x27;🤙&#x27;,
        &#x27;👈&#x27;,
        &#x27;👉&#x27;,
        &#x27;👆&#x27;,
        &#x27;👇&#x27;,
        &#x27;👋&#x27;,
        &#x27;🤚&#x27;,
        &#x27;🖐️&#x27;,
        &#x27;✋&#x27;,
        &#x27;🖖&#x27;,
      ],
    },
    {
      name: &#x27;Objects&#x27;,
      icon: &#x27;emoji_objects&#x27;,
      emojis: [
        &#x27;❤️&#x27;,
        &#x27;🧡&#x27;,
        &#x27;💛&#x27;,
        &#x27;💚&#x27;,
        &#x27;💙&#x27;,
        &#x27;💜&#x27;,
        &#x27;🖤&#x27;,
        &#x27;💔&#x27;,
        &#x27;❣️&#x27;,
        &#x27;💕&#x27;,
        &#x27;💞&#x27;,
        &#x27;💓&#x27;,
        &#x27;💗&#x27;,
        &#x27;💖&#x27;,
        &#x27;💘&#x27;,
        &#x27;💝&#x27;,
        &#x27;💟&#x27;,
      ],
    },
  ]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="181" class="link-to-prism">src/app/features/chat/chat.component.ts:181</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="expiryCheckInterval"></a>
                    <span class="name">
                        <span ><b>expiryCheckInterval</b></span>
                        <a href="#expiryCheckInterval"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="155" class="link-to-prism">src/app/features/chat/chat.component.ts:155</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filteredContacts"></a>
                    <span class="name">
                        <span ><b>filteredContacts</b></span>
                        <a href="#filteredContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Contact[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="136" class="link-to-prism">src/app/features/chat/chat.component.ts:136</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filteredNewMessageContacts"></a>
                    <span class="name">
                        <span ><b>filteredNewMessageContacts</b></span>
                        <a href="#filteredNewMessageContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Contact[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="165" class="link-to-prism">src/app/features/chat/chat.component.ts:165</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="galleryFiles"></a>
                    <span class="name">
                        <span ><b>galleryFiles</b></span>
                        <a href="#galleryFiles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Attachment[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="177" class="link-to-prism">src/app/features/chat/chat.component.ts:177</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="galleryImages"></a>
                    <span class="name">
                        <span ><b>galleryImages</b></span>
                        <a href="#galleryImages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Attachment[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="176" class="link-to-prism">src/app/features/chat/chat.component.ts:176</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="galleryLinks"></a>
                    <span class="name">
                        <span ><b>galleryLinks</b></span>
                        <a href="#galleryLinks"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="178" class="link-to-prism">src/app/features/chat/chat.component.ts:178</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="galleryTab"></a>
                    <span class="name">
                        <span ><b>galleryTab</b></span>
                        <a href="#galleryTab"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>&quot;images&quot; | &quot;files&quot; | &quot;links&quot;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;images&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="175" class="link-to-prism">src/app/features/chat/chat.component.ts:175</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="imagePreviewDialog"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>imagePreviewDialog</b></span>
                        <a href="#imagePreviewDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>TemplateRef&lt;any&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;imagePreviewDialog&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="128" class="link-to-prism">src/app/features/chat/chat.component.ts:128</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isContactTyping"></a>
                    <span class="name">
                        <span ><b>isContactTyping</b></span>
                        <a href="#isContactTyping"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="144" class="link-to-prism">src/app/features/chat/chat.component.ts:144</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadingContacts"></a>
                    <span class="name">
                        <span ><b>loadingContacts</b></span>
                        <a href="#loadingContacts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="143" class="link-to-prism">src/app/features/chat/chat.component.ts:143</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mediaGalleryDialog"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>mediaGalleryDialog</b></span>
                        <a href="#mediaGalleryDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>TemplateRef&lt;any&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;mediaGalleryDialog&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="130" class="link-to-prism">src/app/features/chat/chat.component.ts:130</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messageAutoDeletionEnabled"></a>
                    <span class="name">
                        <span ><b>messageAutoDeletionEnabled</b></span>
                        <a href="#messageAutoDeletionEnabled"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="158" class="link-to-prism">src/app/features/chat/chat.component.ts:158</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messageExpiryTime"></a>
                    <span class="name">
                        <span ><b>messageExpiryTime</b></span>
                        <a href="#messageExpiryTime"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>7 * 24 * 60 * 60 * 1000</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="159" class="link-to-prism">src/app/features/chat/chat.component.ts:159</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messageGroups"></a>
                    <span class="name">
                        <span ><b>messageGroups</b></span>
                        <a href="#messageGroups"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/MessageGroup.html" target="_self" >MessageGroup[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="134" class="link-to-prism">src/app/features/chat/chat.component.ts:134</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messageInput"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>messageInput</b></span>
                        <a href="#messageInput"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ElementRef</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;messageInput&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="126" class="link-to-prism">src/app/features/chat/chat.component.ts:126</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messageList"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>messageList</b></span>
                        <a href="#messageList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ElementRef</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;messageList&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="125" class="link-to-prism">src/app/features/chat/chat.component.ts:125</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="messages"></a>
                    <span class="name">
                        <span ><b>messages</b></span>
                        <a href="#messages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ChatMessage[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="133" class="link-to-prism">src/app/features/chat/chat.component.ts:133</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newMessage"></a>
                    <span class="name">
                        <span ><b>newMessage</b></span>
                        <a href="#newMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="137" class="link-to-prism">src/app/features/chat/chat.component.ts:137</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newMessageDialog"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>newMessageDialog</b></span>
                        <a href="#newMessageDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>TemplateRef&lt;any&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;newMessageDialog&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="127" class="link-to-prism">src/app/features/chat/chat.component.ts:127</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newMessageSearch"></a>
                    <span class="name">
                        <span ><b>newMessageSearch</b></span>
                        <a href="#newMessageSearch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="164" class="link-to-prism">src/app/features/chat/chat.component.ts:164</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="notificationsEnabled"></a>
                    <span class="name">
                        <span ><b>notificationsEnabled</b></span>
                        <a href="#notificationsEnabled"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="146" class="link-to-prism">src/app/features/chat/chat.component.ts:146</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="previewImage"></a>
                    <span class="name">
                        <span ><b>previewImage</b></span>
                        <a href="#previewImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Attachment | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="168" class="link-to-prism">src/app/features/chat/chat.component.ts:168</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="replyingTo"></a>
                    <span class="name">
                        <span ><b>replyingTo</b></span>
                        <a href="#replyingTo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ChatMessage | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="150" class="link-to-prism">src/app/features/chat/chat.component.ts:150</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchInChatDialog"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>searchInChatDialog</b></span>
                        <a href="#searchInChatDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>TemplateRef&lt;any&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;searchInChatDialog&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="129" class="link-to-prism">src/app/features/chat/chat.component.ts:129</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="searchTerm"></a>
                    <span class="name">
                        <span ><b>searchTerm</b></span>
                        <a href="#searchTerm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="140" class="link-to-prism">src/app/features/chat/chat.component.ts:140</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedContactId"></a>
                    <span class="name">
                        <span ><b>selectedContactId</b></span>
                        <a href="#selectedContactId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="139" class="link-to-prism">src/app/features/chat/chat.component.ts:139</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shouldScrollToBottom"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>shouldScrollToBottom</b></span>
                        <a href="#shouldScrollToBottom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="257" class="link-to-prism">src/app/features/chat/chat.component.ts:257</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showEmojiPicker"></a>
                    <span class="name">
                        <span ><b>showEmojiPicker</b></span>
                        <a href="#showEmojiPicker"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="145" class="link-to-prism">src/app/features/chat/chat.component.ts:145</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subscriptions"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>subscriptions</b></span>
                        <a href="#subscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/Subscription.html" target="_self" >Subscription[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="255" class="link-to-prism">src/app/features/chat/chat.component.ts:255</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="temporaryMessageMode"></a>
                    <span class="name">
                        <span ><b>temporaryMessageMode</b></span>
                        <a href="#temporaryMessageMode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="153" class="link-to-prism">src/app/features/chat/chat.component.ts:153</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="temporaryMessageMode"></a>
                    <span class="name">
                        <span ><b>temporaryMessageMode</b></span>
                        <a href="#temporaryMessageMode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="160" class="link-to-prism">src/app/features/chat/chat.component.ts:160</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="temporaryMessageTTL"></a>
                    <span class="name">
                        <span ><b>temporaryMessageTTL</b></span>
                        <a href="#temporaryMessageTTL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>24</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="154" class="link-to-prism">src/app/features/chat/chat.component.ts:154</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="temporaryMessageTTL"></a>
                    <span class="name">
                        <span ><b>temporaryMessageTTL</b></span>
                        <a href="#temporaryMessageTTL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>24 * 60 * 60 * 1000</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="161" class="link-to-prism">src/app/features/chat/chat.component.ts:161</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="typingSubject"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>typingSubject</b></span>
                        <a href="#typingSubject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;string&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="256" class="link-to-prism">src/app/features/chat/chat.component.ts:256</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Component,
  OnInit,
  OnDestroy,
  ViewChild,
  ElementRef,
  TemplateRef,
  AfterViewChecked,
} from &#x27;@angular/core&#x27;;
import { ChatService } from &#x27;../../core/services/chat.service&#x27;;
import { AuthService } from &#x27;../../core/services/auth.service&#x27;;
import { NotificationService } from &#x27;../../core/services/notification.service&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { FormsModule } from &#x27;@angular/forms&#x27;;
import { ActivatedRoute, Router } from &#x27;@angular/router&#x27;;
import { Subscription, BehaviorSubject, Subject } from &#x27;rxjs&#x27;;
import { debounceTime, distinctUntilChanged } from &#x27;rxjs/operators&#x27;;
import { MatDialog, MatDialogModule } from &#x27;@angular/material/dialog&#x27;;

// Material Imports
import { MatIconModule } from &#x27;@angular/material/icon&#x27;;
import { MatButtonModule } from &#x27;@angular/material/button&#x27;;
import { MatFormFieldModule } from &#x27;@angular/material/form-field&#x27;;
import { MatInputModule } from &#x27;@angular/material/input&#x27;;
import { MatMenuModule } from &#x27;@angular/material/menu&#x27;;
import { MatTooltipModule } from &#x27;@angular/material/tooltip&#x27;;
import { MatTabsModule } from &#x27;@angular/material/tabs&#x27;;

// Emerald Components
import { AvatarComponent } from &#x27;../../shared/emerald/components/avatar/avatar.component&#x27;;
import { SkeletonLoaderComponent } from &#x27;../../shared/emerald/components/skeleton-loader/skeleton-loader.component&#x27;;

// Interfaces
interface ChatMessage {
  _id: string;
  sender: {
    id: string;
    username: string;
  };
  recipient?: {
    id: string;
    username: string;
  };
  message: string;
  timestamp: Date;
  read: boolean;
  attachments?: Attachment[];
  replyTo?: string; // ID of the message being replied to
  expiresAt?: Date; // Optional expiration date for temporary messages
  ttl?: number; // Time to live in hours
  expiryWarningShown?: boolean; // Flag to track if expiry warning has been shown
}

interface Contact {
  id: string;
  name: string;
  imageUrl?: string;
  lastMessage: string;
  lastMessageTime: Date;
  lastSeen?: Date;
  unreadCount: number;
  online: boolean;
  typing?: boolean;
  pinned?: boolean;
  archived?: boolean;
}

interface MessageGroup {
  date: Date;
  messages: ChatMessage[];
}

interface Attachment {
  id: string;
  name: string;
  type: string;
  size: number;
  url: string;
  timestamp: Date;
}

interface EmojiCategory {
  name: string;
  icon: string;
  emojis: string[];
}

// Constants
const MAX_ATTACHMENT_SIZE &#x3D; 10 * 1024 * 1024; // 10MB
const TYPING_INDICATOR_DELAY &#x3D; 500; // ms

@Component({
  selector: &#x27;app-chat&#x27;,
  standalone: true,
  imports: [
    CommonModule,
    FormsModule,
    MatIconModule,
    MatButtonModule,
    MatFormFieldModule,
    MatInputModule,
    MatMenuModule,
    MatTooltipModule,
    MatTabsModule,
    MatDialogModule,
    AvatarComponent,
    SkeletonLoaderComponent,
  ],
  templateUrl: &#x27;./chat.component.html&#x27;,
  styleUrls: [&#x27;./chat.component.scss&#x27;],
})
export class ChatComponent implements OnInit, OnDestroy, AfterViewChecked {
  // ViewChild references
  @ViewChild(&#x27;messageList&#x27;) messageList!: ElementRef;
  @ViewChild(&#x27;messageInput&#x27;) messageInput!: ElementRef;
  @ViewChild(&#x27;newMessageDialog&#x27;) newMessageDialog!: TemplateRef&lt;any&gt;;
  @ViewChild(&#x27;imagePreviewDialog&#x27;) imagePreviewDialog!: TemplateRef&lt;any&gt;;
  @ViewChild(&#x27;searchInChatDialog&#x27;) searchInChatDialog!: TemplateRef&lt;any&gt;;
  @ViewChild(&#x27;mediaGalleryDialog&#x27;) mediaGalleryDialog!: TemplateRef&lt;any&gt;;

  // Chat data
  messages: ChatMessage[] &#x3D; [];
  messageGroups: MessageGroup[] &#x3D; [];
  contacts: Contact[] &#x3D; [];
  filteredContacts: Contact[] &#x3D; [];
  newMessage &#x3D; &#x27;&#x27;;
  currentUserId &#x3D; &#x27;&#x27;;
  selectedContactId: string | null &#x3D; null;
  searchTerm &#x3D; &#x27;&#x27;;

  // UI state
  loadingContacts &#x3D; true;
  isContactTyping &#x3D; false;
  showEmojiPicker &#x3D; false;
  notificationsEnabled &#x3D; true;
  currentFilter: &#x27;all&#x27; | &#x27;unread&#x27; | &#x27;archived&#x27; &#x3D; &#x27;all&#x27;;

  // Reply functionality
  replyingTo: ChatMessage | null &#x3D; null;

  // Temporary message functionality
  temporaryMessageMode &#x3D; false;
  temporaryMessageTTL &#x3D; 24; // Default: 24 hours
  expiryCheckInterval: any; // For the timer that checks expired messages

  // Message auto-deletion settings
  messageAutoDeletionEnabled &#x3D; true;
  messageExpiryTime &#x3D; 7 * 24 * 60 * 60 * 1000; // 7 days in milliseconds
  temporaryMessageMode &#x3D; false; // When true, next message will be temporary
  temporaryMessageTTL &#x3D; 24 * 60 * 60 * 1000; // 24 hours in milliseconds

  // New message dialog
  newMessageSearch &#x3D; &#x27;&#x27;;
  filteredNewMessageContacts: Contact[] &#x3D; [];

  // Image preview
  previewImage: Attachment | null &#x3D; null;

  // Search in chat
  chatSearchQuery &#x3D; &#x27;&#x27;;
  chatSearchResults: ChatMessage[] &#x3D; [];

  // Media gallery
  galleryTab: &#x27;images&#x27; | &#x27;files&#x27; | &#x27;links&#x27; &#x3D; &#x27;images&#x27;;
  galleryImages: Attachment[] &#x3D; [];
  galleryFiles: Attachment[] &#x3D; [];
  galleryLinks: { url: string; title?: string; timestamp: Date }[] &#x3D; [];

  // Emoji picker
  emojiCategories: EmojiCategory[] &#x3D; [
    {
      name: &#x27;Smileys &amp; Emotion&#x27;,
      icon: &#x27;sentiment_satisfied_alt&#x27;,
      emojis: [
        &#x27;😀&#x27;,
        &#x27;😃&#x27;,
        &#x27;😄&#x27;,
        &#x27;😁&#x27;,
        &#x27;😆&#x27;,
        &#x27;😅&#x27;,
        &#x27;😂&#x27;,
        &#x27;🤣&#x27;,
        &#x27;😊&#x27;,
        &#x27;😇&#x27;,
        &#x27;🙂&#x27;,
        &#x27;🙃&#x27;,
        &#x27;😉&#x27;,
        &#x27;😌&#x27;,
        &#x27;😍&#x27;,
        &#x27;🥰&#x27;,
        &#x27;😘&#x27;,
      ],
    },
    {
      name: &#x27;People &amp; Body&#x27;,
      icon: &#x27;person&#x27;,
      emojis: [
        &#x27;👍&#x27;,
        &#x27;👎&#x27;,
        &#x27;👌&#x27;,
        &#x27;✌️&#x27;,
        &#x27;🤞&#x27;,
        &#x27;🤟&#x27;,
        &#x27;🤘&#x27;,
        &#x27;🤙&#x27;,
        &#x27;👈&#x27;,
        &#x27;👉&#x27;,
        &#x27;👆&#x27;,
        &#x27;👇&#x27;,
        &#x27;👋&#x27;,
        &#x27;🤚&#x27;,
        &#x27;🖐️&#x27;,
        &#x27;✋&#x27;,
        &#x27;🖖&#x27;,
      ],
    },
    {
      name: &#x27;Objects&#x27;,
      icon: &#x27;emoji_objects&#x27;,
      emojis: [
        &#x27;❤️&#x27;,
        &#x27;🧡&#x27;,
        &#x27;💛&#x27;,
        &#x27;💚&#x27;,
        &#x27;💙&#x27;,
        &#x27;💜&#x27;,
        &#x27;🖤&#x27;,
        &#x27;💔&#x27;,
        &#x27;❣️&#x27;,
        &#x27;💕&#x27;,
        &#x27;💞&#x27;,
        &#x27;💓&#x27;,
        &#x27;💗&#x27;,
        &#x27;💖&#x27;,
        &#x27;💘&#x27;,
        &#x27;💝&#x27;,
        &#x27;💟&#x27;,
      ],
    },
  ];
  currentCategoryEmojis: string[] &#x3D; this.emojiCategories[0].emojis;

  // Subscriptions
  private subscriptions: Subscription[] &#x3D; [];
  private typingSubject &#x3D; new Subject&lt;string&gt;();
  private shouldScrollToBottom &#x3D; true;

  constructor(
    private chatService: ChatService,
    private authService: AuthService,
    private notificationService: NotificationService,
    private route: ActivatedRoute,
    private router: Router,
    private dialog: MatDialog
  ) {
    const currentUser &#x3D; this.authService.getCurrentUser();
    this.currentUserId &#x3D; currentUser ? currentUser._id : &#x27;&#x27;;

    // Set up typing indicator with debounce
    const typingSub &#x3D; this.typingSubject
      .pipe(debounceTime(TYPING_INDICATOR_DELAY), distinctUntilChanged())
      .subscribe(message &#x3D;&gt; {
        if (this.selectedContactId) {
          this.chatService.sendTypingIndicator(this.selectedContactId);
        }
      });

    this.subscriptions.push(typingSub);
  }

  ngOnInit(): void {
    // Load contacts first
    this.loadContacts();

    // Check if we have a recipient ID in the route
    const routeSub &#x3D; this.route.params.subscribe(params &#x3D;&gt; {
      if (params[&#x27;userId&#x27;]) {
        this.selectedContactId &#x3D; params[&#x27;userId&#x27;];
        this.loadMessages();
        this.loadMessageAutoDeletionSettings();
      }
    });

    this.subscriptions.push(routeSub);
    this.setupSocketListeners();

    // Set up a timer to check for expired messages every minute
    this.expiryCheckInterval &#x3D; setInterval(() &#x3D;&gt; {
      this.checkExpiredMessages();
    }, 60000); // 60000 ms &#x3D; 1 minute
  }

  /**
   * Load message auto-deletion settings for the current chat room
   */
  loadMessageAutoDeletionSettings(): void {
    if (!this.selectedContactId) return;

    const settings &#x3D; this.chatService.getMessageAutoDeletionSettings(this.selectedContactId);
    this.messageAutoDeletionEnabled &#x3D; settings.enabled;
    this.messageExpiryTime &#x3D; settings.ttl;

    console.log(
      &#x60;Loaded message auto-deletion settings for room ${this.selectedContactId}: enabled&#x3D;${settings.enabled}, ttl&#x3D;${this.formatTTL(settings.ttl)}&#x60;
    );
  }

  ngAfterViewChecked(): void {
    // Scroll to bottom if needed
    if (this.shouldScrollToBottom &amp;&amp; this.messageList) {
      this.scrollToBottom();
      this.shouldScrollToBottom &#x3D; false;
    }
  }

  ngOnDestroy(): void {
    // Clean up subscriptions
    this.subscriptions.forEach(sub &#x3D;&gt; sub.unsubscribe());

    // Clear the expiry check interval
    if (this.expiryCheckInterval) {
      clearInterval(this.expiryCheckInterval);
    }
  }

  /**
   * Load contacts from the server
   */
  loadContacts(): void {
    this.loadingContacts &#x3D; true;

    // In a real app, you would load contacts from the service
    this.chatService.getContacts().subscribe({
      next: contacts &#x3D;&gt; {
        this.contacts &#x3D; this.enhanceContacts(contacts);
        this.filterContacts();

        // If we have contacts but no selected contact, select the first one
        if (this.contacts.length &gt; 0 &amp;&amp; !this.selectedContactId) {
          this.selectContact(this.contacts[0].id);
        }

        this.loadingContacts &#x3D; false;
      },
      error: err &#x3D;&gt; {
        console.error(&#x27;Error loading contacts:&#x27;, err);
        // Use mock data if API call fails
        this.contacts &#x3D; this.enhanceContacts(this.chatService.getMockContacts());
        this.filterContacts();

        if (this.contacts.length &gt; 0 &amp;&amp; !this.selectedContactId) {
          this.selectContact(this.contacts[0].id);
        }

        this.loadingContacts &#x3D; false;
      },
    });
  }

  /**
   * Enhance contacts with additional properties for UI
   */
  enhanceContacts(contacts: any[]): Contact[] {
    return contacts.map(contact &#x3D;&gt; ({
      ...contact,
      imageUrl: contact.imageUrl || this.getRandomProfileImage(),
      lastSeen: contact.lastSeen || new Date(Date.now() - Math.random() * 1000 * 60 * 60 * 24),
      pinned: contact.pinned || false,
      archived: contact.archived || false,
      typing: false,
    }));
  }

  /**
   * Load messages for the selected contact
   */
  loadMessages(): void {
    if (this.selectedContactId) {
      this.chatService.getMessages(this.selectedContactId).subscribe({
        next: messages &#x3D;&gt; {
          // Transform the messages from the service format to the component format
          this.messages &#x3D; this.transformMessages(messages);

          // Group messages by date
          this.groupMessagesByDate();

          // Mark messages as read
          this.markContactMessagesAsRead();

          // Scroll to bottom of message list
          this.shouldScrollToBottom &#x3D; true;

          // Extract media for gallery
          this.extractMediaFromMessages();
        },
        error: err &#x3D;&gt; {
          console.error(&#x27;Error loading messages:&#x27;, err);

          // If no messages, create dummy messages for demo
          if (this.selectedContactId &amp;&amp; this.messages.length &#x3D;&#x3D;&#x3D; 0) {
            const contact &#x3D; this.getSelectedContact();
            if (contact) {
              this.createDummyMessages(contact);
              this.groupMessagesByDate();
              this.extractMediaFromMessages();
            }
          }
        },
      });
    }
  }

  /**
   * Transform messages from API format to component format
   */
  transformMessages(messages: any[]): ChatMessage[] {
    return messages.map(msg &#x3D;&gt; {
      // Create a properly typed sender object
      let senderObj: { id: string; username: string };
      if (typeof msg.sender &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
        senderObj &#x3D; {
          id: msg.sender,
          username: this.getContactById(msg.sender)?.name || &#x27;User&#x27;,
        };
      } else {
        // Handle the case where sender is an object
        const senderAsObj &#x3D; msg.sender;
        senderObj &#x3D; {
          id: senderAsObj.id || &#x27;unknown&#x27;,
          username:
            senderAsObj.username || this.getContactById(senderAsObj.id)?.name || &#x27;Unknown User&#x27;,
        };
      }

      // Create a properly typed recipient object if it exists
      let recipientObj: { id: string; username: string } | undefined;
      if (msg.recipient) {
        if (typeof msg.recipient &#x3D;&#x3D;&#x3D; &#x27;string&#x27;) {
          recipientObj &#x3D; {
            id: msg.recipient,
            username: this.getContactById(msg.recipient)?.name || &#x27;Recipient&#x27;,
          };
        } else {
          // Handle the case where recipient is an object
          const recipientAsObj &#x3D; msg.recipient;
          recipientObj &#x3D; {
            id: recipientAsObj.id || &#x27;unknown&#x27;,
            username:
              recipientAsObj.username ||
              this.getContactById(recipientAsObj.id)?.name ||
              &#x27;Unknown Recipient&#x27;,
          };
        }
      }

      // Create attachments if they exist
      const attachments &#x3D; msg.attachments ? this.transformAttachments(msg.attachments) : undefined;

      return {
        _id: msg._id,
        sender: senderObj,
        recipient: recipientObj,
        message: msg.message || msg.content,
        timestamp: new Date(msg.timestamp),
        read: msg.read,
        attachments,
        replyTo: msg.replyTo,
      };
    });
  }

  /**
   * Transform attachments from API format to component format
   */
  transformAttachments(attachments: any[]): Attachment[] {
    return attachments.map(att &#x3D;&gt; ({
      id: att.id || att._id || Date.now().toString(),
      name: att.name || att.filename || &#x27;Attachment&#x27;,
      type: att.type || att.mimeType || &#x27;application/octet-stream&#x27;,
      size: att.size || 0,
      url: att.url || att.path || &#x27;&#x27;,
      timestamp: new Date(att.timestamp || att.createdAt || Date.now()),
    }));
  }

  /**
   * Group messages by date for display
   */
  groupMessagesByDate(): void {
    const groups: { [key: string]: MessageGroup } &#x3D; {};

    this.messages.forEach(message &#x3D;&gt; {
      const date &#x3D; new Date(message.timestamp);
      const dateKey &#x3D; date.toDateString();

      if (!groups[dateKey]) {
        groups[dateKey] &#x3D; {
          date: date,
          messages: [],
        };
      }

      groups[dateKey].messages.push(message);
    });

    this.messageGroups &#x3D; Object.values(groups).sort((a, b) &#x3D;&gt; a.date.getTime() - b.date.getTime());
  }

  /**
   * Extract media from messages for gallery view
   */
  extractMediaFromMessages(): void {
    this.galleryImages &#x3D; [];
    this.galleryFiles &#x3D; [];
    this.galleryLinks &#x3D; [];

    this.messages.forEach(message &#x3D;&gt; {
      // Extract attachments
      if (message.attachments &amp;&amp; message.attachments.length &gt; 0) {
        message.attachments.forEach(attachment &#x3D;&gt; {
          if (this.isImageAttachment(attachment)) {
            this.galleryImages.push(attachment);
          } else {
            this.galleryFiles.push(attachment);
          }
        });
      }

      // Extract links from message text
      const urlRegex &#x3D; /(https?:\/\/[^\s]+)/g;
      const matches &#x3D; message.message.match(urlRegex);

      if (matches) {
        matches.forEach(url &#x3D;&gt; {
          this.galleryLinks.push({
            url,
            timestamp: message.timestamp,
          });
        });
      }
    });
  }

  /**
   * Send a message to the selected contact
   */
  sendMessage(): void {
    if (this.canSendMessage()) {
      const replyToId &#x3D; this.replyingTo?._id;

      // Determine if this should be a temporary message with custom TTL
      let ttl: number | undefined;
      if (this.temporaryMessageMode) {
        // Convert hours to milliseconds
        ttl &#x3D; this.chatService.convertHoursToMilliseconds(this.temporaryMessageTTL);
        // Reset temporary message mode after sending
        this.temporaryMessageMode &#x3D; false;
      } else if (this.messageAutoDeletionEnabled) {
        ttl &#x3D; this.messageExpiryTime;
      }

      this.chatService
        .sendMessage(this.selectedContactId, this.newMessage, replyToId, ttl)
        .subscribe({
          next: response &#x3D;&gt; {
            // Add the message to our list immediately for better UX
            const newMessage: ChatMessage &#x3D; {
              _id: response._id || Date.now().toString(),
              sender: {
                id: this.currentUserId,
                username: &#x27;You&#x27;,
              },
              message: this.newMessage,
              timestamp: new Date(),
              read: false,
              replyTo: replyToId,
              expiresAt: response.expiresAt || (ttl ? Date.now() + ttl : undefined),
            };

            this.messages &#x3D; [...this.messages, newMessage];
            this.groupMessagesByDate();
            this.newMessage &#x3D; &#x27;&#x27;;
            this.replyingTo &#x3D; null;

            // Update the last message in contacts
            this.updateContactLastMessage(this.selectedContactId, newMessage.message);

            // Scroll to bottom
            this.shouldScrollToBottom &#x3D; true;
          },
          error: err &#x3D;&gt; {
            console.error(&#x27;Error sending message:&#x27;, err);
            this.notificationService.error(&#x27;Failed to send message. Please try again.&#x27;);
          },
        });
    }
  }

  /**
   * Toggle temporary message mode
   * When enabled, the next message sent will auto-delete after the specified TTL
   */
  toggleTemporaryMessageMode(): void {
    this.temporaryMessageMode &#x3D; !this.temporaryMessageMode;

    if (this.temporaryMessageMode) {
      this.notificationService.info(
        &#x60;Temporary message mode enabled. Next message will auto-delete after ${this.formatTTL(this.temporaryMessageTTL)}.&#x60;
      );
    } else {
      this.notificationService.info(&#x27;Temporary message mode disabled.&#x27;);
    }
  }

  /**
   * Set the TTL for temporary messages
   * @param hours Number of hours before the message auto-deletes
   */
  setTemporaryMessageTTL(hours: number): void {
    this.temporaryMessageTTL &#x3D; hours * 60 * 60 * 1000;

    if (this.temporaryMessageMode) {
      this.notificationService.info(
        &#x60;Temporary messages will auto-delete after ${this.formatTTL(this.temporaryMessageTTL)}.&#x60;
      );
    }
  }

  /**
   * Format a TTL value in milliseconds to a human-readable string
   */
  private formatTTL(ttl: number): string {
    const hours &#x3D; ttl / (60 * 60 * 1000);

    if (hours &lt; 1) {
      return &#x60;${Math.round(hours * 60)} minutes&#x60;;
    } else if (hours &#x3D;&#x3D;&#x3D; 1) {
      return &#x27;1 hour&#x27;;
    } else if (hours &lt; 24) {
      return &#x60;${hours} hours&#x60;;
    } else {
      const days &#x3D; hours / 24;
      if (days &#x3D;&#x3D;&#x3D; 1) {
        return &#x27;1 day&#x27;;
      } else {
        return &#x60;${days} days&#x60;;
      }
    }
  }

  /**
   * Configure message auto-deletion settings for the current chat room
   */
  configureMessageAutoDeletion(enabled: boolean, days: number): void {
    if (!this.selectedContactId) return;

    const ttl &#x3D; days * 24 * 60 * 60 * 1000;
    this.messageAutoDeletionEnabled &#x3D; enabled;
    this.messageExpiryTime &#x3D; ttl;

    this.chatService.configureMessageAutoDeletion(this.selectedContactId, enabled, ttl).subscribe({
      next: success &#x3D;&gt; {
        if (success) {
          this.notificationService.success(
            enabled
              ? &#x60;Messages will auto-delete after ${days} days.&#x60;
              : &#x27;Message auto-deletion disabled.&#x27;
          );
        } else {
          this.notificationService.error(&#x27;Failed to update message auto-deletion settings.&#x27;);
        }
      },
      error: err &#x3D;&gt; {
        console.error(&#x27;Error configuring message auto-deletion:&#x27;, err);
        this.notificationService.error(&#x27;Failed to update message auto-deletion settings.&#x27;);
      },
    });
  }

  /**
   * Check if a message can be sent
   */
  canSendMessage(): boolean {
    return !!this.newMessage.trim() &amp;&amp; !!this.selectedContactId;
  }

  /**
   * Toggle temporary message mode
   */
  toggleTemporaryMessageMode(): void {
    this.temporaryMessageMode &#x3D; !this.temporaryMessageMode;

    // Focus on the message input after toggling
    setTimeout(() &#x3D;&gt; {
      if (this.messageInput) {
        this.messageInput.nativeElement.focus();
      }
    }, 0);
  }

  /**
   * Set the TTL (time to live) for temporary messages
   * @param hours Number of hours before the message expires
   */
  setTemporaryMessageTTL(hours: number): void {
    this.temporaryMessageTTL &#x3D; hours;
  }

  /**
   * Format the TTL for display
   * @param hours Number of hours
   * @returns Formatted string (e.g., &quot;1 hour&quot;, &quot;24 hours&quot;)
   */
  formatTTL(hours: number): string {
    return hours &#x3D;&#x3D;&#x3D; 1 ? &#x27;1 hour&#x27; : &#x60;${hours} hours&#x60;;
  }

  /**
   * Check for expired messages and remove them from the UI
   * This should be called periodically to clean up expired messages
   */
  checkExpiredMessages(): void {
    const now &#x3D; new Date().getTime();
    const expiredMessageIds: string[] &#x3D; [];
    const aboutToExpireIds: string[] &#x3D; [];
    const warningThreshold &#x3D; 5 * 60 * 1000; // 5 minutes

    // Find expired and about-to-expire messages
    this.messages.forEach(message &#x3D;&gt; {
      if (message.expiresAt) {
        const expiryTime &#x3D; new Date(message.expiresAt).getTime();

        if (expiryTime &lt;&#x3D; now) {
          // Message has expired
          expiredMessageIds.push(message._id);
        } else if (expiryTime - now &lt;&#x3D; warningThreshold &amp;&amp; !message.expiryWarningShown) {
          // Message will expire soon and warning hasn&#x27;t been shown yet
          aboutToExpireIds.push(message._id);
          message.expiryWarningShown &#x3D; true; // Mark that we&#x27;ve shown the warning
        }
      }
    });

    // Show warnings for messages about to expire
    if (aboutToExpireIds.length &gt; 0) {
      if (aboutToExpireIds.length &#x3D;&#x3D;&#x3D; 1) {
        this.notificationService.info(&#x27;A message will expire soon&#x27;);
      } else {
        this.notificationService.info(&#x60;${aboutToExpireIds.length} messages will expire soon&#x60;);
      }
    }

    // Remove expired messages
    if (expiredMessageIds.length &gt; 0) {
      this.messages &#x3D; this.messages.filter(message &#x3D;&gt; !expiredMessageIds.includes(message._id));
      this.groupMessagesByDate();

      // Notify the user that messages have expired
      if (expiredMessageIds.length &#x3D;&#x3D;&#x3D; 1) {
        this.notificationService.info(&#x27;A temporary message has expired and been removed&#x27;);
      } else {
        this.notificationService.info(
          &#x60;${expiredMessageIds.length} temporary messages have expired and been removed&#x60;
        );
      }
    }
  }

  /**
   * Calculate the remaining time for a temporary message
   * @param expiresAt The expiration timestamp
   * @returns Formatted string showing remaining time
   */
  getRemainingTime(expiresAt: Date): string {
    if (!expiresAt) {
      return &#x27;&#x27;;
    }

    const now &#x3D; new Date().getTime();
    const expiry &#x3D; new Date(expiresAt).getTime();
    const diff &#x3D; expiry - now;

    if (diff &lt;&#x3D; 0) {
      return &#x27;Expired&#x27;;
    }

    // Convert to appropriate units
    const seconds &#x3D; Math.floor(diff / 1000);
    const minutes &#x3D; Math.floor(seconds / 60);
    const hours &#x3D; Math.floor(minutes / 60);
    const days &#x3D; Math.floor(hours / 24);

    if (days &gt; 0) {
      return &#x60;${days}d remaining&#x60;;
    } else if (hours &gt; 0) {
      return &#x60;${hours}h remaining&#x60;;
    } else if (minutes &gt; 0) {
      return &#x60;${minutes}m remaining&#x60;;
    } else {
      return &#x60;${seconds}s remaining&#x60;;
    }
  }

  /**
   * Check if a message is about to expire (within 5 minutes)
   * @param expiresAt The expiration timestamp
   * @returns True if the message will expire within 5 minutes
   */
  isAboutToExpire(expiresAt: Date): boolean {
    if (!expiresAt) {
      return false;
    }

    const now &#x3D; new Date().getTime();
    const expiry &#x3D; new Date(expiresAt).getTime();
    const diff &#x3D; expiry - now;
    const warningThreshold &#x3D; 5 * 60 * 1000; // 5 minutes

    return diff &gt; 0 &amp;&amp; diff &lt;&#x3D; warningThreshold;
  }

  /**
   * Handle Enter key in message input
   */
  handleEnterKey(event: Event): void {
    const keyboardEvent &#x3D; event as KeyboardEvent;
    if (!keyboardEvent.shiftKey) {
      event.preventDefault();
      this.sendMessage();
    }
  }

  /**
   * Notify that user is typing
   */
  onTyping(): void {
    this.typingSubject.next(this.newMessage);

    // Auto-resize textarea
    if (this.messageInput) {
      const textarea &#x3D; this.messageInput.nativeElement;
      textarea.style.height &#x3D; &#x27;auto&#x27;;
      textarea.style.height &#x3D; &#x60;${textarea.scrollHeight}px&#x60;;
    }
  }

  /**
   * Set up WebSocket listeners for real-time chat
   */
  setupSocketListeners(): void {
    this.chatService.connectSocket();

    // Create a subject that we can subscribe to and unsubscribe from
    const messageSubject &#x3D; new BehaviorSubject&lt;any&gt;(null);
    const typingSubject &#x3D; new BehaviorSubject&lt;any&gt;(null);

    // Set up the socket listener for new messages
    this.chatService.onNewMessage(message &#x3D;&gt; {
      messageSubject.next(message);
    });

    // Set up the socket listener for typing indicators
    this.chatService.onTypingIndicator(data &#x3D;&gt; {
      typingSubject.next(data);
    });

    // Subscribe to message subject
    const messageSub &#x3D; messageSubject.subscribe(message &#x3D;&gt; {
      if (!message) return; // Skip the initial null value

      // Update messages array if the message is for the current chat
      if (
        this.selectedContactId &amp;&amp;
        (message.sender.id &#x3D;&#x3D;&#x3D; this.selectedContactId ||
          (message.recipient &amp;&amp; message.recipient.id &#x3D;&#x3D;&#x3D; this.selectedContactId))
      ) {
        // Transform the message to match our format
        const formattedMessage &#x3D; this.transformMessages([message])[0];
        this.messages &#x3D; [...this.messages, formattedMessage];
        this.groupMessagesByDate();
        this.extractMediaFromMessages();

        // Mark as read if it&#x27;s from the selected contact
        if (message.sender.id &#x3D;&#x3D;&#x3D; this.selectedContactId) {
          this.markAsRead(message._id);
        }

        // Scroll to bottom
        this.shouldScrollToBottom &#x3D; true;
      }

      // Update the unread count for the contact
      if (message.sender &amp;&amp; message.sender.id) {
        this.incrementUnreadCount(message.sender.id);
      }
    });

    // Subscribe to typing indicator subject
    const typingSub &#x3D; typingSubject.subscribe(data &#x3D;&gt; {
      if (!data) return; // Skip the initial null value

      // Update typing indicator for the contact
      if (data.userId &amp;&amp; data.userId !&#x3D;&#x3D; this.currentUserId) {
        this.updateContactTypingStatus(data.userId, true);

        // Auto-reset typing status after 3 seconds
        setTimeout(() &#x3D;&gt; {
          this.updateContactTypingStatus(data.userId, false);
        }, 3000);
      }
    });

    this.subscriptions.push(messageSub, typingSub);
  }

  /**
   * Update typing status for a contact
   */
  updateContactTypingStatus(contactId: string, isTyping: boolean): void {
    this.contacts &#x3D; this.contacts.map(contact &#x3D;&gt; {
      if (contact.id &#x3D;&#x3D;&#x3D; contactId) {
        return {
          ...contact,
          typing: isTyping,
        };
      }
      return contact;
    });

    this.filterContacts();

    // Update UI typing indicator if this is the selected contact
    if (contactId &#x3D;&#x3D;&#x3D; this.selectedContactId) {
      this.isContactTyping &#x3D; isTyping;
    }
  }

  /**
   * Select a contact to chat with
   */
  selectContact(contactId: string): void {
    this.selectedContactId &#x3D; contactId;

    // Update URL without reloading
    this.router.navigate([&#x27;/chat&#x27;, contactId], { replaceUrl: true });

    // Load messages for this contact
    this.loadMessages();

    // Load message auto-deletion settings for this contact
    this.loadMessageAutoDeletionSettings();

    // Reset unread count for this contact
    this.resetUnreadCount(contactId);

    // Reset UI state
    this.replyingTo &#x3D; null;
    this.showEmojiPicker &#x3D; false;
    this.temporaryMessageMode &#x3D; false;
  }

  /**
   * Deselect the current contact (mobile view)
   */
  deselectContact(): void {
    this.selectedContactId &#x3D; null;
    this.router.navigate([&#x27;/chat&#x27;], { replaceUrl: true });
  }

  /**
   * Get a contact by ID
   */
  getContactById(contactId: string): Contact | undefined {
    return this.contacts.find(contact &#x3D;&gt; contact.id &#x3D;&#x3D;&#x3D; contactId);
  }

  /**
   * Get the currently selected contact
   */
  getSelectedContact(): Contact | undefined {
    return this.getContactById(this.selectedContactId);
  }

  /**
   * Check if the selected contact is pinned
   */
  isPinned(): boolean {
    const contact &#x3D; this.getSelectedContact();
    return contact?.pinned || false;
  }

  /**
   * Toggle pin status for the selected contact
   */
  togglePin(): void {
    if (this.selectedContactId) {
      this.contacts &#x3D; this.contacts.map(contact &#x3D;&gt; {
        if (contact.id &#x3D;&#x3D;&#x3D; this.selectedContactId) {
          return {
            ...contact,
            pinned: !contact.pinned,
          };
        }
        return contact;
      });

      this.filterContacts();

      // In a real app, you would save this to the server
      this.notificationService.success(
        this.isPinned() ? &#x27;Conversation pinned to the top&#x27; : &#x27;Conversation unpinned&#x27;
      );
    }
  }

  /**
   * Block a contact
   */
  blockContact(): void {
    if (this.selectedContactId) {
      // In a real app, you would call an API to block the contact
      this.notificationService.success(&#x27;Contact blocked&#x27;);

      // Remove from contacts list
      this.contacts &#x3D; this.contacts.filter(contact &#x3D;&gt; contact.id !&#x3D;&#x3D; this.selectedContactId);

      this.filterContacts();
      this.deselectContact();
    }
  }

  /**
   * Clear conversation history
   */
  clearConversation(): void {
    if (this.selectedContactId) {
      // In a real app, you would call an API to clear the conversation
      this.messages &#x3D; [];
      this.messageGroups &#x3D; [];
      this.galleryImages &#x3D; [];
      this.galleryFiles &#x3D; [];
      this.galleryLinks &#x3D; [];

      this.notificationService.success(&#x27;Conversation cleared&#x27;);
    }
  }

  /**
   * Mark a message as read
   */
  markAsRead(messageId: string): void {
    this.chatService.markAsRead(messageId).subscribe({
      next: () &#x3D;&gt; {
        // Update the message in our local array
        this.messages &#x3D; this.messages.map(msg &#x3D;&gt;
          msg._id &#x3D;&#x3D;&#x3D; messageId ? { ...msg, read: true } : msg
        );

        // Update message groups
        this.groupMessagesByDate();
      },
      error: err &#x3D;&gt; console.error(&#x27;Error marking message as read:&#x27;, err),
    });
  }

  /**
   * Mark all messages from the selected contact as read
   */
  markContactMessagesAsRead(): void {
    if (this.selectedContactId) {
      const unreadMessages &#x3D; this.messages.filter(
        msg &#x3D;&gt; msg.sender.id &#x3D;&#x3D;&#x3D; this.selectedContactId &amp;&amp; !msg.read
      );

      unreadMessages.forEach(msg &#x3D;&gt; {
        this.markAsRead(msg._id);
      });

      this.resetUnreadCount(this.selectedContactId);
    }
  }

  /**
   * Mark all messages as read
   */
  markAllAsRead(): void {
    this.contacts.forEach(contact &#x3D;&gt; {
      this.resetUnreadCount(contact.id);
    });

    this.notificationService.success(&#x27;All messages marked as read&#x27;);
  }

  /**
   * Archive all chats
   */
  archiveAllChats(): void {
    this.contacts &#x3D; this.contacts.map(contact &#x3D;&gt; ({
      ...contact,
      archived: true,
    }));

    this.filterContacts();
    this.notificationService.success(&#x27;All conversations archived&#x27;);
  }

  /**
   * Update the last message for a contact
   */
  updateContactLastMessage(contactId: string, message: string): void {
    this.contacts &#x3D; this.contacts.map(contact &#x3D;&gt; {
      if (contact.id &#x3D;&#x3D;&#x3D; contactId) {
        return {
          ...contact,
          lastMessage: message,
          lastMessageTime: new Date(),
        };
      }
      return contact;
    });

    this.filterContacts();
  }

  /**
   * Increment the unread count for a contact
   */
  incrementUnreadCount(contactId: string): void {
    if (contactId !&#x3D;&#x3D; this.selectedContactId) {
      this.contacts &#x3D; this.contacts.map(contact &#x3D;&gt; {
        if (contact.id &#x3D;&#x3D;&#x3D; contactId) {
          return {
            ...contact,
            unreadCount: contact.unreadCount + 1,
          };
        }
        return contact;
      });

      this.filterContacts();
    }
  }

  /**
   * Reset the unread count for a contact
   */
  resetUnreadCount(contactId: string): void {
    this.contacts &#x3D; this.contacts.map(contact &#x3D;&gt; {
      if (contact.id &#x3D;&#x3D;&#x3D; contactId) {
        return {
          ...contact,
          unreadCount: 0,
        };
      }
      return contact;
    });

    this.filterContacts();
  }

  /**
   * Filter contacts based on search term and current filter
   */
  filterContacts(): void {
    let filtered &#x3D; [...this.contacts];

    // Apply search filter
    if (this.searchTerm) {
      const search &#x3D; this.searchTerm.toLowerCase();
      filtered &#x3D; filtered.filter(
        contact &#x3D;&gt;
          contact.name.toLowerCase().includes(search) ||
          contact.lastMessage.toLowerCase().includes(search)
      );
    }

    // Apply current filter
    if (this.currentFilter &#x3D;&#x3D;&#x3D; &#x27;unread&#x27;) {
      filtered &#x3D; filtered.filter(contact &#x3D;&gt; contact.unreadCount &gt; 0);
    } else if (this.currentFilter &#x3D;&#x3D;&#x3D; &#x27;archived&#x27;) {
      filtered &#x3D; filtered.filter(contact &#x3D;&gt; contact.archived);
    } else if (this.currentFilter &#x3D;&#x3D;&#x3D; &#x27;all&#x27;) {
      filtered &#x3D; filtered.filter(contact &#x3D;&gt; !contact.archived);
    }

    // Sort: pinned first, then by last message time
    filtered.sort((a, b) &#x3D;&gt; {
      if (a.pinned &amp;&amp; !b.pinned) return -1;
      if (!a.pinned &amp;&amp; b.pinned) return 1;
      return b.lastMessageTime.getTime() - a.lastMessageTime.getTime();
    });

    this.filteredContacts &#x3D; filtered;
  }

  /**
   * Filter conversations by type
   */
  filterConversations(filter: &#x27;all&#x27; | &#x27;unread&#x27; | &#x27;archived&#x27;): void {
    this.currentFilter &#x3D; filter;
    this.filterContacts();
  }

  /**
   * Toggle notifications for the chat
   */
  toggleNotifications(): void {
    this.notificationsEnabled &#x3D; !this.notificationsEnabled;
    this.notificationService.info(
      this.notificationsEnabled ? &#x27;Notifications enabled&#x27; : &#x27;Notifications muted&#x27;
    );
  }

  /**
   * Format message content with links and emojis
   */
  formatMessageContent(content: string): string {
    // Convert URLs to links
    const urlRegex &#x3D; /(https?:\/\/[^\s]+)/g;
    let formattedContent &#x3D; content.replace(urlRegex, &#x27;&lt;a href&#x3D;&quot;$1&quot; target&#x3D;&quot;_blank&quot;&gt;$1&lt;/a&gt;&#x27;);

    // Escape HTML except for the links we just added
    formattedContent &#x3D; formattedContent
      .replace(/&amp;/g, &#x27;&amp;amp;&#x27;)
      .replace(/&lt;/g, &#x27;&amp;lt;&#x27;)
      .replace(/&gt;/g, &#x27;&amp;gt;&#x27;)
      .replace(
        /&amp;lt;a href&#x3D;&quot;(.*?)&quot; target&#x3D;&quot;_blank&quot;&amp;gt;(.*?)&amp;lt;\/a&amp;gt;/g,
        &#x27;&lt;a href&#x3D;&quot;$1&quot; target&#x3D;&quot;_blank&quot;&gt;$2&lt;/a&gt;&#x27;
      );

    return formattedContent;
  }

  /**
   * Check if an attachment is an image
   */
  isImageAttachment(attachment: Attachment): boolean {
    return attachment.type.startsWith(&#x27;image/&#x27;);
  }

  /**
   * Get the appropriate icon for a file type
   */
  getFileIcon(file: Attachment): string {
    const type &#x3D; file.type.toLowerCase();

    if (type.includes(&#x27;pdf&#x27;)) return &#x27;picture_as_pdf&#x27;;
    if (type.includes(&#x27;word&#x27;) || type.includes(&#x27;document&#x27;)) return &#x27;description&#x27;;
    if (type.includes(&#x27;excel&#x27;) || type.includes(&#x27;sheet&#x27;)) return &#x27;table_chart&#x27;;
    if (type.includes(&#x27;powerpoint&#x27;) || type.includes(&#x27;presentation&#x27;)) return &#x27;slideshow&#x27;;
    if (type.includes(&#x27;zip&#x27;) || type.includes(&#x27;rar&#x27;) || type.includes(&#x27;tar&#x27;)) return &#x27;archive&#x27;;
    if (type.includes(&#x27;audio&#x27;)) return &#x27;audio_file&#x27;;
    if (type.includes(&#x27;video&#x27;)) return &#x27;video_file&#x27;;

    return &#x27;insert_drive_file&#x27;;
  }

  /**
   * Format file size for display
   */
  formatFileSize(bytes: number): string {
    if (bytes &#x3D;&#x3D;&#x3D; 0) return &#x27;0 Bytes&#x27;;

    const k &#x3D; 1024;
    const sizes &#x3D; [&#x27;Bytes&#x27;, &#x27;KB&#x27;, &#x27;MB&#x27;, &#x27;GB&#x27;];
    const i &#x3D; Math.floor(Math.log(bytes) / Math.log(k));

    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + &#x27; &#x27; + sizes[i];
  }

  /**
   * Reply to a message
   */
  replyToMessage(message: ChatMessage): void {
    this.replyingTo &#x3D; message;

    // Focus on the message input
    setTimeout(() &#x3D;&gt; {
      if (this.messageInput) {
        this.messageInput.nativeElement.focus();
      }
    }, 0);
  }

  /**
   * Cancel replying to a message
   */
  cancelReply(): void {
    this.replyingTo &#x3D; null;
  }

  /**
   * Forward a message to another contact
   */
  forwardMessage(message: ChatMessage): void {
    // Open new message dialog
    const dialogRef &#x3D; this.dialog.open(this.newMessageDialog);

    // Store the message to forward
    const messageToForward &#x3D; message;

    // When a contact is selected, forward the message
    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result) {
        // In a real app, you would call an API to forward the message
        this.notificationService.success(&#x27;Message forwarded&#x27;);
      }
    });
  }

  /**
   * Copy a message to clipboard
   */
  copyMessage(message: ChatMessage): void {
    navigator.clipboard
      .writeText(message.message)
      .then(() &#x3D;&gt; {
        this.notificationService.success(&#x27;Message copied to clipboard&#x27;);
      })
      .catch(err &#x3D;&gt; {
        console.error(&#x27;Error copying message:&#x27;, err);
        this.notificationService.error(&#x27;Failed to copy message&#x27;);
      });
  }

  /**
   * Delete a message
   */
  deleteMessage(message: ChatMessage): void {
    // In a real app, you would call an API to delete the message
    this.messages &#x3D; this.messages.filter(msg &#x3D;&gt; msg._id !&#x3D;&#x3D; message._id);
    this.groupMessagesByDate();
    this.extractMediaFromMessages();

    this.notificationService.success(&#x27;Message deleted&#x27;);
  }

  /**
   * Truncate a message for display in the reply preview
   */
  truncateMessage(message: string, maxLength &#x3D; 50): string {
    if (message.length &lt;&#x3D; maxLength) return message;
    return message.substring(0, maxLength) + &#x27;...&#x27;;
  }

  /**
   * Scroll to the bottom of the message list
   */
  scrollToBottom(): void {
    if (this.messageList) {
      const element &#x3D; this.messageList.nativeElement;
      element.scrollTop &#x3D; element.scrollHeight;
    }
  }

  /**
   * Toggle the emoji picker
   */
  toggleEmojiPicker(): void {
    this.showEmojiPicker &#x3D; !this.showEmojiPicker;
  }

  /**
   * Select an emoji category
   */
  selectEmojiCategory(category: EmojiCategory): void {
    this.currentCategoryEmojis &#x3D; category.emojis;
  }

  /**
   * Add an emoji to the message input
   */
  addEmoji(emoji: string): void {
    this.newMessage +&#x3D; emoji;

    // Focus back on the input
    if (this.messageInput) {
      this.messageInput.nativeElement.focus();
    }
  }

  /**
   * Open the attachment menu
   */
  openAttachmentMenu(): void {
    // In a real app, you would open a file picker or menu
    // For now, we&#x27;ll just show a notification
    this.notificationService.info(&#x27;Attachment feature coming soon&#x27;);

    // When implementing file uploads, make sure to handle temporary messages:
    // 1. Check if temporaryMessageMode is enabled
    // 2. If enabled, use the temporaryMessageTTL value for the attachment TTL
    // 3. Use chatService.convertHoursToMilliseconds(this.temporaryMessageTTL) to convert to milliseconds
    // 4. Pass the TTL to the chatService.sendMessageWithAttachments method
  }

  /**
   * Open the new message dialog
   */
  openNewMessageDialog(): void {
    this.newMessageSearch &#x3D; &#x27;&#x27;;
    this.filteredNewMessageContacts &#x3D; [...this.contacts];

    const dialogRef &#x3D; this.dialog.open(this.newMessageDialog);

    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result) {
        // Handle result if needed
      }
    });
  }

  /**
   * Select a contact from the new message dialog
   */
  selectNewMessageContact(contact: Contact): void {
    this.dialog.closeAll();
    this.selectContact(contact.id);
  }

  /**
   * Open image preview dialog
   */
  openImagePreview(image: Attachment): void {
    this.previewImage &#x3D; image;

    this.dialog.open(this.imagePreviewDialog, {
      maxWidth: &#x27;90vw&#x27;,
      maxHeight: &#x27;90vh&#x27;,
      panelClass: &#x27;image-preview-dialog&#x27;,
    });
  }

  /**
   * Download an image from the preview
   */
  downloadImage(): void {
    if (this.previewImage) {
      this.downloadAttachment(this.previewImage);
    }
  }

  /**
   * Share an image from the preview
   */
  shareImage(): void {
    if (this.previewImage &amp;&amp; navigator.share) {
      navigator
        .share({
          title: this.previewImage.name,
          url: this.previewImage.url,
        })
        .catch(err &#x3D;&gt; {
          console.error(&#x27;Error sharing image:&#x27;, err);
        });
    } else {
      this.notificationService.info(&#x27;Sharing not supported on this device&#x27;);
    }
  }

  /**
   * Download an attachment
   */
  downloadAttachment(attachment: Attachment): void {
    // Create a link element and trigger download
    const link &#x3D; document.createElement(&#x27;a&#x27;);
    link.href &#x3D; attachment.url;
    link.download &#x3D; attachment.name;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }

  /**
   * Open the search in chat dialog
   */
  openSearchInChat(): void {
    this.chatSearchQuery &#x3D; &#x27;&#x27;;
    this.chatSearchResults &#x3D; [];

    this.dialog.open(this.searchInChatDialog);
  }

  /**
   * Highlight search text in results
   */
  highlightSearchText(text: string): string {
    if (!this.chatSearchQuery) return text;

    const regex &#x3D; new RegExp(&#x60;(${this.chatSearchQuery})&#x60;, &#x27;gi&#x27;);
    return text.replace(regex, &#x27;&lt;mark&gt;$1&lt;/mark&gt;&#x27;);
  }

  /**
   * Scroll to a specific message
   */
  scrollToMessage(message: ChatMessage): void {
    this.dialog.closeAll();

    // Find the message element and scroll to it
    setTimeout(() &#x3D;&gt; {
      const messageId &#x3D; message._id;
      const messageElement &#x3D; document.getElementById(&#x60;message-${messageId}&#x60;);

      if (messageElement) {
        messageElement.scrollIntoView({ behavior: &#x27;smooth&#x27;, block: &#x27;center&#x27; });
        messageElement.classList.add(&#x27;highlight&#x27;);

        // Remove highlight after animation
        setTimeout(() &#x3D;&gt; {
          messageElement.classList.remove(&#x27;highlight&#x27;);
        }, 2000);
      }
    }, 100);
  }

  /**
   * Open the media gallery dialog
   */
  openMediaGallery(): void {
    this.galleryTab &#x3D; &#x27;images&#x27;;

    this.dialog.open(this.mediaGalleryDialog, {
      width: &#x27;80vw&#x27;,
      maxWidth: &#x27;800px&#x27;,
      maxHeight: &#x27;80vh&#x27;,
    });
  }

  /**
   * Open a link in a new tab
   */
  openLink(url: string): void {
    window.open(url, &#x27;_blank&#x27;);
  }

  /**
   * View the selected contact&#x27;s profile
   */
  viewContactProfile(): void {
    if (this.selectedContactId) {
      // In a real app, you would navigate to the contact&#x27;s profile
      this.notificationService.info(&#x27;Profile view coming soon&#x27;);
    }
  }

  /**
   * Get a random profile image for demo purposes
   */
  private getRandomProfileImage(): string {
    const images &#x3D; [
      &#x27;/assets/img/profile1.jpg&#x27;,
      &#x27;/assets/img/profile2.jpg&#x27;,
      &#x27;/assets/img/profile3.jpg&#x27;,
      &#x27;/assets/img/profile4.jpg&#x27;,
      &#x27;/assets/img/default-profile.jpg&#x27;,
    ];

    return images[Math.floor(Math.random() * images.length)];
  }

  /**
   * Create dummy messages for demo purposes
   */
  private createDummyMessages(contact: Contact): void {
    const now &#x3D; new Date();
    const yesterday &#x3D; new Date(now);
    yesterday.setDate(yesterday.getDate() - 1);

    // Create messages from different days for testing date separators
    this.messages &#x3D; [
      // Yesterday
      {
        _id: &#x27;1&#x27;,
        sender: {
          id: contact.id,
          username: contact.name,
        },
        message: &#x27;Hey there! How are you?&#x27;,
        timestamp: new Date(yesterday.setHours(10, 30)),
        read: true,
      },
      {
        _id: &#x27;2&#x27;,
        sender: {
          id: this.currentUserId,
          username: &#x27;You&#x27;,
        },
        message: &quot;I&#x27;m doing great! How about you?&quot;,
        timestamp: new Date(yesterday.setHours(10, 35)),
        read: true,
      },
      {
        _id: &#x27;3&#x27;,
        sender: {
          id: contact.id,
          username: contact.name,
        },
        message: &#x27;Pretty good, thanks for asking! What are you up to this weekend?&#x27;,
        timestamp: new Date(yesterday.setHours(10, 40)),
        read: true,
      },

      // Today
      {
        _id: &#x27;4&#x27;,
        sender: {
          id: this.currentUserId,
          username: &#x27;You&#x27;,
        },
        message: &quot;I&#x27;m planning to go hiking, weather permitting. Want to join?&quot;,
        timestamp: new Date(now.setHours(9, 15)),
        read: true,
      },
      {
        _id: &#x27;5&#x27;,
        sender: {
          id: contact.id,
          username: contact.name,
        },
        message: &#x27;That sounds fun! Where are you thinking of going?&#x27;,
        timestamp: new Date(now.setHours(9, 20)),
        read: true,
      },
      {
        _id: &#x27;6&#x27;,
        sender: {
          id: this.currentUserId,
          username: &#x27;You&#x27;,
        },
        message:
          &quot;I was thinking of trying the new trail at Mount Rainier. It&#x27;s supposed to have amazing views!&quot;,
        timestamp: new Date(now.setHours(9, 25)),
        read: true,
      },
      {
        _id: &#x27;7&#x27;,
        sender: {
          id: contact.id,
          username: contact.name,
        },
        message: &#x27;Check out this photo from my last hike there:&#x27;,
        timestamp: new Date(now.setHours(9, 30)),
        read: true,
        attachments: [
          {
            id: &#x27;img1&#x27;,
            name: &#x27;mountain.jpg&#x27;,
            type: &#x27;image/jpeg&#x27;,
            size: 1024 * 1024 * 2.5, // 2.5MB
            url: &#x27;https://images.unsplash.com/photo-1464822759023-fed622ff2c3b&#x27;,
            timestamp: new Date(now.setHours(9, 30)),
          },
        ],
      },
      {
        _id: &#x27;8&#x27;,
        sender: {
          id: this.currentUserId,
          username: &#x27;You&#x27;,
        },
        message: &#x27;Wow, that looks amazing! 😍&#x27;,
        timestamp: new Date(now.setHours(9, 32)),
        read: true,
      },
      {
        _id: &#x27;9&#x27;,
        sender: {
          id: contact.id,
          username: contact.name,
        },
        message:
          &quot;Here&#x27;s the trail map I used: https://www.alltrails.com/trail/us/washington/mount-rainier&quot;,
        timestamp: new Date(now.setHours(9, 35)),
        read: true,
      },
      {
        _id: &#x27;10&#x27;,
        sender: {
          id: contact.id,
          username: contact.name,
        },
        message: &#x27;And I also have the PDF guide if you want it:&#x27;,
        timestamp: new Date(now.setHours(9, 36)),
        read: true,
        attachments: [
          {
            id: &#x27;file1&#x27;,
            name: &#x27;Rainier_Trail_Guide.pdf&#x27;,
            type: &#x27;application/pdf&#x27;,
            size: 1024 * 1024 * 1.2, // 1.2MB
            url: &#x27;#&#x27;,
            timestamp: new Date(now.setHours(9, 36)),
          },
        ],
      },
      {
        _id: &#x27;11&#x27;,
        sender: {
          id: this.currentUserId,
          username: &#x27;You&#x27;,
        },
        message:
          &quot;Thanks! This is super helpful. I&#x27;ll check it out and let you know if I have any questions.&quot;,
        timestamp: new Date(now.setHours(9, 40)),
        read: true,
      },
      {
        _id: &#x27;12&#x27;,
        sender: {
          id: contact.id,
          username: contact.name,
        },
        message: contact.lastMessage,
        timestamp: contact.lastMessageTime,
        read: contact.unreadCount &#x3D;&#x3D;&#x3D; 0,
      },
    ];
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;chat-container&quot;&gt;
  &lt;!-- Left Sidebar with Conversation List --&gt;
  &lt;div class&#x3D;&quot;chat-sidebar&quot;&gt;
    &lt;div class&#x3D;&quot;chat-header&quot;&gt;
      &lt;h2&gt;Messages&lt;/h2&gt;
      &lt;div class&#x3D;&quot;chat-header-actions&quot;&gt;
        &lt;button mat-icon-button matTooltip&#x3D;&quot;New Message&quot; (click)&#x3D;&quot;openNewMessageDialog()&quot;&gt;
          &lt;mat-icon&gt;add&lt;/mat-icon&gt;
        &lt;/button&gt;
        &lt;button mat-icon-button matTooltip&#x3D;&quot;Settings&quot; [matMenuTriggerFor]&#x3D;&quot;settingsMenu&quot;&gt;
          &lt;mat-icon&gt;more_vert&lt;/mat-icon&gt;
        &lt;/button&gt;
        &lt;mat-menu #settingsMenu&#x3D;&quot;matMenu&quot;&gt;
          &lt;button mat-menu-item (click)&#x3D;&quot;toggleNotifications()&quot;&gt;
            &lt;mat-icon&gt;{{ notificationsEnabled ? &#x27;notifications&#x27; : &#x27;notifications_off&#x27; }}&lt;/mat-icon&gt;
            &lt;span&gt;{{ notificationsEnabled ? &#x27;Mute Notifications&#x27; : &#x27;Enable Notifications&#x27; }}&lt;/span&gt;
          &lt;/button&gt;
          &lt;button mat-menu-item (click)&#x3D;&quot;markAllAsRead()&quot;&gt;
            &lt;mat-icon&gt;done_all&lt;/mat-icon&gt;
            &lt;span&gt;Mark All as Read&lt;/span&gt;
          &lt;/button&gt;
          &lt;button mat-menu-item (click)&#x3D;&quot;archiveAllChats()&quot;&gt;
            &lt;mat-icon&gt;archive&lt;/mat-icon&gt;
            &lt;span&gt;Archive All&lt;/span&gt;
          &lt;/button&gt;
        &lt;/mat-menu&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;chat-search&quot;&gt;
      &lt;mat-form-field appearance&#x3D;&quot;outline&quot; class&#x3D;&quot;search-field&quot;&gt;
        &lt;mat-icon matPrefix&gt;search&lt;/mat-icon&gt;
        &lt;input matInput placeholder&#x3D;&quot;Search conversations...&quot; [(ngModel)]&#x3D;&quot;searchTerm&quot; /&gt;
        &lt;button
          *ngIf&#x3D;&quot;searchTerm&quot;
          matSuffix
          mat-icon-button
          aria-label&#x3D;&quot;Clear&quot;
          (click)&#x3D;&quot;searchTerm &#x3D; &#x27;&#x27;&quot;
        &gt;
          &lt;mat-icon&gt;close&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/mat-form-field&gt;

      &lt;!-- Conversation Filters --&gt;
      &lt;div class&#x3D;&quot;conversation-filters&quot;&gt;
        &lt;button
          mat-button
          [class.active]&#x3D;&quot;currentFilter &#x3D;&#x3D;&#x3D; &#x27;all&#x27;&quot;
          (click)&#x3D;&quot;filterConversations(&#x27;all&#x27;)&quot;
        &gt;
          All
        &lt;/button&gt;
        &lt;button
          mat-button
          [class.active]&#x3D;&quot;currentFilter &#x3D;&#x3D;&#x3D; &#x27;unread&#x27;&quot;
          (click)&#x3D;&quot;filterConversations(&#x27;unread&#x27;)&quot;
        &gt;
          Unread
        &lt;/button&gt;
        &lt;button
          mat-button
          [class.active]&#x3D;&quot;currentFilter &#x3D;&#x3D;&#x3D; &#x27;archived&#x27;&quot;
          (click)&#x3D;&quot;filterConversations(&#x27;archived&#x27;)&quot;
        &gt;
          Archived
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class&#x3D;&quot;chat-contacts&quot;&gt;
      &lt;!-- Loading State --&gt;
      &lt;div *ngIf&#x3D;&quot;loadingContacts&quot; class&#x3D;&quot;contacts-loading&quot;&gt;
        &lt;emerald-skeleton-loader
          type&#x3D;&quot;list&quot;
          [count]&#x3D;&quot;3&quot;
          [animated]&#x3D;&quot;true&quot;
        &gt;&lt;/emerald-skeleton-loader&gt;
      &lt;/div&gt;

      &lt;!-- Contact List --&gt;
      &lt;div
        *ngFor&#x3D;&quot;let contact of filteredContacts&quot;
        class&#x3D;&quot;contact-item&quot;
        [class.active]&#x3D;&quot;selectedContactId &#x3D;&#x3D;&#x3D; contact.id&quot;
        [class.unread]&#x3D;&quot;contact.unreadCount &gt; 0&quot;
        (click)&#x3D;&quot;selectContact(contact.id)&quot;
      &gt;
        &lt;emerald-avatar
          [imageUrl]&#x3D;&quot;contact.imageUrl&quot;
          [name]&#x3D;&quot;contact.name&quot;
          [isOnline]&#x3D;&quot;contact.online&quot;
          size&#x3D;&quot;medium&quot;
        &gt;
        &lt;/emerald-avatar&gt;

        &lt;div class&#x3D;&quot;contact-info&quot;&gt;
          &lt;div class&#x3D;&quot;contact-name-row&quot;&gt;
            &lt;div class&#x3D;&quot;contact-name&quot;&gt;{{ contact.name }}&lt;/div&gt;
            &lt;div class&#x3D;&quot;contact-time&quot;&gt;{{ contact.lastMessageTime | date: &#x27;shortTime&#x27; }}&lt;/div&gt;
          &lt;/div&gt;
          &lt;div class&#x3D;&quot;contact-preview-row&quot;&gt;
            &lt;div class&#x3D;&quot;contact-preview&quot;&gt;
              &lt;span *ngIf&#x3D;&quot;contact.typing&quot; class&#x3D;&quot;typing-indicator&quot;&gt;typing...&lt;/span&gt;
              &lt;span *ngIf&#x3D;&quot;!contact.typing&quot;&gt;{{ contact.lastMessage }}&lt;/span&gt;
            &lt;/div&gt;
            &lt;div class&#x3D;&quot;contact-badges&quot;&gt;
              &lt;div class&#x3D;&quot;unread-badge&quot; *ngIf&#x3D;&quot;contact.unreadCount&quot;&gt;{{ contact.unreadCount }}&lt;/div&gt;
              &lt;mat-icon *ngIf&#x3D;&quot;contact.pinned&quot; class&#x3D;&quot;pin-icon&quot;&gt;push_pin&lt;/mat-icon&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;!-- Empty State --&gt;
      &lt;div *ngIf&#x3D;&quot;filteredContacts.length &#x3D;&#x3D;&#x3D; 0 &amp;&amp; !loadingContacts&quot; class&#x3D;&quot;empty-contacts&quot;&gt;
        &lt;mat-icon&gt;forum&lt;/mat-icon&gt;
        &lt;p&gt;No conversations found&lt;/p&gt;
        &lt;button mat-stroked-button color&#x3D;&quot;primary&quot; (click)&#x3D;&quot;openNewMessageDialog()&quot;&gt;
          &lt;mat-icon&gt;add&lt;/mat-icon&gt;
          Start a new chat
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- Main Chat Area --&gt;
  &lt;div class&#x3D;&quot;chat-main&quot;&gt;
    &lt;!-- Active Conversation --&gt;
    &lt;div *ngIf&#x3D;&quot;selectedContactId&quot; class&#x3D;&quot;chat-conversation&quot;&gt;
      &lt;!-- Conversation Header --&gt;
      &lt;div class&#x3D;&quot;chat-main-header&quot;&gt;
        &lt;div class&#x3D;&quot;header-left&quot;&gt;
          &lt;button
            mat-icon-button
            class&#x3D;&quot;back-button&quot;
            (click)&#x3D;&quot;deselectContact()&quot;
            matTooltip&#x3D;&quot;Back to conversations&quot;
          &gt;
            &lt;mat-icon&gt;arrow_back&lt;/mat-icon&gt;
          &lt;/button&gt;

          &lt;emerald-avatar
            [imageUrl]&#x3D;&quot;getSelectedContact()?.imageUrl&quot;
            [name]&#x3D;&quot;getSelectedContact()?.name&quot;
            [isOnline]&#x3D;&quot;getSelectedContact()?.online&quot;
            size&#x3D;&quot;medium&quot;
            (avatarClick)&#x3D;&quot;viewContactProfile()&quot;
          &gt;
          &lt;/emerald-avatar&gt;

          &lt;div class&#x3D;&quot;chat-recipient&quot;&gt;
            &lt;div class&#x3D;&quot;recipient-name&quot;&gt;{{ getSelectedContact()?.name }}&lt;/div&gt;
            &lt;div class&#x3D;&quot;recipient-status&quot; [class.online]&#x3D;&quot;getSelectedContact()?.online&quot;&gt;
              {{
                getSelectedContact()?.online
                  ? &#x27;Online&#x27;
                  : &#x27;Last seen &#x27; + (getSelectedContact()?.lastSeen | date: &#x27;shortTime&#x27;)
              }}
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class&#x3D;&quot;header-actions&quot;&gt;
          &lt;button mat-icon-button matTooltip&#x3D;&quot;Media Gallery&quot; (click)&#x3D;&quot;openMediaGallery()&quot;&gt;
            &lt;mat-icon&gt;photo_library&lt;/mat-icon&gt;
          &lt;/button&gt;
          &lt;button mat-icon-button matTooltip&#x3D;&quot;Search in Conversation&quot; (click)&#x3D;&quot;openSearchInChat()&quot;&gt;
            &lt;mat-icon&gt;search&lt;/mat-icon&gt;
          &lt;/button&gt;
          &lt;button mat-icon-button [matMenuTriggerFor]&#x3D;&quot;chatMenu&quot; matTooltip&#x3D;&quot;More Options&quot;&gt;
            &lt;mat-icon&gt;more_vert&lt;/mat-icon&gt;
          &lt;/button&gt;
          &lt;mat-menu #chatMenu&#x3D;&quot;matMenu&quot;&gt;
            &lt;button mat-menu-item (click)&#x3D;&quot;togglePin()&quot;&gt;
              &lt;mat-icon&gt;{{ isPinned() ? &#x27;push_pin&#x27; : &#x27;push_pin&#x27; }}&lt;/mat-icon&gt;
              &lt;span&gt;{{ isPinned() ? &#x27;Unpin Conversation&#x27; : &#x27;Pin Conversation&#x27; }}&lt;/span&gt;
            &lt;/button&gt;
            &lt;button mat-menu-item [matMenuTriggerFor]&#x3D;&quot;autoDeletionMenu&quot;&gt;
              &lt;mat-icon&gt;auto_delete&lt;/mat-icon&gt;
              &lt;span&gt;Message Auto-Deletion&lt;/span&gt;
            &lt;/button&gt;
            &lt;button mat-menu-item (click)&#x3D;&quot;blockContact()&quot;&gt;
              &lt;mat-icon&gt;block&lt;/mat-icon&gt;
              &lt;span&gt;Block Contact&lt;/span&gt;
            &lt;/button&gt;
            &lt;button mat-menu-item (click)&#x3D;&quot;clearConversation()&quot;&gt;
              &lt;mat-icon&gt;delete_sweep&lt;/mat-icon&gt;
              &lt;span&gt;Clear Conversation&lt;/span&gt;
            &lt;/button&gt;
          &lt;/mat-menu&gt;

          &lt;!-- Auto-Deletion Submenu --&gt;
          &lt;mat-menu #autoDeletionMenu&#x3D;&quot;matMenu&quot;&gt;
            &lt;button mat-menu-item (click)&#x3D;&quot;configureMessageAutoDeletion(true, 1)&quot;&gt;
              &lt;mat-icon&gt;timer&lt;/mat-icon&gt;
              &lt;span&gt;Delete after 1 day&lt;/span&gt;
            &lt;/button&gt;
            &lt;button mat-menu-item (click)&#x3D;&quot;configureMessageAutoDeletion(true, 7)&quot;&gt;
              &lt;mat-icon&gt;timer&lt;/mat-icon&gt;
              &lt;span&gt;Delete after 7 days&lt;/span&gt;
            &lt;/button&gt;
            &lt;button mat-menu-item (click)&#x3D;&quot;configureMessageAutoDeletion(true, 30)&quot;&gt;
              &lt;mat-icon&gt;timer&lt;/mat-icon&gt;
              &lt;span&gt;Delete after 30 days&lt;/span&gt;
            &lt;/button&gt;
            &lt;button mat-menu-item (click)&#x3D;&quot;configureMessageAutoDeletion(false, 0)&quot;&gt;
              &lt;mat-icon&gt;timer_off&lt;/mat-icon&gt;
              &lt;span&gt;Disable auto-deletion&lt;/span&gt;
            &lt;/button&gt;
          &lt;/mat-menu&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;!-- Message List --&gt;
      &lt;div class&#x3D;&quot;message-list&quot; #messageList&gt;
        &lt;!-- Date Separator --&gt;
        &lt;div *ngFor&#x3D;&quot;let group of messageGroups&quot; class&#x3D;&quot;message-group&quot;&gt;
          &lt;div class&#x3D;&quot;date-separator&quot;&gt;
            &lt;span&gt;{{ group.date | date: &#x27;mediumDate&#x27; }}&lt;/span&gt;
          &lt;/div&gt;

          &lt;!-- Messages --&gt;
          &lt;div
            *ngFor&#x3D;&quot;let message of group.messages&quot;
            class&#x3D;&quot;message&quot;
            [class.sent]&#x3D;&quot;message.sender.id &#x3D;&#x3D;&#x3D; currentUserId&quot;
            [class.received]&#x3D;&quot;message.sender.id !&#x3D;&#x3D; currentUserId&quot;
          &gt;
            &lt;!-- Sender Avatar (only for received messages) --&gt;
            &lt;emerald-avatar
              *ngIf&#x3D;&quot;message.sender.id !&#x3D;&#x3D; currentUserId&quot;
              [imageUrl]&#x3D;&quot;getContactById(message.sender.id)?.imageUrl&quot;
              [name]&#x3D;&quot;message.sender.username&quot;
              size&#x3D;&quot;small&quot;
              class&#x3D;&quot;message-avatar&quot;
            &gt;
            &lt;/emerald-avatar&gt;

            &lt;!-- Message Content --&gt;
            &lt;div
              class&#x3D;&quot;message-bubble&quot;
              [class.temporary-message]&#x3D;&quot;message.expiresAt&quot;
              [class.about-to-expire]&#x3D;&quot;message.expiresAt &amp;&amp; isAboutToExpire(message.expiresAt)&quot;
            &gt;
              &lt;!-- Temporary Message Indicator --&gt;
              &lt;div
                *ngIf&#x3D;&quot;message.expiresAt&quot;
                class&#x3D;&quot;temporary-message-indicator&quot;
                [matTooltip]&#x3D;&quot;getRemainingTime(message.expiresAt)&quot;
              &gt;
                &lt;mat-icon&gt;timer&lt;/mat-icon&gt;
              &lt;/div&gt;

              &lt;!-- Message Text --&gt;
              &lt;div
                class&#x3D;&quot;message-content&quot;
                [innerHTML]&#x3D;&quot;formatMessageContent(message.message)&quot;
              &gt;&lt;/div&gt;

              &lt;!-- Message Attachments --&gt;
              &lt;div
                *ngIf&#x3D;&quot;message.attachments &amp;&amp; message.attachments.length &gt; 0&quot;
                class&#x3D;&quot;message-attachments&quot;
              &gt;
                &lt;!-- Image Attachment --&gt;
                &lt;div *ngFor&#x3D;&quot;let attachment of message.attachments&quot; class&#x3D;&quot;attachment&quot;&gt;
                  &lt;img
                    *ngIf&#x3D;&quot;isImageAttachment(attachment)&quot;
                    [src]&#x3D;&quot;attachment.url&quot;
                    [alt]&#x3D;&quot;attachment.name&quot;
                    (click)&#x3D;&quot;openImagePreview(attachment)&quot;
                  /&gt;

                  &lt;!-- File Attachment --&gt;
                  &lt;div
                    *ngIf&#x3D;&quot;!isImageAttachment(attachment)&quot;
                    class&#x3D;&quot;file-attachment&quot;
                    (click)&#x3D;&quot;downloadAttachment(attachment)&quot;
                  &gt;
                    &lt;mat-icon&gt;{{ getFileIcon(attachment) }}&lt;/mat-icon&gt;
                    &lt;div class&#x3D;&quot;file-info&quot;&gt;
                      &lt;div class&#x3D;&quot;file-name&quot;&gt;{{ attachment.name }}&lt;/div&gt;
                      &lt;div class&#x3D;&quot;file-size&quot;&gt;{{ formatFileSize(attachment.size) }}&lt;/div&gt;
                    &lt;/div&gt;
                    &lt;button mat-icon-button&gt;
                      &lt;mat-icon&gt;download&lt;/mat-icon&gt;
                    &lt;/button&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;

              &lt;!-- Message Metadata --&gt;
              &lt;div class&#x3D;&quot;message-meta&quot;&gt;
                &lt;span class&#x3D;&quot;message-time&quot;&gt;{{ message.timestamp | date: &#x27;shortTime&#x27; }}&lt;/span&gt;
                &lt;!-- Expiry indicator for temporary messages --&gt;
                &lt;span
                  *ngIf&#x3D;&quot;message.expiresAt&quot;
                  class&#x3D;&quot;message-expiry&quot;
                  [matTooltip]&#x3D;&quot;getRemainingTime(message.expiresAt)&quot;
                &gt;
                  &lt;mat-icon class&#x3D;&quot;expiry-icon&quot;&gt;timer&lt;/mat-icon&gt;
                &lt;/span&gt;
                &lt;span
                  *ngIf&#x3D;&quot;message.sender.id &#x3D;&#x3D;&#x3D; currentUserId&quot;
                  class&#x3D;&quot;message-status&quot;
                  [class.read]&#x3D;&quot;message.read&quot;
                &gt;
                  &lt;mat-icon class&#x3D;&quot;status-icon&quot;&gt;{{ message.read ? &#x27;done_all&#x27; : &#x27;done&#x27; }}&lt;/mat-icon&gt;
                &lt;/span&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Message Actions --&gt;
            &lt;div class&#x3D;&quot;message-actions&quot;&gt;
              &lt;button mat-icon-button [matMenuTriggerFor]&#x3D;&quot;messageMenu&quot;&gt;
                &lt;mat-icon&gt;more_vert&lt;/mat-icon&gt;
              &lt;/button&gt;
              &lt;mat-menu #messageMenu&#x3D;&quot;matMenu&quot;&gt;
                &lt;button mat-menu-item (click)&#x3D;&quot;replyToMessage(message)&quot;&gt;
                  &lt;mat-icon&gt;reply&lt;/mat-icon&gt;
                  &lt;span&gt;Reply&lt;/span&gt;
                &lt;/button&gt;
                &lt;button mat-menu-item (click)&#x3D;&quot;forwardMessage(message)&quot;&gt;
                  &lt;mat-icon&gt;forward&lt;/mat-icon&gt;
                  &lt;span&gt;Forward&lt;/span&gt;
                &lt;/button&gt;
                &lt;button mat-menu-item (click)&#x3D;&quot;copyMessage(message)&quot;&gt;
                  &lt;mat-icon&gt;content_copy&lt;/mat-icon&gt;
                  &lt;span&gt;Copy&lt;/span&gt;
                &lt;/button&gt;
                &lt;button mat-menu-item (click)&#x3D;&quot;deleteMessage(message)&quot;&gt;
                  &lt;mat-icon&gt;delete&lt;/mat-icon&gt;
                  &lt;span&gt;Delete&lt;/span&gt;
                &lt;/button&gt;
              &lt;/mat-menu&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Typing Indicator --&gt;
        &lt;div *ngIf&#x3D;&quot;isContactTyping&quot; class&#x3D;&quot;typing-indicator-container&quot;&gt;
          &lt;emerald-avatar
            [imageUrl]&#x3D;&quot;getSelectedContact()?.imageUrl&quot;
            [name]&#x3D;&quot;getSelectedContact()?.name&quot;
            size&#x3D;&quot;small&quot;
          &gt;
          &lt;/emerald-avatar&gt;
          &lt;div class&#x3D;&quot;typing-bubble&quot;&gt;
            &lt;div class&#x3D;&quot;typing-dots&quot;&gt;
              &lt;span&gt;&lt;/span&gt;
              &lt;span&gt;&lt;/span&gt;
              &lt;span&gt;&lt;/span&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Empty State --&gt;
        &lt;div *ngIf&#x3D;&quot;messages.length &#x3D;&#x3D;&#x3D; 0&quot; class&#x3D;&quot;empty-messages&quot;&gt;
          &lt;mat-icon&gt;chat&lt;/mat-icon&gt;
          &lt;h3&gt;No messages yet&lt;/h3&gt;
          &lt;p&gt;Start the conversation by sending a message below!&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;!-- Reply Preview (if replying to a message) --&gt;
      &lt;div *ngIf&#x3D;&quot;replyingTo&quot; class&#x3D;&quot;reply-preview&quot;&gt;
        &lt;div class&#x3D;&quot;reply-content&quot;&gt;
          &lt;mat-icon&gt;reply&lt;/mat-icon&gt;
          &lt;div class&#x3D;&quot;reply-text&quot;&gt;
            &lt;div class&#x3D;&quot;reply-to&quot;&gt;Replying to {{ replyingTo.sender.username }}&lt;/div&gt;
            &lt;div class&#x3D;&quot;reply-message&quot;&gt;{{ truncateMessage(replyingTo.message) }}&lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;button mat-icon-button (click)&#x3D;&quot;cancelReply()&quot;&gt;
          &lt;mat-icon&gt;close&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/div&gt;

      &lt;!-- Message Input Area --&gt;
      &lt;div class&#x3D;&quot;message-input-container&quot;&gt;
        &lt;!-- Attachment Button --&gt;
        &lt;button
          mat-icon-button
          matTooltip&#x3D;&quot;Add Attachment&quot;
          (click)&#x3D;&quot;openAttachmentMenu()&quot;
          class&#x3D;&quot;attachment-button&quot;
        &gt;
          &lt;mat-icon&gt;attach_file&lt;/mat-icon&gt;
        &lt;/button&gt;

        &lt;!-- Temporary Message Button --&gt;
        &lt;button
          mat-icon-button
          [matTooltip]&#x3D;&quot;
            temporaryMessageMode ? &#x27;Temporary message mode enabled&#x27; : &#x27;Send temporary message&#x27;
          &quot;
          (click)&#x3D;&quot;toggleTemporaryMessageMode()&quot;
          class&#x3D;&quot;temp-message-button&quot;
          [class.active]&#x3D;&quot;temporaryMessageMode&quot;
        &gt;
          &lt;mat-icon&gt;timer&lt;/mat-icon&gt;
        &lt;/button&gt;

        &lt;!-- Text Input --&gt;
        &lt;div class&#x3D;&quot;message-input&quot; [class.temp-message-mode]&#x3D;&quot;temporaryMessageMode&quot;&gt;
          &lt;textarea
            [(ngModel)]&#x3D;&quot;newMessage&quot;
            (keyup.enter)&#x3D;&quot;handleEnterKey($event)&quot;
            (input)&#x3D;&quot;onTyping()&quot;
            [placeholder]&#x3D;&quot;
              temporaryMessageMode ? &#x27;Type a temporary message...&#x27; : &#x27;Type a message...&#x27;
            &quot;
            rows&#x3D;&quot;1&quot;
            #messageInput
          &gt;
          &lt;/textarea&gt;

          &lt;!-- Emoji Picker --&gt;
          &lt;button
            mat-icon-button
            matTooltip&#x3D;&quot;Add Emoji&quot;
            (click)&#x3D;&quot;toggleEmojiPicker()&quot;
            class&#x3D;&quot;emoji-button&quot;
          &gt;
            &lt;mat-icon&gt;sentiment_satisfied_alt&lt;/mat-icon&gt;
          &lt;/button&gt;

          &lt;!-- Temporary Message Duration (only shown when temp mode is active) --&gt;
          &lt;div *ngIf&#x3D;&quot;temporaryMessageMode&quot; class&#x3D;&quot;temp-message-duration&quot;&gt;
            &lt;button mat-button [matMenuTriggerFor]&#x3D;&quot;tempDurationMenu&quot;&gt;
              &lt;mat-icon&gt;schedule&lt;/mat-icon&gt;
              &lt;span&gt;{{ formatTTL(temporaryMessageTTL) }}&lt;/span&gt;
            &lt;/button&gt;
            &lt;mat-menu #tempDurationMenu&#x3D;&quot;matMenu&quot;&gt;
              &lt;button mat-menu-item (click)&#x3D;&quot;setTemporaryMessageTTL(1)&quot;&gt;1 hour&lt;/button&gt;
              &lt;button mat-menu-item (click)&#x3D;&quot;setTemporaryMessageTTL(4)&quot;&gt;4 hours&lt;/button&gt;
              &lt;button mat-menu-item (click)&#x3D;&quot;setTemporaryMessageTTL(8)&quot;&gt;8 hours&lt;/button&gt;
              &lt;button mat-menu-item (click)&#x3D;&quot;setTemporaryMessageTTL(24)&quot;&gt;1 day&lt;/button&gt;
              &lt;button mat-menu-item (click)&#x3D;&quot;setTemporaryMessageTTL(48)&quot;&gt;2 days&lt;/button&gt;
              &lt;button mat-menu-item (click)&#x3D;&quot;setTemporaryMessageTTL(72)&quot;&gt;3 days&lt;/button&gt;
              &lt;button mat-menu-item (click)&#x3D;&quot;setTemporaryMessageTTL(168)&quot;&gt;7 days&lt;/button&gt;
            &lt;/mat-menu&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Send Button --&gt;
        &lt;button
          mat-fab
          [color]&#x3D;&quot;temporaryMessageMode ? &#x27;accent&#x27; : &#x27;primary&#x27;&quot;
          class&#x3D;&quot;send-button&quot;
          (click)&#x3D;&quot;sendMessage()&quot;
          [disabled]&#x3D;&quot;!canSendMessage()&quot;
          [matTooltip]&#x3D;&quot;temporaryMessageMode ? &#x27;Send temporary message&#x27; : &#x27;Send message&#x27;&quot;
        &gt;
          &lt;mat-icon&gt;send&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/div&gt;

      &lt;!-- Emoji Picker (hidden by default) --&gt;
      &lt;div *ngIf&#x3D;&quot;showEmojiPicker&quot; class&#x3D;&quot;emoji-picker&quot;&gt;
        &lt;div class&#x3D;&quot;emoji-categories&quot;&gt;
          &lt;button
            mat-icon-button
            *ngFor&#x3D;&quot;let category of emojiCategories&quot;
            (click)&#x3D;&quot;selectEmojiCategory(category)&quot;
          &gt;
            &lt;mat-icon&gt;{{ category.icon }}&lt;/mat-icon&gt;
          &lt;/button&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;emoji-list&quot;&gt;
          &lt;button
            *ngFor&#x3D;&quot;let emoji of currentCategoryEmojis&quot;
            class&#x3D;&quot;emoji-item&quot;
            (click)&#x3D;&quot;addEmoji(emoji)&quot;
          &gt;
            {{ emoji }}
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Empty State (No Conversation Selected) --&gt;
    &lt;div *ngIf&#x3D;&quot;!selectedContactId&quot; class&#x3D;&quot;empty-state&quot;&gt;
      &lt;div class&#x3D;&quot;empty-state-content&quot;&gt;
        &lt;mat-icon class&#x3D;&quot;empty-icon&quot;&gt;chat&lt;/mat-icon&gt;
        &lt;h3&gt;Select a conversation&lt;/h3&gt;
        &lt;p&gt;Choose a contact from the list to start chatting&lt;/p&gt;
        &lt;button mat-raised-button color&#x3D;&quot;primary&quot; (click)&#x3D;&quot;openNewMessageDialog()&quot;&gt;
          &lt;mat-icon&gt;add&lt;/mat-icon&gt;
          Start a new chat
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- New Message Dialog Template --&gt;
&lt;ng-template #newMessageDialog&gt;
  &lt;h2 mat-dialog-title&gt;New Message&lt;/h2&gt;
  &lt;mat-dialog-content&gt;
    &lt;mat-form-field appearance&#x3D;&quot;outline&quot; class&#x3D;&quot;full-width&quot;&gt;
      &lt;mat-label&gt;Search contacts&lt;/mat-label&gt;
      &lt;input matInput [(ngModel)]&#x3D;&quot;newMessageSearch&quot; placeholder&#x3D;&quot;Type a name...&quot; /&gt;
      &lt;mat-icon matPrefix&gt;search&lt;/mat-icon&gt;
    &lt;/mat-form-field&gt;

    &lt;div class&#x3D;&quot;contact-list&quot;&gt;
      &lt;div
        *ngFor&#x3D;&quot;let contact of filteredNewMessageContacts&quot;
        class&#x3D;&quot;contact-option&quot;
        (click)&#x3D;&quot;selectNewMessageContact(contact)&quot;
      &gt;
        &lt;emerald-avatar
          [imageUrl]&#x3D;&quot;contact.imageUrl&quot;
          [name]&#x3D;&quot;contact.name&quot;
          [isOnline]&#x3D;&quot;contact.online&quot;
          size&#x3D;&quot;small&quot;
        &gt;
        &lt;/emerald-avatar&gt;
        &lt;div class&#x3D;&quot;contact-name&quot;&gt;{{ contact.name }}&lt;/div&gt;
      &lt;/div&gt;

      &lt;div *ngIf&#x3D;&quot;filteredNewMessageContacts.length &#x3D;&#x3D;&#x3D; 0&quot; class&#x3D;&quot;no-contacts&quot;&gt;
        &lt;p&gt;No contacts found&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/mat-dialog-content&gt;
  &lt;mat-dialog-actions align&#x3D;&quot;end&quot;&gt;
    &lt;button mat-button mat-dialog-close&gt;Cancel&lt;/button&gt;
  &lt;/mat-dialog-actions&gt;
&lt;/ng-template&gt;

&lt;!-- Image Preview Dialog Template --&gt;
&lt;ng-template #imagePreviewDialog&gt;
  &lt;div class&#x3D;&quot;image-preview-container&quot;&gt;
    &lt;button mat-icon-button class&#x3D;&quot;close-button&quot; mat-dialog-close&gt;
      &lt;mat-icon&gt;close&lt;/mat-icon&gt;
    &lt;/button&gt;

    &lt;img [src]&#x3D;&quot;previewImage?.url&quot; [alt]&#x3D;&quot;previewImage?.name&quot; class&#x3D;&quot;preview-image&quot; /&gt;

    &lt;div class&#x3D;&quot;image-preview-actions&quot;&gt;
      &lt;button mat-icon-button matTooltip&#x3D;&quot;Download&quot; (click)&#x3D;&quot;downloadImage()&quot;&gt;
        &lt;mat-icon&gt;download&lt;/mat-icon&gt;
      &lt;/button&gt;
      &lt;button mat-icon-button matTooltip&#x3D;&quot;Share&quot; (click)&#x3D;&quot;shareImage()&quot;&gt;
        &lt;mat-icon&gt;share&lt;/mat-icon&gt;
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/ng-template&gt;

&lt;!-- Search in Chat Dialog Template --&gt;
&lt;ng-template #searchInChatDialog&gt;
  &lt;h2 mat-dialog-title&gt;Search in Conversation&lt;/h2&gt;
  &lt;mat-dialog-content&gt;
    &lt;mat-form-field appearance&#x3D;&quot;outline&quot; class&#x3D;&quot;full-width&quot;&gt;
      &lt;mat-label&gt;Search messages&lt;/mat-label&gt;
      &lt;input matInput [(ngModel)]&#x3D;&quot;chatSearchQuery&quot; placeholder&#x3D;&quot;Type to search...&quot; /&gt;
      &lt;mat-icon matPrefix&gt;search&lt;/mat-icon&gt;
    &lt;/mat-form-field&gt;

    &lt;div class&#x3D;&quot;search-results&quot;&gt;
      &lt;div
        *ngFor&#x3D;&quot;let result of chatSearchResults&quot;
        class&#x3D;&quot;search-result-item&quot;
        (click)&#x3D;&quot;scrollToMessage(result)&quot;
      &gt;
        &lt;div class&#x3D;&quot;result-sender&quot;&gt;{{ result.sender.username }}&lt;/div&gt;
        &lt;div class&#x3D;&quot;result-message&quot; [innerHTML]&#x3D;&quot;highlightSearchText(result.message)&quot;&gt;&lt;/div&gt;
        &lt;div class&#x3D;&quot;result-time&quot;&gt;{{ result.timestamp | date: &#x27;short&#x27; }}&lt;/div&gt;
      &lt;/div&gt;

      &lt;div *ngIf&#x3D;&quot;chatSearchResults.length &#x3D;&#x3D;&#x3D; 0 &amp;&amp; chatSearchQuery&quot; class&#x3D;&quot;no-results&quot;&gt;
        &lt;p&gt;No messages found&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/mat-dialog-content&gt;
  &lt;mat-dialog-actions align&#x3D;&quot;end&quot;&gt;
    &lt;button mat-button mat-dialog-close&gt;Close&lt;/button&gt;
  &lt;/mat-dialog-actions&gt;
&lt;/ng-template&gt;

&lt;!-- Media Gallery Dialog Template --&gt;
&lt;ng-template #mediaGalleryDialog&gt;
  &lt;h2 mat-dialog-title&gt;Media Gallery&lt;/h2&gt;
  &lt;mat-dialog-content&gt;
    &lt;div class&#x3D;&quot;gallery-tabs&quot;&gt;
      &lt;button mat-button [class.active]&#x3D;&quot;galleryTab &#x3D;&#x3D;&#x3D; &#x27;images&#x27;&quot; (click)&#x3D;&quot;galleryTab &#x3D; &#x27;images&#x27;&quot;&gt;
        Images
      &lt;/button&gt;
      &lt;button mat-button [class.active]&#x3D;&quot;galleryTab &#x3D;&#x3D;&#x3D; &#x27;files&#x27;&quot; (click)&#x3D;&quot;galleryTab &#x3D; &#x27;files&#x27;&quot;&gt;
        Files
      &lt;/button&gt;
      &lt;button mat-button [class.active]&#x3D;&quot;galleryTab &#x3D;&#x3D;&#x3D; &#x27;links&#x27;&quot; (click)&#x3D;&quot;galleryTab &#x3D; &#x27;links&#x27;&quot;&gt;
        Links
      &lt;/button&gt;
    &lt;/div&gt;

    &lt;!-- Images Tab --&gt;
    &lt;div *ngIf&#x3D;&quot;galleryTab &#x3D;&#x3D;&#x3D; &#x27;images&#x27;&quot; class&#x3D;&quot;gallery-images&quot;&gt;
      &lt;div
        *ngFor&#x3D;&quot;let image of galleryImages&quot;
        class&#x3D;&quot;gallery-image&quot;
        (click)&#x3D;&quot;openImagePreview(image)&quot;
      &gt;
        &lt;img [src]&#x3D;&quot;image.url&quot; [alt]&#x3D;&quot;image.name&quot; /&gt;
      &lt;/div&gt;

      &lt;div *ngIf&#x3D;&quot;galleryImages.length &#x3D;&#x3D;&#x3D; 0&quot; class&#x3D;&quot;no-media&quot;&gt;
        &lt;p&gt;No images shared in this conversation&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Files Tab --&gt;
    &lt;div *ngIf&#x3D;&quot;galleryTab &#x3D;&#x3D;&#x3D; &#x27;files&#x27;&quot; class&#x3D;&quot;gallery-files&quot;&gt;
      &lt;div
        *ngFor&#x3D;&quot;let file of galleryFiles&quot;
        class&#x3D;&quot;gallery-file&quot;
        (click)&#x3D;&quot;downloadAttachment(file)&quot;
      &gt;
        &lt;mat-icon&gt;{{ getFileIcon(file) }}&lt;/mat-icon&gt;
        &lt;div class&#x3D;&quot;file-info&quot;&gt;
          &lt;div class&#x3D;&quot;file-name&quot;&gt;{{ file.name }}&lt;/div&gt;
          &lt;div class&#x3D;&quot;file-meta&quot;&gt;
            &lt;span class&#x3D;&quot;file-size&quot;&gt;{{ formatFileSize(file.size) }}&lt;/span&gt;
            &lt;span class&#x3D;&quot;file-date&quot;&gt;{{ file.timestamp | date: &#x27;shortDate&#x27; }}&lt;/span&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;button mat-icon-button&gt;
          &lt;mat-icon&gt;download&lt;/mat-icon&gt;
        &lt;/button&gt;
      &lt;/div&gt;

      &lt;div *ngIf&#x3D;&quot;galleryFiles.length &#x3D;&#x3D;&#x3D; 0&quot; class&#x3D;&quot;no-media&quot;&gt;
        &lt;p&gt;No files shared in this conversation&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Links Tab --&gt;
    &lt;div *ngIf&#x3D;&quot;galleryTab &#x3D;&#x3D;&#x3D; &#x27;links&#x27;&quot; class&#x3D;&quot;gallery-links&quot;&gt;
      &lt;div *ngFor&#x3D;&quot;let link of galleryLinks&quot; class&#x3D;&quot;gallery-link&quot; (click)&#x3D;&quot;openLink(link.url)&quot;&gt;
        &lt;mat-icon&gt;link&lt;/mat-icon&gt;
        &lt;div class&#x3D;&quot;link-info&quot;&gt;
          &lt;div class&#x3D;&quot;link-title&quot;&gt;{{ link.title || link.url }}&lt;/div&gt;
          &lt;div class&#x3D;&quot;link-url&quot;&gt;{{ link.url }}&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;link-date&quot;&gt;{{ link.timestamp | date: &#x27;shortDate&#x27; }}&lt;/div&gt;
      &lt;/div&gt;

      &lt;div *ngIf&#x3D;&quot;galleryLinks.length &#x3D;&#x3D;&#x3D; 0&quot; class&#x3D;&quot;no-media&quot;&gt;
        &lt;p&gt;No links shared in this conversation&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/mat-dialog-content&gt;
  &lt;mat-dialog-actions align&#x3D;&quot;end&quot;&gt;
    &lt;button mat-button mat-dialog-close&gt;Close&lt;/button&gt;
  &lt;/mat-dialog-actions&gt;
&lt;/ng-template&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./chat.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">@import &#x27;../../core/design/design-tokens&#x27;;

// &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
// CUSTOMIZABLE SETTINGS IN THIS FILE
// &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
// This file contains styles for the chat component
//
// COMMON CUSTOMIZATIONS:
// - $sidebar-width: Width of the chat sidebar (default: 320px)
// - $message-bubble-sent: Background color for sent messages (default: $primary-500)
// - $message-bubble-received: Background color for received messages (default: $neutral-100)
// - $typing-indicator-color: Color of the typing indicator (default: $primary-500)
// &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;

// Variables
$sidebar-width: 320px;
$message-bubble-sent: $primary-500;
$message-bubble-received: $neutral-100;
$typing-indicator-color: $primary-500;
$temporary-message-color: $warning-500;
$temporary-message-bg: rgba($warning-100, 0.3);

// Animations
@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba($warning-500, 0.4);
  }
  70% {
    box-shadow: 0 0 0 10px rgba($warning-500, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba($warning-500, 0);
  }
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

// Chat Container
.chat-container {
  display: grid;
  grid-template-columns: $sidebar-width 1fr;
  gap: $spacing-4;
  height: calc(100vh - 140px);
  max-width: 1400px;
  margin: 0 auto;
  background-color: $neutral-50;
  border-radius: $border-radius-lg;
  overflow: hidden;
  box-shadow: $shadow-md;

  @media (max-width: $breakpoint-lg) {
    grid-template-columns: 1fr;
    height: 100vh;
    border-radius: 0;
  }
}

// Chat Sidebar
.chat-sidebar {
  background-color: white;
  border-right: 1px solid $neutral-200;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  @media (max-width: $breakpoint-lg) {
    display: none;

    &amp;.mobile-visible {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1000;
    }
  }
}

.chat-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: $spacing-4;
  border-bottom: 1px solid $neutral-200;
  background-color: white;

  h2 {
    margin: 0;
    font-size: $font-size-xl;
    font-weight: $font-weight-semibold;
    color: $neutral-900;
  }

  .chat-header-actions {
    display: flex;
    gap: $spacing-1;
  }
}

.chat-search {
  padding: $spacing-3;
  border-bottom: 1px solid $neutral-200;
  background-color: white;

  .search-field {
    width: 100%;
    margin-bottom: $spacing-2;

    ::ng-deep .mat-mdc-form-field-subscript-wrapper {
      display: none;
    }
  }

  .conversation-filters {
    display: flex;
    gap: $spacing-1;
    margin-top: $spacing-2;

    button {
      flex: 1;
      min-width: 0;
      font-size: $font-size-sm;
      padding: $spacing-1 $spacing-2;

      &amp;.active {
        color: $primary-500;
        background-color: $primary-50;
        font-weight: $font-weight-medium;
      }
    }
  }
}

.chat-contacts {
  flex: 1;
  overflow-y: auto;
  background-color: white;

  .contacts-loading {
    padding: $spacing-4;
  }
}

.contact-item {
  display: flex;
  align-items: center;
  padding: $spacing-3 $spacing-4;
  border-bottom: 1px solid $neutral-100;
  cursor: pointer;
  transition: background-color 0.2s ease;

  &amp;:hover {
    background-color: $neutral-50;
  }

  &amp;.active {
    background-color: $primary-50;
  }

  &amp;.unread {
    .contact-name {
      font-weight: $font-weight-bold;
      color: $neutral-900;
    }

    .contact-preview {
      font-weight: $font-weight-medium;
      color: $neutral-800;
    }
  }

  .contact-info {
    flex: 1;
    min-width: 0;
    margin-left: $spacing-3;
  }

  .contact-name-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: $spacing-1;
  }

  .contact-name {
    font-weight: $font-weight-medium;
    color: $neutral-800;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .contact-time {
    font-size: $font-size-xs;
    color: $neutral-600;
    white-space: nowrap;
    margin-left: $spacing-2;
  }

  .contact-preview-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .contact-preview {
    font-size: $font-size-sm;
    color: $neutral-600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 200px;

    .typing-indicator {
      color: $primary-500;
      font-style: italic;
    }
  }

  .contact-badges {
    display: flex;
    align-items: center;
    margin-left: $spacing-2;
  }

  .unread-badge {
    background-color: $primary-500;
    color: white;
    font-size: $font-size-xs;
    font-weight: $font-weight-medium;
    min-width: 20px;
    height: 20px;
    border-radius: $border-radius-full;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 $spacing-1;
  }

  .pin-icon {
    font-size: 16px;
    color: $neutral-500;
    margin-left: $spacing-1;
  }
}

.empty-contacts {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: $spacing-8;
  color: $neutral-600;
  text-align: center;

  mat-icon {
    font-size: 48px;
    width: 48px;
    height: 48px;
    margin-bottom: $spacing-4;
    color: $neutral-400;
  }

  p {
    margin-bottom: $spacing-4;
  }
}

// Chat Main Area
.chat-main {
  display: flex;
  flex-direction: column;
  background-color: white;
  overflow: hidden;
  position: relative;
}

.chat-conversation {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.chat-main-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: $spacing-3 $spacing-4;
  border-bottom: 1px solid $neutral-200;
  background-color: white;
  z-index: 10;

  .header-left {
    display: flex;
    align-items: center;
    flex: 1;
    min-width: 0;

    .back-button {
      margin-right: $spacing-2;
      display: none;

      @media (max-width: $breakpoint-lg) {
        display: block;
      }
    }
  }

  .chat-recipient {
    margin-left: $spacing-3;
    flex: 1;
    min-width: 0;
  }

  .recipient-name {
    font-weight: $font-weight-semibold;
    color: $neutral-900;
    margin-bottom: $spacing-1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .recipient-status {
    font-size: $font-size-sm;
    color: $neutral-600;

    &amp;.online {
      color: $success;
    }
  }

  .header-actions {
    display: flex;
    gap: $spacing-1;
  }
}

// Message List
.message-list {
  flex: 1;
  overflow-y: auto;
  padding: $spacing-4;
  background-color: $neutral-100;
  display: flex;
  flex-direction: column;
  gap: $spacing-4;

  .message-group {
    display: flex;
    flex-direction: column;
    gap: $spacing-3;
  }

  .date-separator {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: $spacing-4 0;

    span {
      background-color: $neutral-300;
      color: $neutral-700;
      font-size: $font-size-xs;
      font-weight: $font-weight-medium;
      padding: $spacing-1 $spacing-3;
      border-radius: $border-radius-full;
    }
  }
}

// Message Bubbles
.message {
  display: flex;
  align-items: flex-end;
  gap: $spacing-2;
  max-width: 80%;
  position: relative;

  &amp;.sent {
    align-self: flex-end;
    flex-direction: row-reverse;

    .message-bubble {
      background-color: $message-bubble-sent;
      color: white;
      border-bottom-right-radius: 4px;
    }

    .message-actions {
      left: -30px;
    }
  }

  &amp;.received {
    align-self: flex-start;

    .message-bubble {
      background-color: $message-bubble-received;
      border-bottom-left-radius: 4px;
    }

    .message-actions {
      right: -30px;
    }
  }

  .message-avatar {
    align-self: flex-end;
    margin-bottom: $spacing-1;
  }

  .message-bubble {
    padding: $spacing-3;
    border-radius: $border-radius-lg;
    box-shadow: $shadow-sm;
    max-width: 100%;
    word-break: break-word;
    position: relative;

    // Styling for temporary messages
    &amp;.temporary-message {
      border: 1px dashed $temporary-message-color;
    }

    // Styling for messages about to expire
    &amp;.about-to-expire {
      animation: pulse 2s infinite;
      border: 1px dashed $temporary-message-color;

      .temporary-message-indicator {
        animation: spin 2s infinite linear;
      }
    }

    .temporary-message-indicator {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: $temporary-message-color;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;

      .mat-icon {
        font-size: 14px;
        width: 14px;
        height: 14px;
        color: white;
      }
    }
  }

  .message-content {
    margin-bottom: $spacing-2;

    a {
      color: inherit;
      text-decoration: underline;
    }
  }

  .message-attachments {
    margin-top: $spacing-2;
    display: flex;
    flex-direction: column;
    gap: $spacing-2;

    img {
      max-width: 100%;
      max-height: 300px;
      border-radius: $border-radius-md;
      cursor: pointer;
      transition: transform 0.2s ease;

      &amp;:hover {
        transform: scale(1.02);
      }
    }

    .file-attachment {
      display: flex;
      align-items: center;
      background-color: rgba(0, 0, 0, 0.05);
      border-radius: $border-radius-md;
      padding: $spacing-2;
      cursor: pointer;

      mat-icon {
        margin-right: $spacing-2;
        color: $neutral-700;
      }

      .file-info {
        flex: 1;
        min-width: 0;
      }

      .file-name {
        font-weight: $font-weight-medium;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .file-size {
        font-size: $font-size-xs;
        color: $neutral-600;
      }
    }
  }

  .message-meta {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: $spacing-1;
    margin-top: $spacing-1;

    .message-time {
      font-size: $font-size-xs;
      color: rgba(255, 255, 255, 0.8);
    }

    .message-expiry {
      display: flex;
      align-items: center;

      .expiry-icon {
        font-size: 14px;
        width: 14px;
        height: 14px;
        color: $temporary-message-color;
      }
    }

    .status-icon {
      font-size: 14px;
      width: 14px;
      height: 14px;
      color: rgba(255, 255, 255, 0.8);
    }
  }

  &amp;.received .message-meta {
    .message-time,
    .status-icon {
      color: $neutral-600;
    }

    .message-expiry .expiry-icon {
      color: $temporary-message-color;
    }
  }

  .message-actions {
    position: absolute;
    bottom: 0;
    opacity: 0;
    transition: opacity 0.2s ease;

    button {
      background-color: white;
      box-shadow: $shadow-md;
    }
  }

  &amp;:hover .message-actions {
    opacity: 1;
  }
}

// Typing Indicator
.typing-indicator-container {
  display: flex;
  align-items: flex-end;
  gap: $spacing-2;
  margin-top: $spacing-2;

  .typing-bubble {
    background-color: $neutral-200;
    padding: $spacing-2 $spacing-3;
    border-radius: $border-radius-lg;
    border-bottom-left-radius: 4px;
  }

  .typing-dots {
    display: flex;
    gap: 4px;

    span {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: $typing-indicator-color;
      animation: typingAnimation 1.4s infinite ease-in-out;

      &amp;:nth-child(1) {
        animation-delay: 0s;
      }

      &amp;:nth-child(2) {
        animation-delay: 0.2s;
      }

      &amp;:nth-child(3) {
        animation-delay: 0.4s;
      }
    }
  }
}

@keyframes typingAnimation {
  0%,
  60%,
  100% {
    transform: translateY(0);
  }
  30% {
    transform: translateY(-6px);
  }
}

// Empty Messages
.empty-messages {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: $spacing-8;
  color: $neutral-600;
  text-align: center;
  margin: auto 0;

  mat-icon {
    font-size: 48px;
    width: 48px;
    height: 48px;
    margin-bottom: $spacing-4;
    color: $neutral-400;
  }

  h3 {
    margin-bottom: $spacing-2;
    color: $neutral-700;
    font-weight: $font-weight-semibold;
  }
}

// Reply Preview
.reply-preview {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: $spacing-3 $spacing-4;
  background-color: $neutral-100;
  border-top: 1px solid $neutral-200;

  .reply-content {
    display: flex;
    align-items: center;
    gap: $spacing-2;
    flex: 1;
    min-width: 0;
  }

  .reply-text {
    flex: 1;
    min-width: 0;
  }

  .reply-to {
    font-size: $font-size-sm;
    font-weight: $font-weight-medium;
    color: $primary-500;
  }

  .reply-message {
    font-size: $font-size-sm;
    color: $neutral-600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

// Message Input
.message-input-container {
  display: flex;
  align-items: flex-end;
  gap: $spacing-2;
  padding: $spacing-3 $spacing-4;
  background-color: white;
  border-top: 1px solid $neutral-200;
}

.message-input {
  flex: 1;
  display: flex;
  align-items: flex-end;
  background-color: $neutral-100;
  border-radius: $border-radius-lg;
  padding: $spacing-2;
  transition: background-color 0.3s ease;

  // Temporary message mode styling
  &amp;.temp-message-mode {
    background-color: $temporary-message-bg;
    border: 1px dashed $temporary-message-color;

    textarea::placeholder {
      color: $temporary-message-color;
    }
  }

  textarea {
    flex: 1;
    border: none;
    background: transparent;
    resize: none;
    padding: $spacing-2;
    max-height: 120px;
    font-family: inherit;
    font-size: $font-size-md;

    &amp;:focus {
      outline: none;
    }
  }

  // Temporary message duration selector
  .temp-message-duration {
    display: flex;
    align-items: center;
    color: $temporary-message-color;
    font-size: $font-size-sm;
    margin-right: $spacing-2;

    .mat-icon {
      font-size: 16px;
      height: 16px;
      width: 16px;
      margin-right: $spacing-1;
    }
  }
}

.attachment-button,
.emoji-button,
.temp-message-button {
  color: $neutral-600;

  &amp;.active {
    color: $temporary-message-color;
  }
}

.send-button {
  width: 40px !important;
  height: 40px !important;

  .mat-icon {
    font-size: 18px;
    width: 18px;
    height: 18px;
  }
}

// Emoji Picker
.emoji-picker {
  position: absolute;
  bottom: 80px;
  right: 20px;
  background-color: white;
  border-radius: $border-radius-lg;
  box-shadow: $shadow-lg;
  width: 300px;
  max-height: 300px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  z-index: 100;

  .emoji-categories {
    display: flex;
    border-bottom: 1px solid $neutral-200;
    padding: $spacing-1;

    button {
      flex: 1;
    }
  }

  .emoji-list {
    padding: $spacing-2;
    display: flex;
    flex-wrap: wrap;
    gap: $spacing-1;
    overflow-y: auto;
    max-height: 250px;
  }

  .emoji-item {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    cursor: pointer;
    border: none;
    background: none;
    border-radius: $border-radius-md;

    &amp;:hover {
      background-color: $neutral-100;
    }
  }
}

// Empty State
.empty-state {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: $neutral-50;

  .empty-state-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    max-width: 400px;
    padding: $spacing-6;
  }

  .empty-icon {
    font-size: 64px;
    width: 64px;
    height: 64px;
    margin-bottom: $spacing-4;
    color: $neutral-400;
  }

  h3 {
    font-size: $font-size-xl;
    font-weight: $font-weight-semibold;
    color: $neutral-800;
    margin-bottom: $spacing-2;
  }

  p {
    color: $neutral-600;
    margin-bottom: $spacing-4;
  }
}

// Dialog Styles
.full-width {
  width: 100%;
}

.contact-list {
  max-height: 300px;
  overflow-y: auto;
  margin-top: $spacing-4;
}

.contact-option {
  display: flex;
  align-items: center;
  padding: $spacing-2 $spacing-3;
  border-radius: $border-radius-md;
  cursor: pointer;

  &amp;:hover {
    background-color: $neutral-100;
  }

  .contact-name {
    margin-left: $spacing-3;
    font-weight: $font-weight-medium;
  }
}

.no-contacts,
.no-results,
.no-media {
  padding: $spacing-4;
  text-align: center;
  color: $neutral-600;
}

// Image Preview Dialog
.image-preview-container {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: $spacing-4;

  .close-button {
    position: absolute;
    top: $spacing-2;
    right: $spacing-2;
    z-index: 10;
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
  }

  .preview-image {
    max-width: 100%;
    max-height: 80vh;
    border-radius: $border-radius-md;
  }

  .image-preview-actions {
    display: flex;
    gap: $spacing-2;
    margin-top: $spacing-4;
  }
}

// Search Results
.search-results {
  max-height: 300px;
  overflow-y: auto;
  margin-top: $spacing-4;
}

.search-result-item {
  padding: $spacing-3;
  border-radius: $border-radius-md;
  cursor: pointer;
  border-bottom: 1px solid $neutral-200;

  &amp;:hover {
    background-color: $neutral-100;
  }

  .result-sender {
    font-weight: $font-weight-medium;
    color: $primary-500;
    margin-bottom: $spacing-1;
  }

  .result-message {
    margin-bottom: $spacing-1;

    mark {
      background-color: rgba($primary-500, 0.2);
      color: inherit;
      padding: 0 2px;
      border-radius: 2px;
    }
  }

  .result-time {
    font-size: $font-size-xs;
    color: $neutral-600;
  }
}

// Gallery Tabs
.gallery-tabs {
  display: flex;
  border-bottom: 1px solid $neutral-200;
  margin-bottom: $spacing-4;

  button {
    flex: 1;
    padding: $spacing-2 $spacing-4;

    &amp;.active {
      color: $primary-500;
      border-bottom: 2px solid $primary-500;
    }
  }
}

.gallery-images {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: $spacing-2;

  .gallery-image {
    aspect-ratio: 1;
    overflow: hidden;
    border-radius: $border-radius-md;
    cursor: pointer;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.2s ease;

      &amp;:hover {
        transform: scale(1.05);
      }
    }
  }
}

.gallery-files,
.gallery-links {
  display: flex;
  flex-direction: column;
  gap: $spacing-2;

  .gallery-file,
  .gallery-link {
    display: flex;
    align-items: center;
    padding: $spacing-3;
    border-radius: $border-radius-md;
    background-color: $neutral-100;
    cursor: pointer;

    &amp;:hover {
      background-color: $neutral-200;
    }

    mat-icon {
      margin-right: $spacing-3;
      color: $neutral-700;
    }

    .file-info,
    .link-info {
      flex: 1;
      min-width: 0;
    }

    .file-name,
    .link-title {
      font-weight: $font-weight-medium;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .file-meta,
    .link-url {
      font-size: $font-size-xs;
      color: $neutral-600;
    }

    .file-date,
    .link-date {
      font-size: $font-size-xs;
      color: $neutral-600;
      white-space: nowrap;
    }
  }
}

// Responsive Styles
@media (max-width: $breakpoint-md) {
  .message {
    max-width: 90%;
  }
}

// Message Highlight Animation
@keyframes highlightMessage {
  0% {
    background-color: rgba($primary-500, 0.3);
  }
  100% {
    background-color: transparent;
  }
}

.highlight {
  animation: highlightMessage 2s ease;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="chat-container">  <!-- Left Sidebar with Conversation List -->  <div class="chat-sidebar">    <div class="chat-header">      <h2>Messages</h2>      <div class="chat-header-actions">        <button mat-icon-button matTooltip="New Message" (click)="openNewMessageDialog()">          <mat-icon>add</mat-icon>        </button>        <button mat-icon-button matTooltip="Settings" [matMenuTriggerFor]="settingsMenu">          <mat-icon>more_vert</mat-icon>        </button>        <mat-menu #settingsMenu="matMenu">          <button mat-menu-item (click)="toggleNotifications()">            <mat-icon>{{ notificationsEnabled ? \'notifications\' : \'notifications_off\' }}</mat-icon>            <span>{{ notificationsEnabled ? \'Mute Notifications\' : \'Enable Notifications\' }}</span>          </button>          <button mat-menu-item (click)="markAllAsRead()">            <mat-icon>done_all</mat-icon>            <span>Mark All as Read</span>          </button>          <button mat-menu-item (click)="archiveAllChats()">            <mat-icon>archive</mat-icon>            <span>Archive All</span>          </button>        </mat-menu>      </div>    </div>    <div class="chat-search">      <mat-form-field appearance="outline" class="search-field">        <mat-icon matPrefix>search</mat-icon>        <input matInput placeholder="Search conversations..." [(ngModel)]="searchTerm" />        <button          *ngIf="searchTerm"          matSuffix          mat-icon-button          aria-label="Clear"          (click)="searchTerm = \'\'"        >          <mat-icon>close</mat-icon>        </button>      </mat-form-field>      <!-- Conversation Filters -->      <div class="conversation-filters">        <button          mat-button          [class.active]="currentFilter === \'all\'"          (click)="filterConversations(\'all\')"        >          All        </button>        <button          mat-button          [class.active]="currentFilter === \'unread\'"          (click)="filterConversations(\'unread\')"        >          Unread        </button>        <button          mat-button          [class.active]="currentFilter === \'archived\'"          (click)="filterConversations(\'archived\')"        >          Archived        </button>      </div>    </div>    <div class="chat-contacts">      <!-- Loading State -->      <div *ngIf="loadingContacts" class="contacts-loading">        <emerald-skeleton-loader          type="list"          [count]="3"          [animated]="true"        ></emerald-skeleton-loader>      </div>      <!-- Contact List -->      <div        *ngFor="let contact of filteredContacts"        class="contact-item"        [class.active]="selectedContactId === contact.id"        [class.unread]="contact.unreadCount > 0"        (click)="selectContact(contact.id)"      >        <emerald-avatar          [imageUrl]="contact.imageUrl"          [name]="contact.name"          [isOnline]="contact.online"          size="medium"        >        </emerald-avatar>        <div class="contact-info">          <div class="contact-name-row">            <div class="contact-name">{{ contact.name }}</div>            <div class="contact-time">{{ contact.lastMessageTime | date: \'shortTime\' }}</div>          </div>          <div class="contact-preview-row">            <div class="contact-preview">              <span *ngIf="contact.typing" class="typing-indicator">typing...</span>              <span *ngIf="!contact.typing">{{ contact.lastMessage }}</span>            </div>            <div class="contact-badges">              <div class="unread-badge" *ngIf="contact.unreadCount">{{ contact.unreadCount }}</div>              <mat-icon *ngIf="contact.pinned" class="pin-icon">push_pin</mat-icon>            </div>          </div>        </div>      </div>      <!-- Empty State -->      <div *ngIf="filteredContacts.length === 0 && !loadingContacts" class="empty-contacts">        <mat-icon>forum</mat-icon>        <p>No conversations found</p>        <button mat-stroked-button color="primary" (click)="openNewMessageDialog()">          <mat-icon>add</mat-icon>          Start a new chat        </button>      </div>    </div>  </div>  <!-- Main Chat Area -->  <div class="chat-main">    <!-- Active Conversation -->    <div *ngIf="selectedContactId" class="chat-conversation">      <!-- Conversation Header -->      <div class="chat-main-header">        <div class="header-left">          <button            mat-icon-button            class="back-button"            (click)="deselectContact()"            matTooltip="Back to conversations"          >            <mat-icon>arrow_back</mat-icon>          </button>          <emerald-avatar            [imageUrl]="getSelectedContact()?.imageUrl"            [name]="getSelectedContact()?.name"            [isOnline]="getSelectedContact()?.online"            size="medium"            (avatarClick)="viewContactProfile()"          >          </emerald-avatar>          <div class="chat-recipient">            <div class="recipient-name">{{ getSelectedContact()?.name }}</div>            <div class="recipient-status" [class.online]="getSelectedContact()?.online">              {{                getSelectedContact()?.online                  ? \'Online\'                  : \'Last seen \' + (getSelectedContact()?.lastSeen | date: \'shortTime\')              }}            </div>          </div>        </div>        <div class="header-actions">          <button mat-icon-button matTooltip="Media Gallery" (click)="openMediaGallery()">            <mat-icon>photo_library</mat-icon>          </button>          <button mat-icon-button matTooltip="Search in Conversation" (click)="openSearchInChat()">            <mat-icon>search</mat-icon>          </button>          <button mat-icon-button [matMenuTriggerFor]="chatMenu" matTooltip="More Options">            <mat-icon>more_vert</mat-icon>          </button>          <mat-menu #chatMenu="matMenu">            <button mat-menu-item (click)="togglePin()">              <mat-icon>{{ isPinned() ? \'push_pin\' : \'push_pin\' }}</mat-icon>              <span>{{ isPinned() ? \'Unpin Conversation\' : \'Pin Conversation\' }}</span>            </button>            <button mat-menu-item [matMenuTriggerFor]="autoDeletionMenu">              <mat-icon>auto_delete</mat-icon>              <span>Message Auto-Deletion</span>            </button>            <button mat-menu-item (click)="blockContact()">              <mat-icon>block</mat-icon>              <span>Block Contact</span>            </button>            <button mat-menu-item (click)="clearConversation()">              <mat-icon>delete_sweep</mat-icon>              <span>Clear Conversation</span>            </button>          </mat-menu>          <!-- Auto-Deletion Submenu -->          <mat-menu #autoDeletionMenu="matMenu">            <button mat-menu-item (click)="configureMessageAutoDeletion(true, 1)">              <mat-icon>timer</mat-icon>              <span>Delete after 1 day</span>            </button>            <button mat-menu-item (click)="configureMessageAutoDeletion(true, 7)">              <mat-icon>timer</mat-icon>              <span>Delete after 7 days</span>            </button>            <button mat-menu-item (click)="configureMessageAutoDeletion(true, 30)">              <mat-icon>timer</mat-icon>              <span>Delete after 30 days</span>            </button>            <button mat-menu-item (click)="configureMessageAutoDeletion(false, 0)">              <mat-icon>timer_off</mat-icon>              <span>Disable auto-deletion</span>            </button>          </mat-menu>        </div>      </div>      <!-- Message List -->      <div class="message-list" #messageList>        <!-- Date Separator -->        <div *ngFor="let group of messageGroups" class="message-group">          <div class="date-separator">            <span>{{ group.date | date: \'mediumDate\' }}</span>          </div>          <!-- Messages -->          <div            *ngFor="let message of group.messages"            class="message"            [class.sent]="message.sender.id === currentUserId"            [class.received]="message.sender.id !== currentUserId"          >            <!-- Sender Avatar (only for received messages) -->            <emerald-avatar              *ngIf="message.sender.id !== currentUserId"              [imageUrl]="getContactById(message.sender.id)?.imageUrl"              [name]="message.sender.username"              size="small"              class="message-avatar"            >            </emerald-avatar>            <!-- Message Content -->            <div              class="message-bubble"              [class.temporary-message]="message.expiresAt"              [class.about-to-expire]="message.expiresAt && isAboutToExpire(message.expiresAt)"            >              <!-- Temporary Message Indicator -->              <div                *ngIf="message.expiresAt"                class="temporary-message-indicator"                [matTooltip]="getRemainingTime(message.expiresAt)"              >                <mat-icon>timer</mat-icon>              </div>              <!-- Message Text -->              <div                class="message-content"                [innerHTML]="formatMessageContent(message.message)"              ></div>              <!-- Message Attachments -->              <div                *ngIf="message.attachments && message.attachments.length > 0"                class="message-attachments"              >                <!-- Image Attachment -->                <div *ngFor="let attachment of message.attachments" class="attachment">                  <Image                    *ngIf="isImageAttachment(attachment)"                    [src]="attachment.url"                    [alt]="attachment.name"                    (click)="openImagePreview(attachment)"                  />                  <!-- File Attachment -->                  <div                    *ngIf="!isImageAttachment(attachment)"                    class="file-attachment"                    (click)="downloadAttachment(attachment)"                  >                    <mat-icon>{{ getFileIcon(attachment) }}</mat-icon>                    <div class="file-info">                      <div class="file-name">{{ attachment.name }}</div>                      <div class="file-size">{{ formatFileSize(attachment.size) }}</div>                    </div>                    <button mat-icon-button>                      <mat-icon>download</mat-icon>                    </button>                  </div>                </div>              </div>              <!-- Message Metadata -->              <div class="message-meta">                <span class="message-time">{{ message.timestamp | date: \'shortTime\' }}</span>                <!-- Expiry indicator for temporary messages -->                <span                  *ngIf="message.expiresAt"                  class="message-expiry"                  [matTooltip]="getRemainingTime(message.expiresAt)"                >                  <mat-icon class="expiry-icon">timer</mat-icon>                </span>                <span                  *ngIf="message.sender.id === currentUserId"                  class="message-status"                  [class.read]="message.read"                >                  <mat-icon class="status-icon">{{ message.read ? \'done_all\' : \'done\' }}</mat-icon>                </span>              </div>            </div>            <!-- Message Actions -->            <div class="message-actions">              <button mat-icon-button [matMenuTriggerFor]="messageMenu">                <mat-icon>more_vert</mat-icon>              </button>              <mat-menu #messageMenu="matMenu">                <button mat-menu-item (click)="replyToMessage(message)">                  <mat-icon>reply</mat-icon>                  <span>Reply</span>                </button>                <button mat-menu-item (click)="forwardMessage(message)">                  <mat-icon>forward</mat-icon>                  <span>Forward</span>                </button>                <button mat-menu-item (click)="copyMessage(message)">                  <mat-icon>content_copy</mat-icon>                  <span>Copy</span>                </button>                <button mat-menu-item (click)="deleteMessage(message)">                  <mat-icon>delete</mat-icon>                  <span>Delete</span>                </button>              </mat-menu>            </div>          </div>        </div>        <!-- Typing Indicator -->        <div *ngIf="isContactTyping" class="typing-indicator-container">          <emerald-avatar            [imageUrl]="getSelectedContact()?.imageUrl"            [name]="getSelectedContact()?.name"            size="small"          >          </emerald-avatar>          <div class="typing-bubble">            <div class="typing-dots">              <span></span>              <span></span>              <span></span>            </div>          </div>        </div>        <!-- Empty State -->        <div *ngIf="messages.length === 0" class="empty-messages">          <mat-icon>chat</mat-icon>          <h3>No messages yet</h3>          <p>Start the conversation by sending a message below!</p>        </div>      </div>      <!-- Reply Preview (if replying to a message) -->      <div *ngIf="replyingTo" class="reply-preview">        <div class="reply-content">          <mat-icon>reply</mat-icon>          <div class="reply-text">            <div class="reply-to">Replying to {{ replyingTo.sender.username }}</div>            <div class="reply-message">{{ truncateMessage(replyingTo.message) }}</div>          </div>        </div>        <button mat-icon-button (click)="cancelReply()">          <mat-icon>close</mat-icon>        </button>      </div>      <!-- Message Input Area -->      <div class="message-input-container">        <!-- Attachment Button -->        <button          mat-icon-button          matTooltip="Add Attachment"          (click)="openAttachmentMenu()"          class="attachment-button"        >          <mat-icon>attach_file</mat-icon>        </button>        <!-- Temporary Message Button -->        <button          mat-icon-button          [matTooltip]="            temporaryMessageMode ? \'Temporary message mode enabled\' : \'Send temporary message\'          "          (click)="toggleTemporaryMessageMode()"          class="temp-message-button"          [class.active]="temporaryMessageMode"        >          <mat-icon>timer</mat-icon>        </button>        <!-- Text Input -->        <div class="message-input" [class.temp-message-mode]="temporaryMessageMode">          <textarea            [(ngModel)]="newMessage"            (keyup.enter)="handleEnterKey($event)"            (input)="onTyping()"            [placeholder]="              temporaryMessageMode ? \'Type a temporary message...\' : \'Type a message...\'            "            rows="1"            #messageInput          >          </textarea>          <!-- Emoji Picker -->          <button            mat-icon-button            matTooltip="Add Emoji"            (click)="toggleEmojiPicker()"            class="emoji-button"          >            <mat-icon>sentiment_satisfied_alt</mat-icon>          </button>          <!-- Temporary Message Duration (only shown when temp mode is active) -->          <div *ngIf="temporaryMessageMode" class="temp-message-duration">            <button mat-button [matMenuTriggerFor]="tempDurationMenu">              <mat-icon>schedule</mat-icon>              <span>{{ formatTTL(temporaryMessageTTL) }}</span>            </button>            <mat-menu #tempDurationMenu="matMenu">              <button mat-menu-item (click)="setTemporaryMessageTTL(1)">1 hour</button>              <button mat-menu-item (click)="setTemporaryMessageTTL(4)">4 hours</button>              <button mat-menu-item (click)="setTemporaryMessageTTL(8)">8 hours</button>              <button mat-menu-item (click)="setTemporaryMessageTTL(24)">1 day</button>              <button mat-menu-item (click)="setTemporaryMessageTTL(48)">2 days</button>              <button mat-menu-item (click)="setTemporaryMessageTTL(72)">3 days</button>              <button mat-menu-item (click)="setTemporaryMessageTTL(168)">7 days</button>            </mat-menu>          </div>        </div>        <!-- Send Button -->        <button          mat-fab          [color]="temporaryMessageMode ? \'accent\' : \'primary\'"          class="send-button"          (click)="sendMessage()"          [disabled]="!canSendMessage()"          [matTooltip]="temporaryMessageMode ? \'Send temporary message\' : \'Send message\'"        >          <mat-icon>send</mat-icon>        </button>      </div>      <!-- Emoji Picker (hidden by default) -->      <div *ngIf="showEmojiPicker" class="emoji-picker">        <div class="emoji-categories">          <button            mat-icon-button            *ngFor="let category of emojiCategories"            (click)="selectEmojiCategory(category)"          >            <mat-icon>{{ category.icon }}</mat-icon>          </button>        </div>        <div class="emoji-list">          <button            *ngFor="let emoji of currentCategoryEmojis"            class="emoji-item"            (click)="addEmoji(emoji)"          >            {{ emoji }}          </button>        </div>      </div>    </div>    <!-- Empty State (No Conversation Selected) -->    <div *ngIf="!selectedContactId" class="empty-state">      <div class="empty-state-content">        <mat-icon class="empty-icon">chat</mat-icon>        <h3>Select a conversation</h3>        <p>Choose a contact from the list to start chatting</p>        <button mat-raised-button color="primary" (click)="openNewMessageDialog()">          <mat-icon>add</mat-icon>          Start a new chat        </button>      </div>    </div>  </div></div><!-- New Message Dialog Template --><ng-template #newMessageDialog>  <h2 mat-dialog-title>New Message</h2>  <mat-dialog-content>    <mat-form-field appearance="outline" class="full-width">      <mat-label>Search contacts</mat-label>      <input matInput [(ngModel)]="newMessageSearch" placeholder="Type a name..." />      <mat-icon matPrefix>search</mat-icon>    </mat-form-field>    <div class="contact-list">      <div        *ngFor="let contact of filteredNewMessageContacts"        class="contact-option"        (click)="selectNewMessageContact(contact)"      >        <emerald-avatar          [imageUrl]="contact.imageUrl"          [name]="contact.name"          [isOnline]="contact.online"          size="small"        >        </emerald-avatar>        <div class="contact-name">{{ contact.name }}</div>      </div>      <div *ngIf="filteredNewMessageContacts.length === 0" class="no-contacts">        <p>No contacts found</p>      </div>    </div>  </mat-dialog-content>  <mat-dialog-actions align="end">    <button mat-button mat-dialog-close>Cancel</button>  </mat-dialog-actions></ng-template><!-- Image Preview Dialog Template --><ng-template #imagePreviewDialog>  <div class="image-preview-container">    <button mat-icon-button class="close-button" mat-dialog-close>      <mat-icon>close</mat-icon>    </button>    <Image [src]="previewImage?.url" [alt]="previewImage?.name" class="preview-image" />    <div class="image-preview-actions">      <button mat-icon-button matTooltip="Download" (click)="downloadImage()">        <mat-icon>download</mat-icon>      </button>      <button mat-icon-button matTooltip="Share" (click)="shareImage()">        <mat-icon>share</mat-icon>      </button>    </div>  </div></ng-template><!-- Search in Chat Dialog Template --><ng-template #searchInChatDialog>  <h2 mat-dialog-title>Search in Conversation</h2>  <mat-dialog-content>    <mat-form-field appearance="outline" class="full-width">      <mat-label>Search messages</mat-label>      <input matInput [(ngModel)]="chatSearchQuery" placeholder="Type to search..." />      <mat-icon matPrefix>search</mat-icon>    </mat-form-field>    <div class="search-results">      <div        *ngFor="let result of chatSearchResults"        class="search-result-item"        (click)="scrollToMessage(result)"      >        <div class="result-sender">{{ result.sender.username }}</div>        <div class="result-message" [innerHTML]="highlightSearchText(result.message)"></div>        <div class="result-time">{{ result.timestamp | date: \'short\' }}</div>      </div>      <div *ngIf="chatSearchResults.length === 0 && chatSearchQuery" class="no-results">        <p>No messages found</p>      </div>    </div>  </mat-dialog-content>  <mat-dialog-actions align="end">    <button mat-button mat-dialog-close>Close</button>  </mat-dialog-actions></ng-template><!-- Media Gallery Dialog Template --><ng-template #mediaGalleryDialog>  <h2 mat-dialog-title>Media Gallery</h2>  <mat-dialog-content>    <div class="gallery-tabs">      <button mat-button [class.active]="galleryTab === \'images\'" (click)="galleryTab = \'images\'">        Images      </button>      <button mat-button [class.active]="galleryTab === \'files\'" (click)="galleryTab = \'files\'">        Files      </button>      <button mat-button [class.active]="galleryTab === \'links\'" (click)="galleryTab = \'links\'">        Links      </button>    </div>    <!-- Images Tab -->    <div *ngIf="galleryTab === \'images\'" class="gallery-images">      <div        *ngFor="let image of galleryImages"        class="gallery-image"        (click)="openImagePreview(image)"      >        <Image [src]="image.url" [alt]="image.name" />      </div>      <div *ngIf="galleryImages.length === 0" class="no-media">        <p>No images shared in this conversation</p>      </div>    </div>    <!-- Files Tab -->    <div *ngIf="galleryTab === \'files\'" class="gallery-files">      <div        *ngFor="let file of galleryFiles"        class="gallery-file"        (click)="downloadAttachment(file)"      >        <mat-icon>{{ getFileIcon(file) }}</mat-icon>        <div class="file-info">          <div class="file-name">{{ file.name }}</div>          <div class="file-meta">            <span class="file-size">{{ formatFileSize(file.size) }}</span>            <span class="file-date">{{ file.timestamp | date: \'shortDate\' }}</span>          </div>        </div>        <button mat-icon-button>          <mat-icon>download</mat-icon>        </button>      </div>      <div *ngIf="galleryFiles.length === 0" class="no-media">        <p>No files shared in this conversation</p>      </div>    </div>    <!-- Links Tab -->    <div *ngIf="galleryTab === \'links\'" class="gallery-links">      <div *ngFor="let link of galleryLinks" class="gallery-link" (click)="openLink(link.url)">        <mat-icon>link</mat-icon>        <div class="link-info">          <div class="link-title">{{ link.title || link.url }}</div>          <div class="link-url">{{ link.url }}</div>        </div>        <div class="link-date">{{ link.timestamp | date: \'shortDate\' }}</div>      </div>      <div *ngIf="galleryLinks.length === 0" class="no-media">        <p>No links shared in this conversation</p>      </div>    </div>  </mat-dialog-content>  <mat-dialog-actions align="end">    <button mat-button mat-dialog-close>Close</button>  </mat-dialog-actions></ng-template></div>'
    var COMPONENTS = [{'name': 'AdBrowserComponent', 'selector': 'app-ad-browser'},{'name': 'AdCardComponent', 'selector': 'app-ad-card'},{'name': 'AdCreateComponent', 'selector': 'app-ad-create'},{'name': 'AdDetailComponent', 'selector': 'app-ad-detail'},{'name': 'AdDetailsComponent', 'selector': 'app-ad-details'},{'name': 'AddPaymentMethodDialogComponent', 'selector': 'app-add-payment-method-dialog'},{'name': 'AdFormComponent', 'selector': 'app-ad-form'},{'name': 'AdListComponent', 'selector': 'app-ad-list'},{'name': 'AdListComponent', 'selector': 'app-ad-list'},{'name': 'AdManagementComponent', 'selector': 'app-ad-management'},{'name': 'AdStatsComponent', 'selector': 'app-ad-stats'},{'name': 'AdvertiserProfileComponent', 'selector': 'app-advertiser-profile'},{'name': 'AlertFormDialogComponent', 'selector': 'app-alert-form-dialog'},{'name': 'AlertManagementComponent', 'selector': 'app-alert-management'},{'name': 'AlertNotificationsComponent', 'selector': 'app-alert-notifications'},{'name': 'AppCardComponent', 'selector': 'emerald-app-card'},{'name': 'AppCardComponent', 'selector': 'emerald-app-card'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AvatarComponent', 'selector': 'emerald-avatar'},{'name': 'BreadcrumbsComponent', 'selector': 'app-breadcrumbs'},{'name': 'BrowseComponent', 'selector': 'app-browse'},{'name': 'ButtonComponent', 'selector': 'app-button'},{'name': 'CardComponent', 'selector': 'app-card'},{'name': 'CardGridComponent', 'selector': 'emerald-card-grid'},{'name': 'CardGridComponent', 'selector': 'emerald-card-grid'},{'name': 'CarouselComponent', 'selector': 'emerald-carousel'},{'name': 'ChatComponent', 'selector': 'app-chat'},{'name': 'ChatListComponent', 'selector': 'app-chat-list'},{'name': 'ChatMessageComponent', 'selector': 'app-chat-message'},{'name': 'ChatRoomComponent', 'selector': 'app-chat-room'},{'name': 'ChatSettingsComponent', 'selector': 'app-chat-settings'},{'name': 'CheckboxComponent', 'selector': 'app-checkbox'},{'name': 'ComponentNameComponent', 'selector': 'app-component-name'},{'name': 'ContentModerationComponent', 'selector': 'app-content-moderation'},{'name': 'ContextualHelpComponent', 'selector': 'app-contextual-help'},{'name': 'CreateErrorAlertComponent', 'selector': 'app-create-error-alert'},{'name': 'DebugInfoComponent', 'selector': 'app-debug-info'},{'name': 'DepositDialogComponent', 'selector': 'app-deposit-dialog'},{'name': 'DesignSystemDemoComponent', 'selector': 'app-design-system-demo'},{'name': 'EditProfileComponent', 'selector': 'app-edit-profile'},{'name': 'ErrorDashboardComponent', 'selector': 'app-error-dashboard'},{'name': 'ErrorDashboardComponent', 'selector': 'app-error-dashboard'},{'name': 'ErrorMessageComponent', 'selector': 'app-error-message'},{'name': 'FavoriteButtonComponent', 'selector': 'app-favorite-button'},{'name': 'FavoriteDialogComponent', 'selector': 'app-favorite-dialog'},{'name': 'FavoritesComponent', 'selector': 'app-favorites'},{'name': 'FavoritesListComponent', 'selector': 'app-favorites-list'},{'name': 'FavoritesPageComponent', 'selector': 'app-favorites-page'},{'name': 'FeatureTourComponent', 'selector': 'app-feature-tour'},{'name': 'FloatingActionButtonComponent', 'selector': 'emerald-floating-action-button'},{'name': 'GalleryComponent', 'selector': 'app-gallery'},{'name': 'GalleryManagementComponent', 'selector': 'app-gallery-management'},{'name': 'IconComponent', 'selector': 'app-icon'},{'name': 'ImageGalleryComponent', 'selector': 'app-image-gallery'},{'name': 'InfoPanelComponent', 'selector': 'emerald-info-panel'},{'name': 'InputComponent', 'selector': 'app-input'},{'name': 'LabelComponent', 'selector': 'emerald-label'},{'name': 'ListViewComponent', 'selector': 'app-list-view'},{'name': 'LoadingSpinnerComponent', 'selector': 'app-loading-spinner'},{'name': 'LocationMatchingComponent', 'selector': 'app-location-matching'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'MainLayoutComponent', 'selector': 'app-main-layout'},{'name': 'MapComponent', 'selector': 'app-map'},{'name': 'MockAppCardComponent', 'selector': 'emerald-app-card'},{'name': 'MockMainLayoutComponent', 'selector': 'app-main-layout'},{'name': 'MockSkeletonLoaderComponent', 'selector': 'emerald-skeleton-loader'},{'name': 'ModerationModalComponent', 'selector': 'app-moderation-modal'},{'name': 'NetflixViewComponent', 'selector': 'app-netflix-view'},{'name': 'NotesDialogComponent', 'selector': 'app-notes-dialog'},{'name': 'NotificationComponent', 'selector': 'app-notification'},{'name': 'OnboardingChecklistComponent', 'selector': 'app-onboarding-checklist'},{'name': 'OnboardingComponent', 'selector': 'app-onboarding'},{'name': 'OptimizedImageComponent', 'selector': 'app-optimized-image'},{'name': 'PageHeaderComponent', 'selector': 'emerald-page-header'},{'name': 'PagerComponent', 'selector': 'emerald-pager'},{'name': 'PaymentComponent', 'selector': 'app-payment'},{'name': 'PerformanceDashboardComponent', 'selector': 'app-performance-dashboard'},{'name': 'PerformanceDashboardComponent', 'selector': 'app-performance-dashboard'},{'name': 'PreferencesDemoComponent', 'selector': 'app-preferences-demo'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'ReportDialogComponent', 'selector': 'app-report-dialog'},{'name': 'ResponseDialogComponent', 'selector': 'app-response-dialog'},{'name': 'ReviewDialogComponent', 'selector': 'app-review-dialog'},{'name': 'ReviewDisplayComponent', 'selector': 'app-review-display'},{'name': 'ReviewFormComponent', 'selector': 'app-review-form'},{'name': 'ReviewFormComponent', 'selector': 'app-review-form'},{'name': 'ReviewListComponent', 'selector': 'app-review-list'},{'name': 'ReviewsListComponent', 'selector': 'app-reviews-list'},{'name': 'ReviewsPageComponent', 'selector': 'app-reviews-page'},{'name': 'ReviewSummaryComponent', 'selector': 'app-review-summary'},{'name': 'SelectComponent', 'selector': 'app-select'},{'name': 'SkeletonLoaderComponent', 'selector': 'emerald-skeleton-loader'},{'name': 'StarRatingComponent', 'selector': 'app-star-rating'},{'name': 'SwipeViewComponent', 'selector': 'app-swipe-view'},{'name': 'TagsDialogComponent', 'selector': 'app-tags-dialog'},{'name': 'TelemetryDashboardComponent', 'selector': 'app-telemetry-dashboard'},{'name': 'TelemetryDashboardComponent', 'selector': 'app-telemetry-dashboard'},{'name': 'TelemetryDashboardComponent', 'selector': 'app-telemetry-dashboard'},{'name': 'ThemeToggleComponent', 'selector': 'app-theme-toggle'},{'name': 'TinderCardComponent', 'selector': 'app-tinder-card'},{'name': 'TinderCardComponent', 'selector': 'emerald-tinder-card'},{'name': 'TinderComponent', 'selector': 'app-tinder'},{'name': 'ToggleComponent', 'selector': 'emerald-toggle'},{'name': 'TouringComponent', 'selector': 'app-touring'},{'name': 'TransactionDetailsDialogComponent', 'selector': 'app-transaction-details-dialog'},{'name': 'TransferDialogComponent', 'selector': 'app-transfer-dialog'},{'name': 'TravelItineraryComponent', 'selector': 'app-travel-itinerary'},{'name': 'UserSettingsComponent', 'selector': 'app-user-settings'},{'name': 'WalletComponent', 'selector': 'app-wallet'},{'name': 'WithdrawDialogComponent', 'selector': 'app-withdraw-dialog'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'ChatComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ChatComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
