2025-04-16T15:02:22.6927772Z Current runner version: '2.323.0'
2025-04-16T15:02:22.6994462Z ##[group]Operating System
2025-04-16T15:02:22.6996048Z Ubuntu
2025-04-16T15:02:22.6996956Z 24.04.2
2025-04-16T15:02:22.6997886Z LTS
2025-04-16T15:02:22.6998958Z ##[endgroup]
2025-04-16T15:02:22.6999820Z ##[group]Runner Image
2025-04-16T15:02:22.7000874Z Image: ubuntu-24.04
2025-04-16T15:02:22.7002357Z Version: 20250413.1.0
2025-04-16T15:02:22.7004589Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250413.1/images/ubuntu/Ubuntu2404-Readme.md
2025-04-16T15:02:22.7007245Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250413.1
2025-04-16T15:02:22.7009076Z ##[endgroup]
2025-04-16T15:02:22.7010021Z ##[group]Runner Image Provisioner
2025-04-16T15:02:22.7011088Z 2.0.422.1
2025-04-16T15:02:22.7012146Z ##[endgroup]
2025-04-16T15:02:22.7014278Z ##[group]GITHUB_TOKEN Permissions
2025-04-16T15:02:22.7017321Z Actions: read
2025-04-16T15:02:22.7018208Z Contents: write
2025-04-16T15:02:22.7019295Z Metadata: read
2025-04-16T15:02:22.7020470Z ##[endgroup]
2025-04-16T15:02:22.7023344Z Secret source: Actions
2025-04-16T15:02:22.7025122Z Prepare workflow directory
2025-04-16T15:02:22.7497789Z Prepare all required actions
2025-04-16T15:02:22.7553454Z Getting action download info
2025-04-16T15:02:23.2708610Z ##[group]Download immutable action package 'actions/checkout@v4'
2025-04-16T15:02:23.2709777Z Version: 4.2.2
2025-04-16T15:02:23.2710936Z Digest: sha256:ccb2698953eaebd21c7bf6268a94f9c26518a7e38e27e0b83c1fe1ad049819b1
2025-04-16T15:02:23.2712377Z Source commit SHA: 11bd71901bbe5b1630ceea73d27597364c9af683
2025-04-16T15:02:23.2713234Z ##[endgroup]
2025-04-16T15:02:23.6407806Z ##[group]Download immutable action package 'actions/setup-node@v4'
2025-04-16T15:02:23.6408741Z Version: 4.4.0
2025-04-16T15:02:23.6409618Z Digest: sha256:9427cefe82346e992fb5b949e3569b39d537ae41aa3086483b14eceebfc16bc1
2025-04-16T15:02:23.6410722Z Source commit SHA: 49933ea5288caeca8642d1e84afbd3f7d6820020
2025-04-16T15:02:23.6411632Z ##[endgroup]
2025-04-16T15:02:24.1660078Z Complete job name: sync-error-logs
2025-04-16T15:02:24.2318854Z ##[group]Run actions/checkout@v4
2025-04-16T15:02:24.2319704Z with:
2025-04-16T15:02:24.2320101Z   fetch-depth: 0
2025-04-16T15:02:24.2320540Z   repository: mrkurger/date-night-app2
2025-04-16T15:02:24.2321230Z   token: ***
2025-04-16T15:02:24.2321625Z   ssh-strict: true
2025-04-16T15:02:24.2322032Z   ssh-user: git
2025-04-16T15:02:24.2322443Z   persist-credentials: true
2025-04-16T15:02:24.2322916Z   clean: true
2025-04-16T15:02:24.2323338Z   sparse-checkout-cone-mode: true
2025-04-16T15:02:24.2324095Z   fetch-tags: false
2025-04-16T15:02:24.2324627Z   show-progress: true
2025-04-16T15:02:24.2325050Z   lfs: false
2025-04-16T15:02:24.2325439Z   submodules: false
2025-04-16T15:02:24.2325858Z   set-safe-directory: true
2025-04-16T15:02:24.2326609Z env:
2025-04-16T15:02:24.2326985Z   CI: true
2025-04-16T15:02:24.2327365Z ##[endgroup]
2025-04-16T15:02:25.9683472Z Syncing repository: mrkurger/date-night-app2
2025-04-16T15:02:25.9685391Z ##[group]Getting Git version info
2025-04-16T15:02:25.9685990Z Working directory is '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:02:25.9686737Z [command]/usr/bin/git version
2025-04-16T15:02:26.0961319Z git version 2.49.0
2025-04-16T15:02:26.1038708Z ##[endgroup]
2025-04-16T15:02:26.1068151Z Temporarily overriding HOME='/home/runner/work/_temp/d8a4a0e6-06d7-4662-93db-a954fa4e5344' before making global git config changes
2025-04-16T15:02:26.1071807Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:02:26.1076338Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:02:26.1160522Z Deleting the contents of '/home/runner/work/date-night-app2/date-night-app2'
2025-04-16T15:02:26.1165579Z ##[group]Initializing the repository
2025-04-16T15:02:26.1171279Z [command]/usr/bin/git init /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:02:26.1535075Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-04-16T15:02:26.1537971Z hint: is subject to change. To configure the initial branch name to use in all
2025-04-16T15:02:26.1539546Z hint: of your new repositories, which will suppress this warning, call:
2025-04-16T15:02:26.1540677Z hint:
2025-04-16T15:02:26.1542292Z hint: 	git config --global init.defaultBranch <name>
2025-04-16T15:02:26.1543527Z hint:
2025-04-16T15:02:26.1545269Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-04-16T15:02:26.1546567Z hint: 'development'. The just-created branch can be renamed via this command:
2025-04-16T15:02:26.1547515Z hint:
2025-04-16T15:02:26.1548787Z hint: 	git branch -m <name>
2025-04-16T15:02:26.1626617Z Initialized empty Git repository in /home/runner/work/date-night-app2/date-night-app2/.git/
2025-04-16T15:02:26.1643052Z [command]/usr/bin/git remote add origin https://github.com/mrkurger/date-night-app2
2025-04-16T15:02:26.1728421Z ##[endgroup]
2025-04-16T15:02:26.1731433Z ##[group]Disabling automatic garbage collection
2025-04-16T15:02:26.1733292Z [command]/usr/bin/git config --local gc.auto 0
2025-04-16T15:02:26.1767923Z ##[endgroup]
2025-04-16T15:02:26.1768759Z ##[group]Setting up auth
2025-04-16T15:02:26.1775542Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:02:26.1808979Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:02:26.3262582Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:02:26.3296189Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:02:26.3551025Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-04-16T15:02:26.3630904Z ##[endgroup]
2025-04-16T15:02:26.3632108Z ##[group]Fetching the repository
2025-04-16T15:02:26.3635753Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/*
2025-04-16T15:02:35.1869404Z From https://github.com/mrkurger/date-night-app2
2025-04-16T15:02:35.1878287Z  * [new branch]      dependabot/github_actions/dawidd6/action-download-artifact-9 -> origin/dependabot/github_actions/dawidd6/action-download-artifact-9
2025-04-16T15:02:35.1884267Z  * [new branch]      dependabot/npm_and_yarn/server/multi-94fa72f662 -> origin/dependabot/npm_and_yarn/server/multi-94fa72f662
2025-04-16T15:02:35.1889167Z  * [new branch]      main       -> origin/main
2025-04-16T15:02:35.1933672Z [command]/usr/bin/git branch --list --remote origin/main
2025-04-16T15:02:35.1954681Z   origin/main
2025-04-16T15:02:35.1968739Z [command]/usr/bin/git rev-parse refs/remotes/origin/main
2025-04-16T15:02:35.1990670Z b7b02b02b67d186f71e3b6a43ebe9f432064fd3a
2025-04-16T15:02:35.2002558Z ##[endgroup]
2025-04-16T15:02:35.2003258Z ##[group]Determining the checkout info
2025-04-16T15:02:35.2004367Z ##[endgroup]
2025-04-16T15:02:35.2013176Z [command]/usr/bin/git sparse-checkout disable
2025-04-16T15:02:35.2102311Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-04-16T15:02:35.2151809Z ##[group]Checking out the ref
2025-04-16T15:02:35.2152523Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-04-16T15:02:35.5902917Z Switched to a new branch 'main'
2025-04-16T15:02:35.5908402Z branch 'main' set up to track 'origin/main'.
2025-04-16T15:02:35.5936754Z ##[endgroup]
2025-04-16T15:02:35.6004597Z [command]/usr/bin/git log -1 --format=%H
2025-04-16T15:02:35.6033220Z b7b02b02b67d186f71e3b6a43ebe9f432064fd3a
2025-04-16T15:02:35.6262831Z ##[group]Run actions/setup-node@v4
2025-04-16T15:02:35.6263124Z with:
2025-04-16T15:02:35.6263507Z   node-version: 22.x
2025-04-16T15:02:35.6263709Z   always-auth: false
2025-04-16T15:02:35.6264178Z   check-latest: false
2025-04-16T15:02:35.6264503Z   token: ***
2025-04-16T15:02:35.6264695Z env:
2025-04-16T15:02:35.6264857Z   CI: true
2025-04-16T15:02:35.6265036Z ##[endgroup]
2025-04-16T15:02:35.8010992Z Found in cache @ /opt/hostedtoolcache/node/22.14.0/x64
2025-04-16T15:02:35.8018492Z ##[group]Environment details
2025-04-16T15:02:46.3555831Z node: v22.14.0
2025-04-16T15:02:46.3556745Z npm: 10.9.2
2025-04-16T15:02:46.3557284Z yarn: 1.22.22
2025-04-16T15:02:46.3558792Z ##[endgroup]
2025-04-16T15:02:46.3670758Z ##[group]Run npm install @octokit/rest@19.0.13 fs-extra@11.2.0
2025-04-16T15:02:46.3671283Z [36;1mnpm install @octokit/rest@19.0.13 fs-extra@11.2.0[0m
2025-04-16T15:02:46.3726408Z shell: /usr/bin/bash -e {0}
2025-04-16T15:02:46.3726718Z env:
2025-04-16T15:02:46.3726942Z   CI: true
2025-04-16T15:02:46.3727169Z ##[endgroup]
2025-04-16T15:02:56.4215959Z npm warn deprecated xss-clean@0.1.4: Package no longer supported. Contact Support at https://www.npmjs.com/support for more info.
2025-04-16T15:02:57.7155496Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-04-16T15:02:58.1509081Z npm warn deprecated passport-reddit@1.1.0: While functionally complete, this library will not be receiving any updates going forwards. Users are actively discouraged from using OAuth2 for authentication. See archival notice on github for more details.
2025-04-16T15:02:58.3094589Z npm warn deprecated superagent@8.1.2: Please upgrade to v9.0.0+ as we have fixed a public vulnerability with formidable dependency. Note that v9.0.0+ requires Node.js v14.18.0+. See https://github.com/ladjs/superagent/pull/1800 for insight. This project is supported and maintained by the team at Forward Email @ https://forwardemail.net
2025-04-16T15:02:58.5037946Z npm warn deprecated npmlog@5.0.1: This package is no longer supported.
2025-04-16T15:02:59.5231102Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-04-16T15:02:59.7622167Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-04-16T15:03:00.1370461Z npm warn deprecated gauge@3.0.2: This package is no longer supported.
2025-04-16T15:03:00.6196614Z npm warn deprecated domexception@4.0.0: Use your platform's native DOMException instead
2025-04-16T15:03:01.5954388Z npm warn deprecated are-we-there-yet@2.0.0: This package is no longer supported.
2025-04-16T15:03:01.7612874Z npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead
2025-04-16T15:03:03.1530205Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2025-04-16T15:03:03.2172889Z npm warn deprecated @humanwhocodes/config-array@0.11.14: Use @eslint/config-array instead
2025-04-16T15:03:11.5510236Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:03:11.5527936Z npm warn deprecated eslint@8.56.0: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2025-04-16T15:03:35.8906224Z 
2025-04-16T15:03:35.8906981Z added 1914 packages, and audited 1917 packages in 49s
2025-04-16T15:03:35.8907448Z 
2025-04-16T15:03:35.8907740Z 354 packages are looking for funding
2025-04-16T15:03:35.8908249Z   run `npm fund` for details
2025-04-16T15:03:35.9089946Z 
2025-04-16T15:03:35.9095016Z 9 moderate severity vulnerabilities
2025-04-16T15:03:35.9095704Z 
2025-04-16T15:03:35.9096387Z To address issues that do not require attention, run:
2025-04-16T15:03:35.9097127Z   npm audit fix
2025-04-16T15:03:35.9097502Z 
2025-04-16T15:03:35.9098056Z To address all issues (including breaking changes), run:
2025-04-16T15:03:35.9098809Z   npm audit fix --force
2025-04-16T15:03:35.9099777Z 
2025-04-16T15:03:35.9100137Z Run `npm audit` for details.
2025-04-16T15:03:35.9910570Z ##[group]Run cat > fetch-workflow-logs.js << 'EOF'
2025-04-16T15:03:35.9911386Z [36;1mcat > fetch-workflow-logs.js << 'EOF'[0m
2025-04-16T15:03:35.9911767Z [36;1mconst { Octokit } = require('@octokit/rest');[0m
2025-04-16T15:03:35.9912128Z [36;1mconst fs = require('fs-extra');[0m
2025-04-16T15:03:35.9912451Z [36;1mconst path = require('path');[0m
2025-04-16T15:03:35.9912754Z [36;1m[0m
2025-04-16T15:03:35.9912968Z [36;1masync function main() {[0m
2025-04-16T15:03:35.9913274Z [36;1m  const owner = process.env.REPO_OWNER;[0m
2025-04-16T15:03:35.9913627Z [36;1m  const repo = process.env.REPO_NAME;[0m
2025-04-16T15:03:35.9914346Z [36;1m  const logsDir = path.join('workflow-error-logs');[0m
2025-04-16T15:03:35.9914704Z [36;1m  [0m
2025-04-16T15:03:35.9915004Z [36;1m  console.log(`Fetching workflow logs for ${owner}/${repo}`);[0m
2025-04-16T15:03:35.9915386Z [36;1m  [0m
2025-04-16T15:03:35.9915663Z [36;1m  // Create logs directory if it doesn't exist[0m
2025-04-16T15:03:35.9916048Z [36;1m  await fs.ensureDir(logsDir);[0m
2025-04-16T15:03:35.9916343Z [36;1m  [0m
2025-04-16T15:03:35.9916563Z [36;1m  const octokit = new Octokit({[0m
2025-04-16T15:03:35.9916897Z [36;1m    auth: process.env.GITHUB_TOKEN,[0m
2025-04-16T15:03:35.9917214Z [36;1m    request: {[0m
2025-04-16T15:03:35.9917455Z [36;1m      retries: 3,[0m
2025-04-16T15:03:35.9917718Z [36;1m      retryAfter: 1[0m
2025-04-16T15:03:35.9917970Z [36;1m    }[0m
2025-04-16T15:03:35.9918178Z [36;1m  });[0m
2025-04-16T15:03:35.9918373Z [36;1m  [0m
2025-04-16T15:03:35.9918691Z [36;1m  // Get all workflows[0m
2025-04-16T15:03:35.9919129Z [36;1m  const { data: workflows } = await octokit.actions.listRepoWorkflows({[0m
2025-04-16T15:03:35.9919547Z [36;1m    owner,[0m
2025-04-16T15:03:35.9919774Z [36;1m    repo,[0m
2025-04-16T15:03:35.9919986Z [36;1m  });[0m
2025-04-16T15:03:35.9920201Z [36;1m  [0m
2025-04-16T15:03:35.9920443Z [36;1m  // Get recent workflow runs (last 30 days)[0m
2025-04-16T15:03:35.9920793Z [36;1m  const thirtyDaysAgo = new Date();[0m
2025-04-16T15:03:35.9921164Z [36;1m  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);[0m
2025-04-16T15:03:35.9921504Z [36;1m  [0m
2025-04-16T15:03:35.9921758Z [36;1m  for (const workflow of workflows.workflows) {[0m
2025-04-16T15:03:35.9922200Z [36;1m    console.log(`Processing workflow: ${workflow.name} (${workflow.id})`);[0m
2025-04-16T15:03:35.9922605Z [36;1m    [0m
2025-04-16T15:03:35.9922792Z [36;1m    try {[0m
2025-04-16T15:03:35.9923107Z [36;1m      const { data: runs } = await octokit.actions.listWorkflowRuns({[0m
2025-04-16T15:03:35.9923473Z [36;1m        owner,[0m
2025-04-16T15:03:35.9923695Z [36;1m        repo,[0m
2025-04-16T15:03:35.9924229Z [36;1m        workflow_id: workflow.id,[0m
2025-04-16T15:03:35.9924596Z [36;1m        created: `>=${thirtyDaysAgo.toISOString().split('T')[0]}`,[0m
2025-04-16T15:03:35.9924962Z [36;1m      });[0m
2025-04-16T15:03:35.9925162Z [36;1m      [0m
2025-04-16T15:03:35.9925382Z [36;1m      // Process failed runs[0m
2025-04-16T15:03:35.9925722Z [36;1m      const failedRuns = runs.workflow_runs.filter(run => [0m
2025-04-16T15:03:35.9926264Z [36;1m        run.conclusion === 'failure' || run.conclusion === 'cancelled' || run.conclusion === 'timed_out'[0m
2025-04-16T15:03:35.9926742Z [36;1m      );[0m
2025-04-16T15:03:35.9926933Z [36;1m      [0m
2025-04-16T15:03:35.9927287Z [36;1m      console.log(`Found ${failedRuns.length} failed runs for ${workflow.name}`);[0m
2025-04-16T15:03:35.9927695Z [36;1m      [0m
2025-04-16T15:03:35.9927917Z [36;1m      for (const run of failedRuns) {[0m
2025-04-16T15:03:35.9928319Z [36;1m        const runDate = new Date(run.created_at).toISOString().split('T')[0];[0m
2025-04-16T15:03:35.9928948Z [36;1m        const workflowDir = path.join(logsDir, workflow.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:03:35.9929556Z [36;1m        const runDir = path.join(workflowDir, `${runDate}_${run.id}`);[0m
2025-04-16T15:03:35.9930273Z [36;1m        [0m
2025-04-16T15:03:35.9930509Z [36;1m        await fs.ensureDir(runDir);[0m
2025-04-16T15:03:35.9930783Z [36;1m        [0m
2025-04-16T15:03:35.9930995Z [36;1m        // Save run metadata[0m
2025-04-16T15:03:35.9931399Z [36;1m        await fs.writeJson(path.join(runDir, 'metadata.json'), run, { spaces: 2 });[0m
2025-04-16T15:03:35.9931807Z [36;1m        [0m
2025-04-16T15:03:35.9932008Z [36;1m        try {[0m
2025-04-16T15:03:35.9932242Z [36;1m          // Get jobs for this run[0m
2025-04-16T15:03:35.9932647Z [36;1m          const { data: jobs } = await octokit.actions.listJobsForWorkflowRun({[0m
2025-04-16T15:03:35.9933039Z [36;1m            owner,[0m
2025-04-16T15:03:35.9933277Z [36;1m            repo,[0m
2025-04-16T15:03:35.9933513Z [36;1m            run_id: run.id,[0m
2025-04-16T15:03:35.9933769Z [36;1m          });[0m
2025-04-16T15:03:35.9934100Z [36;1m          [0m
2025-04-16T15:03:35.9934321Z [36;1m          // Save jobs metadata[0m
2025-04-16T15:03:35.9934729Z [36;1m          await fs.writeJson(path.join(runDir, 'jobs.json'), jobs, { spaces: 2 });[0m
2025-04-16T15:03:35.9935125Z [36;1m          [0m
2025-04-16T15:03:35.9935343Z [36;1m          // Process each job[0m
2025-04-16T15:03:35.9935625Z [36;1m          for (const job of jobs.jobs) {[0m
2025-04-16T15:03:35.9936118Z [36;1m            if (job.conclusion === 'failure' || job.conclusion === 'cancelled' || job.conclusion === 'timed_out') {[0m
2025-04-16T15:03:35.9936778Z [36;1m              const jobDir = path.join(runDir, job.name.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase());[0m
2025-04-16T15:03:35.9937248Z [36;1m              await fs.ensureDir(jobDir);[0m
2025-04-16T15:03:35.9937533Z [36;1m              [0m
2025-04-16T15:03:35.9937763Z [36;1m              // Save job metadata[0m
2025-04-16T15:03:35.9938202Z [36;1m              await fs.writeJson(path.join(jobDir, 'job-metadata.json'), job, { spaces: 2 });[0m
2025-04-16T15:03:35.9938639Z [36;1m              [0m
2025-04-16T15:03:35.9938867Z [36;1m              try {[0m
2025-04-16T15:03:35.9939103Z [36;1m                // Get job logs[0m
2025-04-16T15:03:35.9939502Z [36;1m                const logs = await octokit.actions.downloadJobLogsForWorkflowRun({[0m
2025-04-16T15:03:35.9939905Z [36;1m                  owner,[0m
2025-04-16T15:03:35.9940160Z [36;1m                  repo,[0m
2025-04-16T15:03:35.9940409Z [36;1m                  job_id: job.id,[0m
2025-04-16T15:03:35.9940686Z [36;1m                });[0m
2025-04-16T15:03:35.9940904Z [36;1m                [0m
2025-04-16T15:03:35.9941109Z [36;1m                // Save logs[0m
2025-04-16T15:03:35.9941450Z [36;1m                await fs.writeFile(path.join(jobDir, 'logs.txt'), logs.data);[0m
2025-04-16T15:03:35.9941883Z [36;1m                console.log(`Saved logs for job ${job.name} (${job.id})`);[0m
2025-04-16T15:03:35.9942220Z [36;1m              } catch (error) {[0m
2025-04-16T15:03:35.9942631Z [36;1m                console.error(`Error fetching logs for job ${job.id}: ${error.message}`);[0m
2025-04-16T15:03:35.9943207Z [36;1m                await fs.writeFile(path.join(jobDir, 'error.txt'), `Error fetching logs: ${error.message}`);[0m
2025-04-16T15:03:35.9943646Z [36;1m              }[0m
2025-04-16T15:03:35.9943943Z [36;1m            }[0m
2025-04-16T15:03:35.9944144Z [36;1m          }[0m
2025-04-16T15:03:35.9944345Z [36;1m        } catch (error) {[0m
2025-04-16T15:03:35.9944696Z [36;1m          console.error(`Error processing run ${run.id}: ${error.message}`);[0m
2025-04-16T15:03:35.9945250Z [36;1m          await fs.writeFile(path.join(runDir, 'error.txt'), `Error processing run: ${error.message}`);[0m
2025-04-16T15:03:35.9945675Z [36;1m        }[0m
2025-04-16T15:03:35.9945862Z [36;1m      }[0m
2025-04-16T15:03:35.9946049Z [36;1m    } catch (error) {[0m
2025-04-16T15:03:35.9946427Z [36;1m      console.error(`Error processing workflow ${workflow.id}: ${error.message}`);[0m
2025-04-16T15:03:35.9946988Z [36;1m    }[0m
2025-04-16T15:03:35.9947281Z [36;1m  }[0m
2025-04-16T15:03:35.9947461Z [36;1m  [0m
2025-04-16T15:03:35.9947643Z [36;1m  // Create summary file[0m
2025-04-16T15:03:35.9947886Z [36;1m  const summary = {[0m
2025-04-16T15:03:35.9948132Z [36;1m    timestamp: new Date().toISOString(),[0m
2025-04-16T15:03:35.9948466Z [36;1m    totalWorkflows: workflows.workflows.length,[0m
2025-04-16T15:03:35.9948833Z [36;1m    workflowSummary: workflows.workflows.map(w => ({[0m
2025-04-16T15:03:35.9949144Z [36;1m      name: w.name,[0m
2025-04-16T15:03:35.9949364Z [36;1m      id: w.id,[0m
2025-04-16T15:03:35.9949569Z [36;1m      path: w.path,[0m
2025-04-16T15:03:35.9949783Z [36;1m    })),[0m
2025-04-16T15:03:35.9949957Z [36;1m  };[0m
2025-04-16T15:03:35.9950135Z [36;1m  [0m
2025-04-16T15:03:35.9950453Z [36;1m  await fs.writeJson(path.join(logsDir, 'summary.json'), summary, { spaces: 2 });[0m
2025-04-16T15:03:35.9950913Z [36;1m  console.log('Workflow error logs sync completed');[0m
2025-04-16T15:03:35.9951257Z [36;1m}[0m
2025-04-16T15:03:35.9951431Z [36;1m[0m
2025-04-16T15:03:35.9951616Z [36;1mmain().catch(error => {[0m
2025-04-16T15:03:35.9951902Z [36;1m  console.error('Error in main process:', error);[0m
2025-04-16T15:03:35.9952212Z [36;1m  process.exit(1);[0m
2025-04-16T15:03:35.9952425Z [36;1m});[0m
2025-04-16T15:03:35.9952602Z [36;1mEOF[0m
2025-04-16T15:03:35.9952768Z [36;1m[0m
2025-04-16T15:03:35.9952961Z [36;1mnode fetch-workflow-logs.js[0m
2025-04-16T15:03:36.0002236Z shell: /usr/bin/bash -e {0}
2025-04-16T15:03:36.0002500Z env:
2025-04-16T15:03:36.0002697Z   CI: true
2025-04-16T15:03:36.0003096Z   GITHUB_TOKEN: ***
2025-04-16T15:03:36.0003327Z   REPO_OWNER: mrkurger
2025-04-16T15:03:36.0003577Z   REPO_NAME: date-night-app2
2025-04-16T15:03:36.0004042Z ##[endgroup]
2025-04-16T15:03:36.0850950Z Fetching workflow logs for mrkurger/date-night-app2
2025-04-16T15:03:36.3398125Z Processing workflow: Angular Tests (156396503)
2025-04-16T15:03:37.0794504Z Found 23 failed runs for Angular Tests
2025-04-16T15:03:37.5717006Z Saved logs for job e2e (22.x) (40663459721)
2025-04-16T15:03:37.7310770Z Saved logs for job test (22.x) (40663459733)
2025-04-16T15:03:38.2857331Z Saved logs for job e2e (22.x) (40662876861)
2025-04-16T15:03:38.4744310Z Saved logs for job test (22.x) (40662876876)
2025-04-16T15:03:38.8411011Z Saved logs for job e2e (22.x) (40662340818)
2025-04-16T15:03:39.0114621Z Saved logs for job test (22.x) (40662340822)
2025-04-16T15:03:39.4866768Z Saved logs for job test (22.x) (40660813802)
2025-04-16T15:03:39.7067912Z Saved logs for job e2e (22.x) (40660813807)
2025-04-16T15:03:40.1746819Z Saved logs for job e2e (22.x) (40659963795)
2025-04-16T15:03:40.3191623Z Saved logs for job test (22.x) (40659963797)
2025-04-16T15:03:40.4688725Z Saved logs for job lint (22.x) (40659963816)
2025-04-16T15:03:41.0042366Z Saved logs for job e2e (22.x) (40658470007)
2025-04-16T15:03:41.1746871Z Saved logs for job lint (22.x) (40658470023)
2025-04-16T15:03:41.3465859Z Saved logs for job test (22.x) (40658470025)
2025-04-16T15:03:41.8757160Z Saved logs for job test (22.x) (40656595432)
2025-04-16T15:03:42.0343651Z Saved logs for job e2e (22.x) (40656595450)
2025-04-16T15:03:42.1896670Z Saved logs for job lint (22.x) (40656595451)
2025-04-16T15:03:42.5942248Z Saved logs for job lint (22.x) (40648995689)
2025-04-16T15:03:42.8045354Z Saved logs for job e2e (22.x) (40648995690)
2025-04-16T15:03:43.0126636Z Saved logs for job test (22.x) (40648995699)
2025-04-16T15:03:43.5499295Z Saved logs for job test (22.x) (40648936041)
2025-04-16T15:03:43.7561458Z Saved logs for job lint (22.x) (40648936049)
2025-04-16T15:03:43.9232065Z Saved logs for job e2e (22.x) (40648936088)
2025-04-16T15:03:44.4848730Z Saved logs for job test (22.x) (40645363558)
2025-04-16T15:03:44.6491688Z Saved logs for job e2e (22.x) (40645363568)
2025-04-16T15:03:44.7935921Z Saved logs for job lint (22.x) (40645363582)
2025-04-16T15:03:45.2472821Z Saved logs for job test (22.x) (40642315715)
2025-04-16T15:03:45.3835165Z Saved logs for job e2e (22.x) (40642315733)
2025-04-16T15:03:45.6190220Z Saved logs for job lint (22.x) (40642315744)
2025-04-16T15:03:46.0824762Z Saved logs for job test (22.x) (40640408484)
2025-04-16T15:03:46.2357989Z Saved logs for job e2e (22.x) (40640408487)
2025-04-16T15:03:46.4799828Z Saved logs for job lint (22.x) (40640408495)
2025-04-16T15:03:46.8639050Z Saved logs for job test (22.x) (40639200761)
2025-04-16T15:03:47.0394792Z Saved logs for job e2e (22.x) (40639200762)
2025-04-16T15:03:47.2738820Z Saved logs for job lint (22.x) (40639200772)
2025-04-16T15:03:47.8079217Z Saved logs for job test (22.x) (40638434179)
2025-04-16T15:03:47.9963491Z Saved logs for job lint (22.x) (40638434180)
2025-04-16T15:03:48.1572394Z Saved logs for job e2e (22.x) (40638434197)
2025-04-16T15:03:48.6136792Z Saved logs for job test (22.x) (40638117917)
2025-04-16T15:03:48.7976912Z Saved logs for job e2e (22.x) (40638117918)
2025-04-16T15:03:48.9663549Z Saved logs for job lint (22.x) (40638117931)
2025-04-16T15:03:49.4860851Z Saved logs for job test (22.x) (40637222574)
2025-04-16T15:03:49.6576599Z Saved logs for job e2e (22.x) (40637222590)
2025-04-16T15:03:49.8375145Z Saved logs for job lint (22.x) (40637222627)
2025-04-16T15:03:50.3078660Z Saved logs for job e2e (22.x) (40636317713)
2025-04-16T15:03:50.4806405Z Saved logs for job test (22.x) (40636317717)
2025-04-16T15:03:50.6534249Z Saved logs for job lint (22.x) (40636317718)
2025-04-16T15:03:51.1742853Z Saved logs for job test (22.x) (40635520017)
2025-04-16T15:03:51.3487472Z Saved logs for job e2e (22.x) (40635520024)
2025-04-16T15:03:51.5271347Z Saved logs for job lint (22.x) (40635520025)
2025-04-16T15:03:52.2015849Z Saved logs for job e2e (22.x) (40631138588)
2025-04-16T15:03:52.3659083Z Saved logs for job test (22.x) (40631138593)
2025-04-16T15:03:52.8207922Z Saved logs for job test (22.x) (40628452555)
2025-04-16T15:03:53.0340859Z Saved logs for job e2e (22.x) (40628452573)
2025-04-16T15:03:53.5839269Z Saved logs for job test (22.x) (40625114143)
2025-04-16T15:03:53.7522533Z Saved logs for job e2e (22.x) (40625114153)
2025-04-16T15:03:54.2111717Z Saved logs for job e2e (22.x) (40623556700)
2025-04-16T15:03:54.4059235Z Saved logs for job test (22.x) (40623556710)
2025-04-16T15:03:54.9241887Z Saved logs for job e2e (22.x) (40623232672)
2025-04-16T15:03:55.0915866Z Saved logs for job test (22.x) (40623232677)
2025-04-16T15:03:55.0918493Z Processing workflow: Security Alerts Report (Alternative) (156517337)
2025-04-16T15:03:55.3462105Z Found 0 failed runs for Security Alerts Report (Alternative)
2025-04-16T15:03:55.3462924Z Processing workflow: Security Alerts Report (156511788)
2025-04-16T15:03:55.5749006Z Found 1 failed runs for Security Alerts Report
2025-04-16T15:03:56.0093657Z Saved logs for job generate-report (40657820058)
2025-04-16T15:03:56.0096317Z Processing workflow: Server Tests (156396504)
2025-04-16T15:03:56.3858081Z Found 7 failed runs for Server Tests
2025-04-16T15:03:56.7805263Z Saved logs for job test (22.x) (40663459741)
2025-04-16T15:03:57.2639113Z Saved logs for job test (22.x) (40659963757)
2025-04-16T15:03:57.4204661Z Saved logs for job lint (22.x) (40659963777)
2025-04-16T15:03:57.8267047Z Saved logs for job lint (22.x) (40656595380)
2025-04-16T15:03:57.9960575Z Saved logs for job test (22.x) (40656595382)
2025-04-16T15:03:58.5626824Z Saved logs for job test (22.x) (40648936051)
2025-04-16T15:03:58.7283104Z Saved logs for job lint (22.x) (40648936076)
2025-04-16T15:03:59.1890416Z Saved logs for job lint (22.x) (40636317715)
2025-04-16T15:03:59.3824150Z Saved logs for job test (22.x) (40636317724)
2025-04-16T15:03:59.6975369Z Saved logs for job lint (22.x) (40636157199)
2025-04-16T15:03:59.8704144Z Saved logs for job test (22.x) (40636157200)
2025-04-16T15:04:00.4177471Z Saved logs for job test (22.x) (40631138589)
2025-04-16T15:04:00.4181937Z Processing workflow: Sync GitHub Insights (Alternative) (156517338)
2025-04-16T15:04:00.5800383Z Found 0 failed runs for Sync GitHub Insights (Alternative)
2025-04-16T15:04:00.8788153Z Processing workflow: Sync GitHub Insights (Fixed) (156518590)
2025-04-16T15:04:00.8790207Z Found 0 failed runs for Sync GitHub Insights (Fixed)
2025-04-16T15:04:00.8791499Z Processing workflow: Sync GitHub Insights (156511789)
2025-04-16T15:04:01.0476303Z Found 3 failed runs for Sync GitHub Insights
2025-04-16T15:04:01.4325352Z Saved logs for job sync-insights (40658529730)
2025-04-16T15:04:01.9336205Z Saved logs for job sync-insights (40657800158)
2025-04-16T15:04:02.3965816Z Saved logs for job sync-insights (40656793753)
2025-04-16T15:04:02.3967103Z Processing workflow: Sync Test Reports (156511790)
2025-04-16T15:04:02.7580070Z Found 2 failed runs for Sync Test Reports
2025-04-16T15:04:03.1320635Z Saved logs for job sync-reports (40656664593)
2025-04-16T15:04:03.6568018Z Saved logs for job sync-reports (40656644372)
2025-04-16T15:04:03.6569282Z Processing workflow: Sync Workflow Error Logs (156531139)
2025-04-16T15:04:04.1265704Z Found 5 failed runs for Sync Workflow Error Logs
2025-04-16T15:04:04.4773186Z Saved logs for job sync-error-logs (40663640084)
2025-04-16T15:04:04.9617711Z Saved logs for job sync-error-logs (40663610469)
2025-04-16T15:04:05.4704639Z Saved logs for job sync-error-logs (40663581882)
2025-04-16T15:04:05.9315715Z Saved logs for job sync-error-logs (40663556539)
2025-04-16T15:04:06.3855991Z Saved logs for job sync-error-logs (40663029643)
2025-04-16T15:04:06.3857925Z Processing workflow: Sync Workflow Error Logs (Robust) (156532769)
2025-04-16T15:04:06.9095730Z Found 7 failed runs for Sync Workflow Error Logs (Robust)
2025-04-16T15:04:07.2691517Z Saved logs for job sync-error-logs (40663680006)
2025-04-16T15:04:07.7168309Z Saved logs for job sync-error-logs (40663676815)
2025-04-16T15:04:08.1695348Z Saved logs for job sync-error-logs (40663640193)
2025-04-16T15:04:08.6250966Z Saved logs for job sync-error-logs (40663610483)
2025-04-16T15:04:08.9398416Z Saved logs for job sync-error-logs (40663581813)
2025-04-16T15:04:09.3868970Z Saved logs for job sync-error-logs (40663556527)
2025-04-16T15:04:09.7987146Z Saved logs for job sync-error-logs (40663489150)
2025-04-16T15:04:09.7989090Z Processing workflow: Sync Workflow Error Logs (156529457)
2025-04-16T15:04:10.1775722Z Found 12 failed runs for Sync Workflow Error Logs
2025-04-16T15:04:10.6758252Z Saved logs for job sync-error-logs (40663762365)
2025-04-16T15:04:10.9978455Z Saved logs for job sync-error-logs (40663734602)
2025-04-16T15:04:11.3421549Z Saved logs for job sync-error-logs (40663704422)
2025-04-16T15:04:11.7654421Z Saved logs for job sync-error-logs (40663657651)
2025-04-16T15:04:12.1585943Z Saved logs for job sync-error-logs (40663640395)
2025-04-16T15:04:12.6573613Z Saved logs for job sync-error-logs (40663610514)
2025-04-16T15:04:13.1074516Z Saved logs for job sync-error-logs (40663581717)
2025-04-16T15:04:13.5635153Z Saved logs for job sync-error-logs (40663556577)
2025-04-16T15:04:13.9577476Z Saved logs for job sync-error-logs (40663029928)
2025-04-16T15:04:14.3982283Z Saved logs for job sync-error-logs (40662993597)
2025-04-16T15:04:14.7185322Z Saved logs for job sync-error-logs (40662475242)
2025-04-16T15:04:15.2045425Z Saved logs for job sync-error-logs (40662446363)
2025-04-16T15:04:15.2047618Z Processing workflow: Dependabot Updates (153911032)
2025-04-16T15:04:16.1176021Z Found 15 failed runs for Dependabot Updates
2025-04-16T15:04:16.5975839Z Saved logs for job Dependabot (40657560162)
2025-04-16T15:04:17.0264803Z Saved logs for job Dependabot (40657559762)
2025-04-16T15:04:17.5211850Z Saved logs for job Dependabot (40657410431)
2025-04-16T15:04:18.0170087Z Saved logs for job Dependabot (40657409984)
2025-04-16T15:04:18.5165397Z Saved logs for job Dependabot (40656602439)
2025-04-16T15:04:19.0519095Z Saved logs for job Dependabot (40656599224)
2025-04-16T15:04:19.5249427Z Saved logs for job Dependabot (40656599232)
2025-04-16T15:04:19.9703128Z Saved logs for job Dependabot (40648953960)
2025-04-16T15:04:20.3448010Z Saved logs for job Dependabot (40636173412)
2025-04-16T15:04:20.8292341Z Saved logs for job Dependabot (40635535253)
2025-04-16T15:04:21.1709874Z Saved logs for job Dependabot (40620670121)
2025-04-16T15:04:21.6520043Z Saved logs for job Dependabot (40620661666)
2025-04-16T15:04:22.2362559Z Saved logs for job Dependabot (40615377452)
2025-04-16T15:04:22.7909928Z Saved logs for job Dependabot (40615364053)
2025-04-16T15:04:23.1672592Z Saved logs for job Dependabot (40405591413)
2025-04-16T15:04:23.1675769Z Workflow error logs sync completed
2025-04-16T15:04:23.1803769Z ##[group]Run cat > workflow-error-logs/README.md << 'EOF'
2025-04-16T15:04:23.1804955Z [36;1mcat > workflow-error-logs/README.md << 'EOF'[0m
2025-04-16T15:04:23.1805464Z [36;1m# Workflow Error Logs[0m
2025-04-16T15:04:23.1805879Z [36;1m[0m
2025-04-16T15:04:23.1806890Z [36;1mThis directory contains logs from failed GitHub Actions workflow runs. These logs are automatically collected by the "Sync Workflow Error Logs" workflow.[0m
2025-04-16T15:04:23.1807981Z [36;1m[0m
2025-04-16T15:04:23.1808291Z [36;1m## Directory Structure[0m
2025-04-16T15:04:23.1808684Z [36;1m[0m
2025-04-16T15:04:23.1808960Z [36;1m```[0m
2025-04-16T15:04:23.1809273Z [36;1mworkflow-error-logs/[0m
2025-04-16T15:04:23.1809700Z [36;1m├── {workflow-name}/[0m
2025-04-16T15:04:23.1810126Z [36;1m│   ├── {date}_{run-id}/[0m
2025-04-16T15:04:23.1810607Z [36;1m│   │   ├── metadata.json       # Run metadata[0m
2025-04-16T15:04:23.1811123Z [36;1m│   │   ├── jobs.json           # Jobs metadata[0m
2025-04-16T15:04:23.1811662Z [36;1m│   │   ├── {job-name}/[0m
2025-04-16T15:04:23.1812121Z [36;1m│   │   │   ├── job-metadata.json  # Job metadata[0m
2025-04-16T15:04:23.1812656Z [36;1m│   │   │   └── logs.txt           # Job logs[0m
2025-04-16T15:04:23.1813105Z [36;1m│   │   └── ...[0m
2025-04-16T15:04:23.1813452Z [36;1m│   └── ...[0m
2025-04-16T15:04:23.1813792Z [36;1m└── ...[0m
2025-04-16T15:04:23.1814289Z [36;1m```[0m
2025-04-16T15:04:23.1814582Z [36;1m[0m
2025-04-16T15:04:23.1814869Z [36;1m## Using These Logs[0m
2025-04-16T15:04:23.1815218Z [36;1m[0m
2025-04-16T15:04:23.1816142Z [36;1mThese logs can be used to diagnose and fix issues with GitHub Actions workflows. Look for error messages, failed steps, and other indicators of problems.[0m
2025-04-16T15:04:23.1817164Z [36;1m[0m
2025-04-16T15:04:23.1817451Z [36;1m## Automatic Collection[0m
2025-04-16T15:04:23.1817840Z [36;1m[0m
2025-04-16T15:04:23.1818127Z [36;1mLogs are collected:[0m
2025-04-16T15:04:23.1818547Z [36;1m- After any workflow completes[0m
2025-04-16T15:04:23.1819012Z [36;1m- Every 6 hours via scheduled run[0m
2025-04-16T15:04:23.1819483Z [36;1m- Manually via workflow dispatch[0m
2025-04-16T15:04:23.1819900Z [36;1m[0m
2025-04-16T15:04:23.1820178Z [36;1m## Retention[0m
2025-04-16T15:04:23.1820507Z [36;1m[0m
2025-04-16T15:04:23.1820869Z [36;1mOnly logs from the past 30 days are collected.[0m
2025-04-16T15:04:23.1821373Z [36;1mEOF[0m
2025-04-16T15:04:23.1889740Z shell: /usr/bin/bash -e {0}
2025-04-16T15:04:23.1890109Z env:
2025-04-16T15:04:23.1890392Z   CI: true
2025-04-16T15:04:23.1890684Z ##[endgroup]
2025-04-16T15:04:23.2041634Z ##[group]Run git config --local user.email "action@github.com"
2025-04-16T15:04:23.2042352Z [36;1mgit config --local user.email "action@github.com"[0m
2025-04-16T15:04:23.2042953Z [36;1mgit config --local user.name "GitHub Action"[0m
2025-04-16T15:04:23.2043437Z [36;1m[0m
2025-04-16T15:04:23.2044245Z [36;1m# Pull the latest changes with rebase strategy to avoid merge commits[0m
2025-04-16T15:04:23.2044915Z [36;1mgit pull --rebase origin main[0m
2025-04-16T15:04:23.2045349Z [36;1m[0m
2025-04-16T15:04:23.2045673Z [36;1mgit add workflow-error-logs[0m
2025-04-16T15:04:23.2046075Z [36;1m[0m
2025-04-16T15:04:23.2046413Z [36;1m# Only commit if there are changes[0m
2025-04-16T15:04:23.2046875Z [36;1mif git diff --staged --quiet; then[0m
2025-04-16T15:04:23.2047344Z [36;1m  echo "No changes to commit"[0m
2025-04-16T15:04:23.2047758Z [36;1melse[0m
2025-04-16T15:04:23.2048199Z [36;1m  git commit -m "Update workflow error logs [skip ci]"[0m
2025-04-16T15:04:23.2049059Z [36;1m  git push[0m
2025-04-16T15:04:23.2049391Z [36;1mfi[0m
2025-04-16T15:04:23.2109605Z shell: /usr/bin/bash -e {0}
2025-04-16T15:04:23.2109992Z env:
2025-04-16T15:04:23.2110274Z   CI: true
2025-04-16T15:04:23.2110578Z ##[endgroup]
2025-04-16T15:04:23.6918349Z error: cannot pull with rebase: You have unstaged changes.
2025-04-16T15:04:23.6944160Z error: Please commit or stash them.
2025-04-16T15:04:23.6956947Z ##[error]Process completed with exit code 128.
2025-04-16T15:04:23.7049825Z Post job cleanup.
2025-04-16T15:04:23.8051673Z [command]/usr/bin/git version
2025-04-16T15:04:23.8097279Z git version 2.49.0
2025-04-16T15:04:23.8145393Z Temporarily overriding HOME='/home/runner/work/_temp/7f7e5b7c-f5a1-43a5-96a9-6668bd5daf27' before making global git config changes
2025-04-16T15:04:23.8147031Z Adding repository directory to the temporary git global config as a safe directory
2025-04-16T15:04:23.8163610Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/date-night-app2/date-night-app2
2025-04-16T15:04:23.8201271Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-04-16T15:04:23.8239018Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-04-16T15:04:23.8486796Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-04-16T15:04:23.8511020Z http.https://github.com/.extraheader
2025-04-16T15:04:23.8526618Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-04-16T15:04:23.8562162Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-04-16T15:04:23.8916391Z Cleaning up orphan processes
